import{G as r,u as o,j as s,c as m,R as d,l as u,C as h,N as x,e as j}from"./index-CMKGjvil.js";import{u as N,c as g,a as p}from"./formik.esm-PXS3-tw9.js";import{C as l}from"./Card-ltuRbL1m.js";function f(c){return r({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"},child:[]},{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]}]})(c)}const w=()=>{const c=o();return N({initialValues:{token:"",submit:null},validationSchema:g({token:p().length(4,"Token ต้องมี 4 ตัวอักษร").required("กรุณากรอก Token")}),onSubmit:async(n,{setErrors:i,setSubmitting:t})=>{t(!0);try{(await j(n.token)).message==="Account activated successfully. You can now log in."&&(alert("ยืนยันอีเมล์สำเร็จ!"),c("/auth/activate-success"))}catch(e){let a="เกิดข้อผิดพลาดในการยืนยันอีเมล์";e.message.includes("400")?a="Token ไม่ถูกต้อง กรุณาตรวจสอบอีกครั้ง":e.message.includes("404")?a="ไม่พบ Token นี้ กรุณาขอ Token ใหม่":e.message.includes("500")&&(a="เกิดข้อผิดพลาดในระบบ กรุณาลองใหม่ภายหลัง"),i({submit:a})}finally{t(!1)}}}),s.jsx(m.Fragment,{children:s.jsx("div",{className:"auth-wrapper",children:s.jsxs("div",{className:"auth-content text-center",children:[s.jsxs("div",{className:"auth-bg",children:[s.jsx("span",{className:"r"}),s.jsx("span",{className:"r s"}),s.jsx("span",{className:"r s"}),s.jsx("span",{className:"r"})]}),s.jsx(l,{className:"borderless text-center",children:s.jsx(l.Body,{children:s.jsxs(d,{className:"justify-content-center",children:[s.jsx("div",{className:"mb-0",children:s.jsx("img",{className:"img-fluid",src:u,alt:"logo",width:120})}),s.jsxs(h,{md:12,children:[s.jsx(f,{size:60,className:"text-success mb-4"}),s.jsx("h3",{className:"mb-4",children:"ยืนยันอีเมล์สำเร็จ!"}),s.jsx("p",{className:"mb-4",children:"ขอบคุณที่ยืนยันตัวตนของคุณ ตอนนี้บัญชีของคุณพร้อมใช้งานแล้ว"}),s.jsxs("p",{className:"mb-2",children:["Already have an account?"," ",s.jsx(x,{to:"/auth/signin",className:"f-w-400",children:"Login"})]})]})]})})})]})})})};export{w as default};
