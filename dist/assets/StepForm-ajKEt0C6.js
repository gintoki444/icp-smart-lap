import{aC as ze,aD as Fe,r as f,M as Me,aE as we,aF as Ae,j as e,K as Re,R as b,C as l,B as z,F as qe,v as $e}from"./index-CMKGjvil.js";import{C as D}from"./CountrySelect-5rKmeoAR.js";import{S as A}from"./react-select.esm-Df4SyQAq.js";import{g as De}from"./packageingTypeRequest-CUTcv2jf.js";import{c as Ge}from"./testItemsRequest-CIY3wZGW.js";import{u as Le}from"./index-NmPNhDG7.js";import{d as Se}from"./uploadFileRequest-j7nqPy1R.js";import{j as Ie}from"./serviceRequest-CJ15hpJs.js";import{c as se,a as h,e as te,g as ae,h as R}from"./formik.esm-PXS3-tw9.js";import{g as Ee}from"./fertilizerMainRequest-kGbpd_0A.js";import{i as Be,g as Te}from"./fertilizerFormulasRequest-DNgpnBu6.js";import{C as F}from"./Card-ltuRbL1m.js";import{F as t}from"./Form-XAT3KesX.js";import{M as q}from"./Modal-KDP3gSJa.js";import{T as Oe}from"./TextField-l4tn0KBj.js";function He(u,p=ze,N=Fe){const _=[];return Object.entries(u).forEach(([y,d])=>{d!=null&&(typeof d=="object"?p.forEach(g=>{const k=d[g];if(k!=null){const j=g!==N?`-${g}`:"";_.push(`${y}${j}-${k}`)}}):_.push(`${y}-${d}`))}),_}const M=f.forwardRef(({as:u="div",bsPrefix:p,className:N,direction:_,gap:y,...d},g)=>{p=Me(p,_==="horizontal"?"hstack":"vstack");const k=we(),j=Ae();return e.jsx(u,{...d,ref:g,className:Re(N,p,...He({gap:y},k,j))})});M.displayName="Stack";const is=({values:u,errors:p,touched:N,setFieldValue:_,fertilizerTypes:y,company:d,spacialCon:g,handleChange:k,handleBlur:j,sampleType:v,validateForm:G})=>{const[re,w]=f.useState(!1),[L,S]=f.useState(null),[i,P]=f.useState({}),[I,W]=f.useState([]),[U,E]=f.useState([]),[r,c]=f.useState({request_id:null,fertilizer_main_id:null,fertilizerCategory:null,fertilizer_type_id:null,color:"",formula_id:null,fertilizer_formula:"",common_name:"",trade_name:"",trademark:"",manufacturer:"",manufacturer_country:"TH",supplier:"",supplier_country:"TH",composition:"",sample_weight:null,sample_weight_unit:null,packaging_id:null,packaging_other:null,submission_id:null,test_items:[],reportMethod:[],email:"",sameAddress:!0,mail_delivery_location:"",phone:"",other_requirements:"",sampleDisposal:"is_lab_dispose_sample",is_self_pickup:0,pdf_email:"",is_mail_delivery:0,is_lab_dispose_sample:1,is_collect_within_3_months:0,is_return_sample:0,test_all_items:!0,submitted_by:"",submitted_date:new Date().toISOString().split("T")[0],submitted_phone:""}),ie=[{value:"is_registration_analysis",label:"วิเคราะห์เพื่อขึ้นทะเบียน"},{value:"is_quality_check_analysis",label:"วิเคราะห์เพื่อตรวจสอบคุณภาพ"}];f.useEffect(()=>{le(),B(),de(),ce()},[]);const le=async()=>{try{const a=(await Ee()).map(n=>({value:n.fertilizer_main_id,label:n.fertilizer_main_name_th}));W(a)}catch(s){console.error("Error fetching fertilizer formulas:",s),W([])}},B=async s=>{try{if(s){const n=(await Be(s)).map(m=>({value:m.formula_id,label:m.formula_code}));console.log("formattedOptions",n),E(n)}else{const n=(await Te()).map(m=>({value:m.formula_id,label:m.formula_code}));E(n)}}catch(a){console.error("Error fetching fertilizer formulas:",a),E([])}};[{value:"is_single_fertilizer",label:"เชิงเดี่ยว"},{value:"is_compound_fertilizer",label:"เชิงประกอบ"},{value:"is_mixed_fertilizer",label:"เชิงผสม"},{value:"is_secondary_nutrient_fertilizer",label:"ธาตุอาหารรอง-อาหารเสริม"}].filter(s=>r.fertilizer_main_id===1?["is_single_fertilizer","is_compound_fertilizer"].includes(s.value):r.fertilizer_main_id===2?["is_mixed_fertilizer","is_secondary_nutrient_fertilizer"].includes(s.value):!0);const T=[{value:"g",label:"กรัม"},{value:"kg",label:"กิโลกรัม"},{value:"oz",label:"ออนซ์"},{value:"ml",label:"มิลลิลิตร"},{value:"L",label:"ลิตร"}],[O,ne]=f.useState([]),[K,J]=f.useState([]),de=async()=>{const s=await De();ne(s)},ce=async()=>{try{const s=await Ge(v);J(s)}catch(s){console.error("Error fetching test items:",s),J([])}},oe=(s,a)=>{c({...r,[s]:a?a.value:null,fertilizerCategory:null}),B(a.value)},me=(s,a)=>{console.log("selectedOption:",a),c({...r,[s]:a?a.value:null,fertilizer_formula:a?a.label:""})},he=async()=>{try{if(console.log("formData before validation:",r),await _e.validate(r,{abortEarly:!1,context:{sample_type_id:v}}),L!==null){const s=[...u.fertilizerRecords];s[L]=r,_("fertilizerRecords",s),S(null)}else _("fertilizerRecords",[...u.fertilizerRecords,r]);w(!1),c({...r,fertilizer_main_id:null,fertilizerCategory:null,fertilizer_type_id:null,fertilizer_other:null,color:"",formula_id:null,fertilizer_formula:"",common_name:"",trade_name:"",trademark:"",manufacturer:"",manufacturer_country:"TH",supplier:"",supplier_country:"TH",composition:"",sample_weight:null,sample_weight_unit:null,packaging_id:null,packaging_other:null,test_items:[],reportMethod:[],email:"",sameAddress:!0,mail_delivery_location:(d==null?void 0:d.document_address)||"",phone:"",other_requirements:"",sampleDisposal:"is_lab_dispose_sample",test_all_items:1,submitted_by:"",submitted_date:"",submitted_phone:""}),P({})}catch(s){console.log("Caught error:",s);const a={};s.name==="ValidationError"&&Array.isArray(s.inner)?s.inner.forEach(n=>{a[n.path]=n.message}):a.general=s.message||"เกิดข้อผิดพลาดในการตรวจสอบข้อมูล",P(a),console.log("Validation errors in Modal:",a)}},_e=se({fertilizer_main_id:R().nullable().test("fertilizer-main-required","กรุณาเลือกประเภทปุ๋ยหลัก",function(s){const{sample_type_id:a}=this.options.context||this.parent;return a===2?s!=null:!0}),fertilizer_type_id:R().typeError("กรุณาเลือกประเภทลักษณะปุ๋ย").required("กรุณาเลือกประเภทลักษณะปุ๋ย"),fertilizer_other:h().test("fertilizer-other-required","กรุณาระบุลักษณะปุ๋ย",function(s){const{fertilizer_type_id:a}=this.parent;return a===5?s&&s.trim()!=="":!0}),packaging_id:R().typeError("กรุณาเลือกภาชนะบรรจุ").required("กรุณาเลือกภาชนะบรรจุ"),packaging_other:h().test("packaging-other-required","กรุณาระบุภาชนะบรรจุ",function(s){const{packaging_id:a}=this.parent;return a===6?s&&s.trim()!=="":!0}),color:h().required("กรุณาระบุสี"),formula_id:h().nullable(),fertilizer_formula:h().test("fertilizer_formula","กรุณาระบุสูตรปุ๋ย",function(s){const{sample_type_id:a}=this.options.context||this.parent;return a===2?s&&s.trim()!=="":!0}),common_name:h().test("common_name","กรุณาระบุชื่อสามัญ",function(s){const{sample_type_id:a}=this.options.context||this.parent;return a===2?s&&s.trim()!=="":!0}),trade_name:h().required("กรุณาระบุชื่อการค้า"),trademark:h().required("กรุณาระบุเครื่องหมายการค้า"),manufacturer:h().required("กรุณาระบุชื่อผู้ผลิต"),manufacturer_country:h().required("กรุณาระบุประเทศของผู้ผลิต"),supplier:h().required("กรุณาระบุชื่อผู้จัดจำหน่าย"),supplier_country:h().required("กรุณาระบุประเทศของผู้จัดจำหน่าย"),composition:h().required("กรุณาระบุวัตถุส่วนประกอบของปุ๋ย"),sample_weight:R().typeError("ปริมาณต้องเป็นตัวเลข").required("กรุณาระบุปริมาณ"),sample_weight_unit:h().required("กรุณาระบุหน่วย"),test_items:ae().min(1,"กรุณาเลือกอย่างน้อยหนึ่งรายการทดสอบ").of(se({test_item_id:R().required("ต้องระบุรายการทดสอบ"),test_percentage:h().nullable().test("percentage-format","เปอร์เซ็นต์ต้องเป็นตัวเลขที่มากกว่าหรือเท่ากับ 0",function(s){const{test_item_id:a}=this.parent;return a!==43||a===23?!s||s.trim()===""?!0:!isNaN(s)&&Number(s)>=0:!0}),additional_test_detail:h().test("additional-test-detail-required","กรุณาระบุรายละเอียดการทดสอบเพิ่มเติม",function(s){const{test_item_id:a}=this.parent;return a===23?s&&s.trim()!=="":!0})})),reportMethod:ae().min(1,"กรุณาเลือกวิธีการรับรายงานอย่างน้อยหนึ่งวิธี").of(h().oneOf(["is_self_pickup","pdf_email","is_mail_delivery"],"วิธีการรับรายงานไม่ถูกต้อง")),email:h().test("email-required","กรุณาระบุอีเมลสำหรับรับผลตรวจ",function(s){const a=this.parent.reportMethod;return Array.isArray(a)&&a.includes("pdf_email")?s&&h().email("กรุณาระบุอีเมลที่ถูกต้อง").isValidSync(s):!0}),sameAddress:te(),mail_delivery_location:h().test("address-required","กรุณาระบุที่อยู่จัดส่ง",function(s){const{reportMethod:a,sameAddress:n}=this.parent;return Array.isArray(a)&&a.includes("is_mail_delivery")&&!n?s&&s.trim()!=="":!0}),phone:h().test("phone-required","กรุณาระบุเบอร์โทรศัพท์ 9-10 หลัก",function(s){const{reportMethod:a,sameAddress:n}=this.parent;return Array.isArray(a)&&a.includes("is_mail_delivery")&&!n?s&&/^\d{9,10}$/.test(s):!0}),sampleDisposal:h().required("กรุณาเลือกวิธีการจำหน่ายตัวอย่าง").oneOf(["is_lab_dispose_sample","is_collect_within_3_months","is_return_sample"],"วิธีการจำหน่ายตัวอย่างไม่ถูกต้อง"),test_all_items:te().required("กรุณาเลือกขอบเขตการทดสอบ"),submitted_by:h().required("กรุณาระบุชื่อผู้ส่งตัวอย่าง"),submitted_phone:h().required("กรุณาระบุเบอร์โทรศัพท์ผู้ส่งตัวอย่าง").matches(/^\d{9,10}$/,"กรุณาระบุเบอร์โทรศัพท์ 9-10 หลัก"),submitted_date:h().required("กรุณาเลือกวันที่ส่ง")}),xe=s=>{const a=u.fertilizerRecords[s];console.log("values.fertilizerRecords[index]:",u.fertilizerRecords[s]),a.fertilizer_main_id&&B(a.fertilizer_main_id),c({...a,sameAddress:a.sameAddress!==void 0?a.sameAddress:!0,mail_delivery_location:a.mail_delivery_location||(a.sameAddress&&(d!=null&&d.document_address)?d.document_address:"")}),S(s),w(!0)},ue=s=>{const a=u.fertilizerRecords.filter((n,m)=>m!==s);_("fertilizerRecords",a),G()},pe=()=>{S(null),w(!0),c({...r,sameAddress:!0,mail_delivery_location:(d==null?void 0:d.document_address)||""})},je=s=>[1,3,5,7,10,15].includes(s),ge=(s,a)=>{const n=a?[...r.test_items,{test_item_id:s,test_percentage:""}]:r.test_items.filter(m=>m.test_item_id!==s);c({...r,test_items:n})},Q=(s,a)=>{const n=r.test_items.map(m=>m.test_item_id===s?{...m,test_percentage:a}:m);c({...r,test_items:n})},fe=(s,a)=>{const n=r.test_items.map(m=>m.test_item_id===s?{...m,additional_test_detail:a}:m);c({...r,test_items:n})},X=[{value:"is_self_pickup",label:"รับด้วยตนเอง"},{value:"pdf_email",label:"ต้องการไฟล์ pdf เพิ่มเติมทาง E-mail"},{value:"is_mail_delivery",label:"ส่งทางไปรษณีย์"}],Y=[{value:"is_lab_dispose_sample",label:"ให้ห้องปฏิบัติการจำหน่ายตัวอย่าง"},{value:"is_collect_within_3_months",label:"มารับตัวอย่างคืนภายใน 3 เดือน"},{value:"is_return_sample",label:"ให้ห้องปฏิบัติการจัดส่งตัวอย่างคืน"}],be=s=>s.map(a=>{var n;return((n=X.find(m=>m.value===a))==null?void 0:n.label)||a}).join(", "),Z=s=>{c({...r,sameAddress:s,mail_delivery_location:s&&(d!=null&&d.document_address)?d.document_address:r.mail_delivery_location}),_("sameAddress",s),s&&_("mail_delivery_location",(d==null?void 0:d.document_address)||"")},Ne=(s,a)=>{const n=a?[...r.reportMethod,s]:r.reportMethod.filter(m=>m!==s);c({...r,reportMethod:n}),_("reportMethod",n)},{getRootProps:ye,getInputProps:ve,isDragActive:V}=Le({onDrop:s=>{const a=Array.isArray(u.files)?u.files:[];_("files",[...a,...s]),setTimeout(()=>G(),0)},accept:{"image/*":[".png",".jpg",".jpeg",".gif"],"application/pdf":[".pdf"]}}),ke=async s=>{const a=u.files[s];if(window.confirm('คุณแน่ใจหรือไม่ว่าต้องการลบไฟล์ "'+a.name+'"? การลบนี้จะลบไฟล์ออกจากระบบทันทีและไม่สามารถกู้คืนได้'))try{a.document_id&&(await Se(a.path),await Ie(a.document_id));const m=u.files.filter((o,$)=>$!==s);_("files",m),G()}catch(m){console.error("Error removing file:",m),alert("เกิดข้อผิดพลาดในการลบไฟล์ กรุณาลองใหม่")}};return e.jsx(b,{children:e.jsxs(l,{children:[e.jsx(F,{className:"m-0",children:e.jsxs(F.Body,{className:"pb-2 pt-4",children:[e.jsx("h6",{children:"ข้อมูลผู้ขอขึ้นทะเบียน"}),e.jsxs(b,{className:"mb-3",children:[e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["รหัสลูกค้า : ",e.jsx("strong",{className:"text-dark",children:d.company_code}),e.jsx("span",{className:"text-dark",children:" (กรณีมีการเปลี่ยนแปลง ชื่อ, ที่อยู่ กรุณาแจ้งห้องปฏิบัติการ)"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ชื่อบริษัท : ",e.jsx("strong",{className:"text-dark",children:d.company_name})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["เลขที่ผู้เสียภาษี : ",e.jsx("strong",{className:"text-dark",children:d.tax_id})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ที่อยู่ : ",e.jsx("strong",{className:"text-dark",children:d.company_address})]})}),e.jsx(l,{md:6,children:e.jsxs("p",{className:"mb-0",children:["เงื่อนไขพิเศษ :"," ",e.jsx("strong",{className:"text-dark",children:g.length>0?g.map((s,a)=>`${s.description}${a<g.length-1?", ":""}`):"-"})]})})]}),v===1&&e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs("h6",{className:"mb-2",children:["วัตถุประสงค์การขอรับบริการ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Group,{children:ie.map((s,a)=>e.jsx(t.Check,{inline:!0,type:"radio",name:"analysisMethod",value:s.value,label:s.label,checked:u.analysisMethod===s.value,onChange:k,onBlur:j,id:`analysisMethod${a}`,isInvalid:N.analysisMethod&&!!p.analysisMethod},a))}),N.analysisMethod&&p.analysisMethod&&e.jsx(t.Control.Feedback,{type:"invalid",style:{display:"block"},children:p.analysisMethod})]}),e.jsxs("h6",{className:"mb-3",children:["ข้อมูลตัวอย่าง",e.jsx("span",{className:"text-danger",children:" *"})]}),u.fertilizerRecords.length===0?e.jsx("p",{className:"text-muted",children:"ยังไม่มีข้อมูลตัวอย่าง"}):e.jsx(b,{className:"ps-3 pe-3 mb-2",children:u.fertilizerRecords.map((s,a)=>{var n,m,o,$,ee;return e.jsxs(F,{className:"mb-3 shadow-sm rounded p-0",children:[e.jsx(F.Header,{className:"pt-3 pb-3",style:{backgroundColor:"#f8f9fa"},children:e.jsxs("h5",{children:["ตัวอย่างที่ ",a+1,v===2&&e.jsxs(e.Fragment,{children:[" ","สูตรปุ๋ย : ",e.jsx("strong",{className:"text-dark",children:s.fertilizer_formula||"-"})," (ชื่อสามัญ :"," ",e.jsx("strong",{className:"text-dark",children:s.common_name||"-"}),")"]})]})}),e.jsx(F.Body,{className:"p-4 pt-3 pb-3",children:e.jsxs(b,{children:[s.fertilizer_main_id&&e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ประเภทของปุ๋ย :"," ",e.jsx("strong",{className:"text-dark",children:(n=I.find(x=>x.value===s.fertilizer_main_id))==null?void 0:n.label})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ลักษณะปุ๋ย :"," ",e.jsxs("strong",{className:"text-dark",children:[((m=y.find(x=>x.fertilizer_type_id===s.fertilizer_type_id))==null?void 0:m.fertilizer_type_name)||"-",s.fertilizer_other&&` (${s.fertilizer_other})`]})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["สี : ",e.jsx("strong",{className:"text-dark",children:s.color||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ชื่อการค้า : ",e.jsx("strong",{className:"text-dark",children:s.trade_name||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["เครื่องหมายการค้า : ",e.jsx("strong",{className:"text-dark",children:s.trademark||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ผู้ผลิต (บริษัท/ห้าง/ร้าน) : ",e.jsx("strong",{className:"text-dark",children:s.manufacturer||"-"})," ประเทศ :"," ",e.jsx(D,{name:"country",label:"ประเทศ",value:s.manufacturer_country||"-",onChange:(x,C)=>console.log(x,C),showText:!0})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["สั่งจาก (บริษัท/ห้าง/ร้าน) : ",e.jsx("strong",{className:"text-dark",children:s.supplier||"-"})," ประเทศ :"," ",e.jsx(D,{name:"country",label:"ประเทศ",value:s.supplier_country||"-",onChange:(x,C)=>console.log(x,C),showText:!0})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["วัตถุส่วนประกอบของปุ๋ย : ",e.jsx("strong",{className:"text-dark",children:s.composition||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ปริมาณ : ",e.jsx("strong",{className:"text-dark",children:s.sample_weight||"-"})," ",e.jsx("strong",{className:"text-dark",children:((o=T.find(x=>x.value===s.sample_weight_unit))==null?void 0:o.label)||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ภาชนะบรรจุ :"," ",e.jsxs("strong",{className:"text-dark",children:[(($=O.find(x=>x.packaging_type_id===s.packaging_id))==null?void 0:$.packaging_type_name)||"-",s.packaging_other&&` (${s.packaging_other})`]})]})}),e.jsx(l,{md:12,className:"mb-2",children:e.jsxs(l,{children:["รายการทดสอบ :"," ",s.test_items.length>0?s.test_items.map((x,C)=>{const H=K.find(Ce=>Ce.test_item_id===x.test_item_id);return e.jsxs("li",{className:"list-group-item text-dark",style:{display:"inline-flex",fontWeight:"bold"},children:[(H==null?void 0:H.test_name)||`รายการ ${x.test_item_id}`,x.test_percentage?` (${x.additional_test_detail?x.additional_test_detail:""}${x.test_percentage} ${x.test_item_id!==43?"%":"เมช"})`:x.additional_test_detail&&` (${x.additional_test_detail})`,C+1<s.test_items.length&&",  "]},`list-group-item-${C}`)}):e.jsx("p",{className:"text-muted",children:"ยังไม่มีรายการทดสอบ"})]})}),e.jsxs(l,{md:12,className:"mb-2 ",children:[e.jsxs("p",{className:"mb-1",children:["การรับรายงานผล : ",e.jsx("strong",{className:"text-dark",children:be(s.reportMethod)})]}),s.reportMethod.includes("pdf_email")&&e.jsxs("p",{className:"mb-1",children:["E-mail สำหรับรับผลตรวจ : ",e.jsx("strong",{className:"text-dark",children:s.email||"-"})]}),s.reportMethod.includes("is_mail_delivery")&&e.jsxs("p",{className:"mb-1",children:["ที่อยู่จัดส่ง : ",e.jsx("strong",{className:"text-dark",children:s.mail_delivery_location||"-"})]})]}),e.jsxs(l,{md:6,className:"mb-1",children:["วิธีการจำหน่ายตัวอย่าง :"," ",e.jsx("strong",{className:"text-dark",children:((ee=Y.find(x=>x.value===s.sampleDisposal))==null?void 0:ee.label)||"-"})]}),e.jsxs(l,{md:12,className:"mb-1",children:["ความต้องการอื่น : ",e.jsx("strong",{className:"text-dark",children:s.other_requirements||"-"})]}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ผู้ส่งตัวอย่าง : ",e.jsx("strong",{className:"text-dark",children:s.submitted_by||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["เบอร์โทรศัพท์ผู้ส่ง : ",e.jsx("strong",{className:"text-dark",children:s.submitted_phone||"-"})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["วันที่ส่ง : ","",e.jsx("strong",{className:"text-dark",children:new Date(s.submitted_date).toLocaleDateString("th-TH")||"-"})]})})]})}),e.jsxs(F.Footer,{className:"d-flex justify-content-start p-3",children:[e.jsxs(z,{variant:"outline-success",onClick:()=>xe(a),className:"me-2",children:[e.jsx(qe,{})," แก้ไข"]}),e.jsxs(z,{variant:"outline-danger",onClick:()=>ue(a),children:[e.jsx($e,{})," ลบ"]})]})]},a)})}),N.fertilizerRecords&&p.fertilizerRecords&&typeof p.fertilizerRecords=="string"&&e.jsx("div",{className:"text-danger mb-4",children:p.fertilizerRecords}),e.jsxs(z,{variant:"primary",onClick:pe,className:`mt-2 mb-3\r
            `,children:[e.jsx("i",{className:"feather icon-plus"})," เพิ่ม"]}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{className:"text-dark",children:["ขอบเขตการทดสอบ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsxs("div",{children:[e.jsx(t.Check,{inline:!0,type:"radio",name:"test_all_items",label:"ทดสอบทุกรายการ",checked:r.test_all_items,onChange:()=>{c({...r,test_all_items:!0}),_("test_all_items",!0)},id:"test_all_items-1"}),e.jsx(t.Check,{inline:!0,type:"radio",name:"test_all_items",label:"ทดสอบบางรายการ",checked:!r.test_all_items,onChange:()=>{c({...r,test_all_items:!1}),_("test_all_items",!1)},id:"test_all_items-2"}),e.jsxs(t.Text,{className:"text-muted d-block mt-0",children:[e.jsx("span",{className:"text-danger",children:"* "}),'กรุณาเลือก "ทดสอบบางรายการ" หากไม่ต้องการทดสอบทั้งหมด']})]}),i.test_all_items&&e.jsx(t.Control.Feedback,{type:"invalid",style:{display:"block"},children:i.test_all_items})]}),e.jsx(b,{className:"mt-3",children:e.jsxs(l,{md:12,children:[e.jsxs("h6",{className:"mb-2",children:["เอกสารประกอบ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsxs(t.Group,{className:"mb-3 mt-2",children:[e.jsx(t.Label,{children:"อัพโหลดเอกสาร :"}),e.jsxs("div",{...ye(),style:{border:"2px dashed #04a9f5",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:V?"#e6f7ff":"#f8f9fa"},children:[e.jsx("input",{...ve(),name:"files",onBlur:j}),V?e.jsx("p",{style:{marginBottom:0},children:"Drop your files here..."}):e.jsx("p",{style:{marginBottom:0},children:"Drag and drop files here, or click to select files"})]}),e.jsx("ul",{className:"mt-3",children:u.files&&u.files.length>0?u.files.map((s,a)=>e.jsxs("li",{style:{display:"flex",alignItems:"center"},children:[e.jsx("i",{className:"feather icon-file",style:{marginRight:12}}),s.name,e.jsx(z,{variant:"link",size:"sm",className:"text-danger",style:{marginLeft:10},onClick:()=>ke(a),children:e.jsx("i",{className:"feather icon-trash-2"})})]},a)):e.jsx("li",{children:"ยังไม่มีไฟล์"})}),N.files&&p.files&&e.jsx(t.Control.Feedback,{type:"invalid",style:{display:"block"},children:p.files})]})]})})]})}),e.jsxs(q,{size:"xl",show:re,onHide:()=>w(!1),centered:!0,backdrop:"static",keyboard:!1,children:[e.jsx(q.Header,{closeButton:!0,style:{flexShrink:0},children:e.jsx(q.Title,{className:"text-center",children:e.jsxs("h5",{className:"text-center mb-0",children:[L!==null?"แก้ไขข้อมูลตัวอย่าง":"เพิ่มข้อมูลตัวอย่าง",v===1?e.jsxs(e.Fragment,{children:[" ","(ลงทะเบียนใบนำส่งตัวอย่าง",e.jsx("strong",{style:{color:"#8B4513"},children:" ปุ๋ยอินทรีย์"}),")"]}):e.jsxs(e.Fragment,{children:[" ","(ลงทะเบียนใบนำส่งตัวอย่าง",e.jsx("strong",{style:{color:"#28A745"},children:" ปุ๋ยเคมี"}),")"]})]})})}),e.jsx(q.Body,{children:e.jsx("div",{children:e.jsx(t,{children:e.jsxs(b,{className:"d-flex align-items-start ps-3 pe-3",children:[e.jsx(l,{md:12,children:e.jsxs(b,{className:"mb-2",children:[e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["รหัสลูกค้า : ",e.jsx("strong",{className:"text-dark",children:d.company_code})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ชื่อบริษัท : ",e.jsx("strong",{className:"text-dark",children:d.company_name})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["เลขที่ผู้เสียภาษี : ",e.jsx("strong",{className:"text-dark",children:d.tax_id})]})}),e.jsx(l,{md:6,className:"mb-2",children:e.jsxs("p",{className:"mb-0",children:["ที่อยู่ : ",e.jsx("strong",{className:"text-dark",children:d.company_address})]})}),e.jsx(l,{md:6,children:e.jsxs("p",{className:"mb-0",children:["เงื่อนไขพิเศษ :"," ",e.jsx("strong",{className:"text-dark",children:g.length>0?g.map((s,a)=>`${s.description}${a<g.length-1?", ":""}`):"-"})]})})]})}),e.jsx("h6",{className:"mb-3",children:"ข้อมูลตัวอย่าง"}),v===2&&e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"ประเภทปุ๋ยหลัก"}),e.jsx(A,{options:I,value:I.find(s=>s.value===r.fertilizer_main_id)||null,onChange:s=>oe("fertilizer_main_id",s),styles:{control:s=>({...s,padding:"1px 8px",borderRadius:6,fontSize:15})},placeholder:"เลือกประเภทปุ๋ยหลัก"}),i.fertilizer_main_id&&e.jsx("div",{className:"text-danger",children:i.fertilizer_main_id})]})}),e.jsx(l,{md:6,children:e.jsxs(M,{direction:"horizontal",className:"align-items-end",gap:3,children:[e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsxs(t.Label,{children:["ลักษณะปุ๋ย",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(A,{options:y.map(s=>({value:s.fertilizer_type_id,label:s.fertilizer_type_name||s})),value:y.map(s=>({value:s.fertilizer_type_id,label:s.fertilizer_type_name||s})).find(s=>s.value===r.fertilizer_type_id)||null,styles:{control:s=>({...s,padding:"1px 8px",borderRadius:6,fontSize:15})},onChange:s=>c({...r,fertilizer_type_id:s?s.value:null}),placeholder:"เลือกลักษณะของปุ๋ย"}),i.fertilizer_type_id&&e.jsx("div",{className:"text-danger",children:i.fertilizer_type_id})]}),r.fertilizer_type_id===5&&e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsx(t.Control,{type:"text",placeholder:"ระบุลักษณะปุ๋ย",value:r.fertilizer_other,onChange:s=>c({...r,fertilizer_other:s.target.value}),isInvalid:!!i.fertilizer_other}),e.jsx(t.Control.Feedback,{style:{position:"absolute"},type:"invalid",children:i.fertilizer_other})]})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["สี",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",name:"color",placeholder:"ระบุสีของปุ๋ย",value:r.color,onChange:s=>c({...r,color:s.target.value}),isInvalid:!!i.color}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.color})]})}),v===2&&e.jsxs(e.Fragment,{children:[e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["สูตรปุ๋ย",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(A,{options:U,value:U.find(s=>s.value===r.formula_id)||null,onChange:s=>me("formula_id",s),styles:{control:s=>({...s,padding:"1px 8px",borderRadius:6,fontSize:15})},placeholder:"เลือกสูตรปุ๋ย"}),i.formula_id&&e.jsx("div",{className:"text-danger",children:i.formula_id})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["ชื่อสามัญ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุชื่อสามัญ",value:r.common_name,onChange:s=>c({...r,common_name:s.target.value}),isInvalid:!!i.common_name}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.common_name})]})})]}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["ชื่อการค้า",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุชื่อทางการค้าของปุ๋ย",value:r.trade_name,onChange:s=>c({...r,trade_name:s.target.value}),isInvalid:!!i.trade_name}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.trade_name})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["เครื่องหมายการค้า",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุเครื่องหมายการค้าหากมี",value:r.trademark,onChange:s=>c({...r,trademark:s.target.value}),isInvalid:!!i.trademark}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.trademark})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["ผู้ผลิต (บริษัท/ห้าง/ร้าน/อื่นๆ)",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุชื่อผู้ผลิต",value:r.manufacturer,onChange:s=>c({...r,manufacturer:s.target.value}),isInvalid:!!i.manufacturer}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.manufacturer})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(D,{name:"manufacturer_country",value:r.manufacturer_country,onChange:(s,a)=>c({...r,[s]:a}),errors:i,touched:{manufacturer_country:!0},label:"ประเทศของผู้ผลิต"}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.manufacturer_country})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["สั่งจาก (บริษัท/ห้าง/ร้าน/อื่นๆ)",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุชื่อผู้จัดจำหน่าย",value:r.supplier,onChange:s=>c({...r,supplier:s.target.value}),isInvalid:!!i.supplier}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.supplier})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(D,{name:"supplier_country",value:r.supplier_country,onChange:(s,a)=>c({...r,[s]:a}),errors:i,touched:{supplier_country:!0},label:"ประเทศของผู้จัดจำหน่าย"}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.supplier_country})]})}),e.jsx(l,{md:6,children:e.jsxs(t.Group,{className:"mb-3",children:[e.jsxs(t.Label,{children:["วัตถุส่วนประกอบของปุ๋ย",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",rows:3,placeholder:"ระบุวัตถุดิบหลักที่ใช้ในการผลิตปุ๋ย",value:r.composition,onChange:s=>c({...r,composition:s.target.value}),isInvalid:!!i.composition}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.composition})]})}),e.jsx(l,{md:6,className:"align-items-start",children:e.jsxs(M,{direction:"horizontal",className:"align-items-start",gap:3,children:[e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsxs(t.Label,{children:["ปริมาณ(น้ำหนัก/ปริมาตร)",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",placeholder:"ระบุปริมาณของตัวอย่างปุ๋ย",value:r.sample_weight,onChange:s=>c({...r,sample_weight:s.target.value}),isInvalid:!!i.sample_weight}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.sample_weight})]}),e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsxs(t.Label,{children:["หน่วย(กิโลกรัม/ลิตร) ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx("div",{children:e.jsx(A,{options:T,value:T.find(s=>s.value===r.sample_weight_unit)||null,onChange:s=>c({...r,sample_weight_unit:s?s.value:""}),styles:{control:s=>({...s,padding:"1px 8px",borderRadius:6,fontSize:15})},placeholder:"เลือกหน่วยของปริมาณ",isClearable:!0})}),i.sample_weight_unit&&e.jsx("div",{className:"text-danger",children:i.sample_weight_unit})]})]})}),e.jsx(l,{md:6,children:e.jsxs(M,{direction:"horizontal",className:"align-items-end",gap:3,children:[e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsxs(t.Label,{children:["ภาชนะบรรจุ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(A,{options:O.map(s=>({value:s.packaging_type_id,label:s.packaging_type_name||s})),value:O.map(s=>({value:s.packaging_type_id,label:s.packaging_type_name||s})).find(s=>s.value===r.packaging_id)||null,styles:{control:s=>({...s,padding:"1px 8px",borderRadius:6,fontSize:15})},onChange:s=>c({...r,packaging_id:s?s.value:null}),placeholder:"เลือกประเภทภาชนะที่ใช้บรรจุปุ๋ย"}),i.packaging_id&&e.jsx("div",{className:"text-danger",children:i.packaging_id})]}),r.packaging_id===6&&e.jsxs(t.Group,{className:"mb-3",style:{flex:1},children:[e.jsx(t.Control,{type:"text",placeholder:"ระบุภาชนะบรรจุ",value:r.packaging_other,onChange:s=>c({...r,packaging_other:s.target.value}),isInvalid:!!i.packaging_other}),e.jsx(t.Control.Feedback,{type:"invalid",style:{position:"absolute"},children:i.packaging_other})]})]})}),e.jsx(l,{md:12,children:e.jsxs(t.Group,{className:"mb-2",children:[e.jsxs("h6",{children:["รายการทดสอบ",e.jsx("span",{className:"text-danger",children:" *"})]}),i.test_items&&e.jsx("div",{className:"text-danger",children:i.test_items}),e.jsx(b,{children:K.map(s=>{var a,n,m;return e.jsxs(l,{className:"align-items-start",md:3,xs:4,style:{marginBottom:"10px"},children:[e.jsx(t.Check,{inline:!0,id:`test_item-${s.test_item_id}`,type:"checkbox",label:s.test_name,checked:r.test_items.some(o=>o.test_item_id===s.test_item_id),onChange:o=>ge(s.test_item_id,o.target.checked)}),r.test_items.some(o=>o.test_item_id===s.test_item_id)&&e.jsx(e.Fragment,{children:s.test_item_id===23?e.jsxs(M,{direction:"horizontal",className:"align-items-center",gap:1,children:[e.jsx(t.Control,{type:"text",placeholder:"ระบุการทดสอบ",value:((a=r.test_items.find(o=>o.test_item_id===s.test_item_id))==null?void 0:a.additional_test_detail)||"",onChange:o=>fe(s.test_item_id,o.target.value),style:{flex:1,minWidth:"145px"},isInvalid:!!i[`test_items[${r.test_items.findIndex(o=>o.test_item_id===s.test_item_id)}].additional_test_detail`]}),e.jsx(t.Control,{type:"text",placeholder:"0",value:((n=r.test_items.find(o=>o.test_item_id===s.test_item_id))==null?void 0:n.test_percentage)||"",onChange:o=>Q(s.test_item_id,o.target.value),style:{display:"inline-block",width:"25%",minWidth:"63px",marginLeft:"10px",padding:"10px"},isInvalid:!!i[`test_items[${r.test_items.findIndex(o=>o.test_item_id===s.test_item_id)}].test_percentage`]})," ","%"]}):e.jsxs(e.Fragment,{children:[e.jsx(t.Control,{type:"text",placeholder:"0",value:((m=r.test_items.find(o=>o.test_item_id===s.test_item_id))==null?void 0:m.test_percentage)||"",onChange:o=>Q(s.test_item_id,o.target.value),style:{display:"inline-block",width:"25%",minWidth:"63px",padding:"10px"},isInvalid:!!i[`test_items[${r.test_items.findIndex(o=>o.test_item_id===s.test_item_id)}].test_percentage`]})," ",s.test_item_id!==43?"%":"เมช"]})}),je(s.test_item_id)&&r.test_items.some(o=>o.test_item_id===s.test_item_id)&&e.jsx(t.Control.Feedback,{type:"invalid",children:i[`test_items[${r.test_items.findIndex(o=>o.test_item_id===s.test_item_id)}].test_percentage`]}),s.test_item_id===23&&r.test_items.some(o=>o.test_item_id===s.test_item_id)&&e.jsx(t.Control.Feedback,{type:"invalid",children:i[`test_items[${r.test_items.findIndex(o=>o.test_item_id===s.test_item_id)}].additional_test_detail`]})]},s.test_item_id)})})]})}),e.jsx(l,{md:12,children:e.jsxs(t.Group,{className:"mb-2",children:[e.jsxs("h6",{className:"mb-3",children:["การรับรายงานผล",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx("div",{children:X.map((s,a)=>e.jsxs(M,{direction:"row",spacing:1,sx:{mb:2},children:[e.jsx(t.Check,{type:"checkbox",name:"reportMethod",value:s.value,label:s.label,checked:r.reportMethod.includes(s.value),onChange:n=>Ne(s.value,n.target.checked),id:`reportCheck${a}`,isInvalid:!!i.reportMethod}),s.value==="pdf_email"&&r.reportMethod.includes("pdf_email")&&e.jsxs(l,{md:6,className:"mb-3 ps-4 pe-4",children:[e.jsxs(t.Label,{children:["E-mail สำหรับรับผลตรวจ ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"email",name:"email",placeholder:"ระบุอีเมล",value:r.email,onChange:n=>{c({...r,email:n.target.value}),_("email",n.target.value)},onBlur:j,isInvalid:!!i.email}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.email})]}),s.value==="is_mail_delivery"&&r.reportMethod.includes("is_mail_delivery")&&e.jsxs(l,{md:6,className:"mt-1 ps-4 pe-4",children:[e.jsx(t.Check,{inline:!0,type:"radio",name:"sameAddress",label:"ที่อยู่เดียวกับบริษัทที่ลงทะเบียน",checked:r.sameAddress,onChange:()=>Z(!0),id:"sameAddressCheck1"}),e.jsx(t.Check,{inline:!0,type:"radio",name:"sameAddress",label:"ที่อยู่ต่างจากบริษัทที่ลงทะเบียน",checked:!r.sameAddress,onChange:()=>Z(!1),id:"sameAddressCheck2"}),r.sameAddress?e.jsxs(t.Group,{md:6,className:"mb-3",children:[e.jsx(t.Label,{children:"ที่อยู่จัดส่งเอกสาร :"}),e.jsx(t.Control,{type:"text",name:"mail_delivery_location",value:(d==null?void 0:d.document_address)||"",readOnly:!0})]}):e.jsxs(b,{className:"mb-3",children:[e.jsx(l,{md:12,children:e.jsxs(t.Group,{children:[e.jsxs(t.Label,{children:["ที่อยู่จัดส่งเอกสาร ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",name:"mail_delivery_location",placeholder:"ระบุที่อยู่จัดส่ง",value:r.mail_delivery_location,onChange:n=>{c({...r,mail_delivery_location:n.target.value}),_("mail_delivery_location",n.target.value)},onBlur:j,isInvalid:!!i.mail_delivery_location}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.mail_delivery_location})]})}),e.jsx(l,{md:12,children:e.jsxs(t.Group,{className:"mt-3",children:[e.jsxs(t.Label,{children:["เบอร์โทรศัพท์ ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",name:"phone",placeholder:"ระบุเบอร์โทรศัพท์",value:r.phone,onChange:n=>{c({...r,phone:n.target.value}),_("phone",n.target.value)},onBlur:j,isInvalid:!!i.phone}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.phone})]})})]})]})]},a))}),i.reportMethod&&e.jsx(t.Control.Feedback,{type:"invalid",style:{display:"block"},children:i.reportMethod})]})}),e.jsx(l,{md:12,children:e.jsxs(t.Group,{className:"mb-2",children:[e.jsxs("h6",{className:"mb-3",children:["การจำหน่ายตัวอย่าง",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx("div",{children:Y.map((s,a)=>e.jsx(t.Check,{inline:!0,type:"radio",name:"sampleDisposal",value:s.value,label:s.label,checked:r.sampleDisposal===s.value,onChange:n=>{c({...r,sampleDisposal:n.target.value}),_("sampleDisposal",n.target.value)},id:`sampleCheck${a}`},a))}),i.sampleDisposal&&e.jsx(t.Control.Feedback,{type:"invalid",style:{display:"block"},children:i.sampleDisposal})]})}),e.jsxs(t.Group,{className:"mb-3",children:[e.jsx(t.Label,{children:"ความต้องการอื่น"}),e.jsx(t.Control,{as:"textarea",rows:3,name:"other_requirements",placeholder:"ระบุความต้องการอื่น",value:r.other_requirements,onChange:s=>c({...r,other_requirements:s.target.value}),onBlur:j})]}),e.jsx("h6",{className:"mb-1",children:"เงื่อนไขการให้บริการ"}),v===1?e.jsxs("p",{children:["1. รายงามผลภายใน 15 วันทำการ ไม่รวมในกรณีเครื่องมือชำรุด หรือผถการทดสอบมีปัญหา ต้องตรวจสอบซ้ำ (รายงานผลภายใน 20วัน)"," ",e.jsx("br",{}),"2. วิธีทดสอบอ้างอิงตามที่ระบุอัตราค่าบริการวิเคราะห์ทดสอบปุ๋ย: SD-LB-29 ",e.jsx("br",{}),"3. ห้องปฏิบัติการไม่แสดงข้อคิดเห็น แปลผล หรือตัดสินใจ การเป็นไปตามเกณฑ์หรือมาตรฐานของผลการทดสอบในรายงานผลการทดสอบ"," ",e.jsx("br",{}),"4. ห้องปฏิบัติการไม่นำข้อมูลใดๆ ของลูกค้าไปเปิดเผย เว้นแต่หน่วยงานที่ปฏิบัติหน้าที่ตามกฏหมาย โดยจะแจ้งให้ลูกค้าทราบเป็นลายลักษณ์อักษร",e.jsx("br",{})," ",e.jsx("br",{}),"ข้าพเจ้าได้รับทราบเงื่อนไขการให้บริการ และได้ตรวจสอบข้อความข้างต้นแล้ว ขอรับรองว่าข้อความข้างต้นถูกต้องตามความเป็นจริงทุกประการโดยจะไม่ขอแก้ไขข้อความใดๆ หลังจากยื่นคำขอรับบริการแล้ว"]}):e.jsxs("p",{children:["1. รายงานผลภายใน 10 วันทำการ ไม่รวมในกรณี ",e.jsx("br",{})," - วิเคราะห์ธาตุอาหารรอง ธาตุอาหารเสริม (รายงานผลภายใน 15 วัน) ",e.jsx("br",{})," ","- เครื่องมือชำรุด หรือผลการทดสอบมีปัญหา ต้องตรวจสอบซ้ำ (รายงานผลภายใน 20 วัน)",e.jsx("br",{}),"2. วิธีทดสอบอ้างอิงตามที่ระบุอัตราค่าบริการวิเคราะห์ทดสอบปุ๋ย: SD-LB-29 ",e.jsx("br",{}),"3. ห้องปฏิบัติการไม่แสดงข้อคิดเห็น แปลผล หรือตัดสินใจ การเป็นไปตามเกณฑ์หรือมาตรฐานของผลการทดสอบในรายงานผลการทดสอบ"," ",e.jsx("br",{}),"4. ห้องปฏิบัติการไม่นำข้อมูลใดๆ ของลูกค้าไปเปิดเผย เว้นแต่หน่วยงานที่ปฏิบัติหน้าที่ตามกฏหมาย โดยจะแจ้งให้ลูกค้าทราบเป็นลายลักษณ์อักษร",e.jsx("br",{})," ",e.jsx("br",{}),"ข้าพเจ้าได้รับทราบเงื่อนไขการให้บริการ และได้ตรวจสอบข้อความข้างต้นแล้ว ขอรับรองว่าข้อความข้างต้นถูกต้องตามความเป็นจริงทุกประการโดยจะไม่ขอแก้ไขข้อความใดๆ หลังจากยื่นคำขอรับบริการแล้ว"]}),e.jsx(l,{md:4,children:e.jsxs(t.Group,{className:"mb-3 mt-2",children:[e.jsxs(t.Label,{children:["ผู้ส่งตัวอย่าง",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",name:"submitted_by",placeholder:"ชื่อ-นามสกุลผู้ส่งตัวอย่าง",value:r.submitted_by||"",onChange:s=>{c({...r,submitted_by:s.target.value}),_("submitted_by",s.target.value)},onBlur:j,isInvalid:!!i.submitted_by}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.submitted_by})]})}),e.jsx(l,{md:4,children:e.jsxs(t.Group,{className:"mb-3 mt-2",children:[e.jsxs(t.Label,{children:["เบอร์โทรศัพท์",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(t.Control,{type:"text",name:"submitted_phone",placeholder:"เบอร์โทรศัพท์ (เช่น: 0812345678)",value:r.submitted_phone||"",onChange:s=>{c({...r,submitted_phone:s.target.value}),_("submitted_phone",s.target.value)},onBlur:j,isInvalid:!!i.submitted_phone}),e.jsx(t.Control.Feedback,{type:"invalid",children:i.submitted_phone})]})}),e.jsx(l,{md:4,children:e.jsxs(t.Group,{className:"mb-3 mt-2",children:[e.jsxs(t.Label,{children:["วันที่ส่ง",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsx(Oe,{fullWidth:!0,type:"date",id:"submitted_date",name:"submitted_date",value:r.submitted_date||new Date().toISOString().split("T")[0],onChange:s=>{c({...r,submitted_date:s.target.value}),_("submitted_date",s.target.value)},onBlur:j,error:!!i.submitted_date,helperText:i.submitted_date})]})})]})})})}),e.jsxs(q.Footer,{className:"d-flex justify-content-center",style:{flexShrink:0},children:[e.jsxs(z,{variant:"primary",type:"submit",onClick:he,children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(z,{variant:"danger",onClick:()=>w(!1),children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ยกเลิก"]})]})]})]})})};export{is as S};
