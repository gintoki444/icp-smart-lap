import{D as qr,f as Wr,r as S,u as Xr,h as Kr,i as Yr,j as l,c as Jr,F as g,k as Zr,R as be,C as j,_ as Qr,m as D,n as ei,B as Z,G as Tn,d as Pn,o as ti}from"./index-BnqE3Rwp.js";import{c as zt,a as ni,b as ri,F as ii}from"./formik.esm-CDJOjLuD.js";import{p as si,a as ai}from"./serviceRequest-CaLuzo_m.js";import{g as oi}from"./specialConditionsRequest-DVpIoZFL.js";import{g as li,a as ci,b as ui}from"./testItemsRequest-Bn0RcuIu.js";import{g as di}from"./customerRequest-BSWKX1-j.js";import{C as K}from"./Card-BpOPiakr.js";import{t as kn,_ as Mn,a as hi,j as E,c as jn,k as fi,T as pi}from"./TextField-B4sAtPJN.js";import{_ as mi}from"./Transition-C5v-6V12.js";import{T as gi}from"./Table-itlHXmYt.js";import{M as he}from"./Modal-B1i_JeuV.js";import{u as bi}from"./index-TizbD2zs.js";import"./memoTheme-Dygkbaba.js";import"./CloseButton-CTuNyKg7.js";import"./tslib.es6-RU1n5ZxP.js";function vi(t,e=qr,r=Wr){const i=[];return Object.entries(t).forEach(([n,s])=>{s!=null&&(typeof s=="object"?e.forEach(o=>{const c=s[o];if(c!=null){const a=o!==r?`-${o}`:"";i.push(`${n}${a}-${c}`)}}):i.push(`${n}-${s}`))}),i}const An=S.forwardRef(({as:t="div",bsPrefix:e,className:r,direction:i,gap:n,...s},o)=>{e=Xr(e,i==="horizontal"?"hstack":"vstack");const c=Kr(),a=Yr();return l.jsx(t,{...s,ref:o,className:Jr(r,e,...vi({gap:n},c,a))})});An.displayName="Stack";const _i=({name:t="company_id",onSelect:e,value:r,disables:i,showText:n,userId:s})=>{var d;const[o,c]=S.useState([]),a=async()=>{try{console.log("userId",s),s?await Zr(s).then(h=>{c(h.filter(f=>f.status==="approved"))}):await di().then(h=>{c(h)})}catch(h){console.log(h)}};S.useEffect(()=>{a()},[]);const u=h=>{const f=h.target.value,m=f?Number(f):null;e.length===1?e(m):e(t,m)};return l.jsxs(g.Group,{className:"mb-3",children:[l.jsxs(g.Label,{children:["บริษัท",n?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-meta-1",children:" : "}),l.jsx("strong",{children:(d=o.find(h=>h.company_id===r))==null?void 0:d.company_name})]}):l.jsx("span",{className:"text-meta-1",children:": "})]}),!n&&l.jsxs(g.Select,{value:r||"",onChange:u,disabled:i,style:{padding:"8px 20px",fontSize:14},children:[l.jsx("option",{value:"",disabled:!0,className:"text-body dark:text-bodydark",children:"เลือกบริษัท"}),o.length>0&&o.map((h,f)=>l.jsx("option",{value:h.company_id,className:"text-body dark:text-bodydark",children:h.company_name},f))]})]})},yi=({values:t,errors:e,touched:r,handleChange:i,setFieldValue:n,spacialCon:s,handleGetCusSpacialCon:o})=>{var a;const c=[{value:"is_registration_analysis",label:"วิเคราะห์ขึ้นทะเบียน"},{value:"is_quality_check_analysis",label:"วิเคราะห์เพื่อตรวจสอบคุณภาพ"}];return l.jsx(be,{children:l.jsx(j,{children:l.jsx(K,{className:"m-0",children:l.jsxs(K.Body,{className:"pb-2 pt-4",children:[l.jsx("h5",{children:"รายละเอียดบริษัท"}),l.jsx(_i,{name:"company_id",value:t.company_id,userId:t.user_id,onSelect:(u,d)=>{n("company_id",d),o(d)}}),r.company_id&&e.company_id&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.company_id}),s.length>0&&l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"เงื่อนไขพิเศษ :"}),l.jsx(g.Control,{type:"text",readOnly:!0,value:((a=s.find(u=>u.company_id===t.company_id))==null?void 0:a.description)||""})]}),l.jsxs(g.Group,{className:"mb-2",children:[l.jsx(g.Label,{children:"วัตถุประสงค์การขอใช้บริการ"}),l.jsx(g.Group,{children:c.map((u,d)=>l.jsx(g.Check,{inline:!0,type:"radio",name:"analysisMethod",value:u.value,label:u.label,checked:t.analysisMethod===u.value,onChange:i,id:`reportCheck${d}`},d))}),l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ความต้องการอื่น"}),l.jsx(g.Control,{as:"textarea",rows:3,name:"notes",placeholder:"กรอกความต้องการอื่น",value:t.notes,onChange:i})]})]})]})})})})};function Re(t,e,r){return(e=kn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(r),!0).forEach(function(i){Re(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Si(t){if(Array.isArray(t))return t}function xi(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,s,o,c=[],a=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;a=!1}else for(;!(a=(i=s.call(r)).done)&&(c.push(i.value),c.length!==e);a=!0);}catch(d){u=!0,n=d}finally{try{if(!a&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return c}}function vt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function Ln(t,e){if(t){if(typeof t=="string")return vt(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(t,e):void 0}}function Ci(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(t,e){return Si(t)||xi(t,e)||Ln(t,e)||Ci()}function oe(t,e){if(t==null)return{};var r,i,n=Qr(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var wi=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Oi(t){var e=t.defaultInputValue,r=e===void 0?"":e,i=t.defaultMenuIsOpen,n=i===void 0?!1:i,s=t.defaultValue,o=s===void 0?null:s,c=t.inputValue,a=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,m=t.value,v=oe(t,wi),y=S.useState(c!==void 0?c:r),p=re(y,2),_=p[0],C=p[1],x=S.useState(a!==void 0?a:n),w=re(x,2),O=w[0],T=w[1],P=S.useState(m!==void 0?m:o),I=re(P,2),k=I[0],b=I[1],L=S.useCallback(function(q,le){typeof u=="function"&&u(q,le),b(q)},[u]),M=S.useCallback(function(q,le){var ce;typeof d=="function"&&(ce=d(q,le)),C(ce!==void 0?ce:q)},[d]),H=S.useCallback(function(){typeof f=="function"&&f(),T(!0)},[f]),J=S.useCallback(function(){typeof h=="function"&&h(),T(!1)},[h]),A=c!==void 0?c:_,V=a!==void 0?a:O,z=m!==void 0?m:k;return R(R({},v),{},{inputValue:A,menuIsOpen:V,onChange:L,onInputChange:M,onMenuClose:J,onMenuOpen:H,value:z})}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,kn(i.key),i)}}function Ei(t,e,r){return e&&qt(t.prototype,e),r&&qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ri(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mi(t,e)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},He(t)}function Nn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nn=function(){return!!t})()}function Di(t,e){if(e&&(Mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(t)}function Ti(t){var e=Nn();return function(){var r,i=He(t);if(e){var n=He(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return Di(this,r)}}function Pi(t){if(Array.isArray(t))return vt(t)}function ki(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(t){return Pi(t)||ki(t)||Ln(t)||Mi()}function ji(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Ai=Math.min,Li=Math.max,ze=Math.round,Le=Math.floor,Ge=t=>({x:t,y:t});function Ni(t){const{x:e,y:r,width:i,height:n}=t;return{width:i,height:n,top:r,left:e,right:e+i,bottom:r+n,x:e,y:r}}function et(){return typeof window<"u"}function Fn(t){return Bn(t)?(t.nodeName||"").toLowerCase():"#document"}function se(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vn(t){var e;return(e=(Bn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bn(t){return et()?t instanceof Node||t instanceof se(t).Node:!1}function Fi(t){return et()?t instanceof Element||t instanceof se(t).Element:!1}function Tt(t){return et()?t instanceof HTMLElement||t instanceof se(t).HTMLElement:!1}function Wt(t){return!et()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof se(t).ShadowRoot}function Un(t){const{overflow:e,overflowX:r,overflowY:i,display:n}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(n)}function Vi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bi(t){return["html","body","#document"].includes(Fn(t))}function Pt(t){return se(t).getComputedStyle(t)}function Ui(t){if(Fn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wt(t)&&t.host||Vn(t);return Wt(e)?e.host:e}function $n(t){const e=Ui(t);return Bi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tt(e)&&Un(e)?e:$n(e)}function qe(t,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=$n(t),s=n===((i=t.ownerDocument)==null?void 0:i.body),o=se(n);if(s){const c=_t(o);return e.concat(o,o.visualViewport||[],Un(n)?n:[],c&&r?qe(c):[])}return e.concat(n,qe(n,[],r))}function _t(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $i(t){const e=Pt(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=Tt(t),s=n?t.offsetWidth:r,o=n?t.offsetHeight:i,c=ze(r)!==s||ze(i)!==o;return c&&(r=s,i=o),{width:r,height:i,$:c}}function kt(t){return Fi(t)?t:t.contextElement}function Xt(t){const e=kt(t);if(!Tt(e))return Ge(1);const r=e.getBoundingClientRect(),{width:i,height:n,$:s}=$i(e);let o=(s?ze(r.width):r.width)/i,c=(s?ze(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Hi=Ge(0);function zi(t){const e=se(t);return!Vi()||!e.visualViewport?Hi:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gi(t,e,r){return!1}function Kt(t,e,r,i){e===void 0&&(e=!1);const n=t.getBoundingClientRect(),s=kt(t);let o=Ge(1);e&&(o=Xt(t));const c=Gi()?zi(s):Ge(0);let a=(n.left+c.x)/o.x,u=(n.top+c.y)/o.y,d=n.width/o.x,h=n.height/o.y;if(s){const f=se(s),m=i;let v=f,y=_t(v);for(;y&&i&&m!==v;){const p=Xt(y),_=y.getBoundingClientRect(),C=Pt(y),x=_.left+(y.clientLeft+parseFloat(C.paddingLeft))*p.x,w=_.top+(y.clientTop+parseFloat(C.paddingTop))*p.y;a*=p.x,u*=p.y,d*=p.x,h*=p.y,a+=x,u+=w,v=se(y),y=_t(v)}}return Ni({width:d,height:h,x:a,y:u})}function Hn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qi(t,e){let r=null,i;const n=Vn(t);function s(){var c;clearTimeout(i),(c=r)==null||c.disconnect(),r=null}function o(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(c||e(),!f||!m)return;const v=Le(h),y=Le(n.clientWidth-(d+f)),p=Le(n.clientHeight-(h+m)),_=Le(d),x={rootMargin:-v+"px "+-y+"px "+-p+"px "+-_+"px",threshold:Li(0,Ai(1,a))||1};let w=!0;function O(T){const P=T[0].intersectionRatio;if(P!==a){if(!w)return o();P?o(!1,P):i=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!Hn(u,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(O,{...x,root:n.ownerDocument})}catch{r=new IntersectionObserver(O,x)}r.observe(t)}return o(!0),s}function Wi(t,e,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,u=kt(t),d=n||s?[...u?qe(u):[],...qe(e)]:[];d.forEach(_=>{n&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const h=u&&c?qi(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[C]=_;C&&C.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),r()}),u&&!a&&m.observe(u),m.observe(e));let v,y=a?Kt(t):null;a&&p();function p(){const _=Kt(t);y&&!Hn(y,_)&&r(),y=_,v=requestAnimationFrame(p)}return r(),()=>{var _;d.forEach(C=>{n&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,a&&cancelAnimationFrame(v)}}var yt=S.useLayoutEffect,Xi=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],We=function(){};function Ki(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Yi(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];var s=[].concat(i);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Ki(t,o)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var Yt=function(e){return ss(e)?e.filter(Boolean):Mn(e)==="object"&&e!==null?[e]:[]},zn=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=oe(e,Xi);return R({},r)},U=function(e,r,i){var n=e.cx,s=e.getStyles,o=e.getClassNames,c=e.className;return{css:s(r,e),className:n(i??{},o(r,e),c)}};function tt(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Ji(t){return tt(t)?window.innerHeight:t.clientHeight}function Gn(t){return tt(t)?window.pageYOffset:t.scrollTop}function Xe(t,e){if(tt(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Zi(t){var e=getComputedStyle(t),r=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var n=t;n=n.parentElement;)if(e=getComputedStyle(n),!(r&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return n;return document.documentElement}function Qi(t,e,r,i){return r*((t=t/i-1)*t*t+1)+e}function Ne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:We,n=Gn(t),s=e-n,o=10,c=0;function a(){c+=o;var u=Qi(c,n,s,r);Xe(t,u),c<r?window.requestAnimationFrame(a):i(t)}a()}function Jt(t,e){var r=t.getBoundingClientRect(),i=e.getBoundingClientRect(),n=e.offsetHeight/3;i.bottom+n>r.bottom?Xe(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+n,t.scrollHeight)):i.top-n<r.top&&Xe(t,Math.max(e.offsetTop-n,0))}function es(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Zt(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function ts(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var qn=!1,ns={get passive(){return qn=!0}},Fe=typeof window<"u"?window:{};Fe.addEventListener&&Fe.removeEventListener&&(Fe.addEventListener("p",We,ns),Fe.removeEventListener("p",We,!1));var rs=qn;function is(t){return t!=null}function ss(t){return Array.isArray(t)}function Ve(t,e,r){return t?e:r}var as=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];var s=Object.entries(e).filter(function(o){var c=re(o,1),a=c[0];return!i.includes(a)});return s.reduce(function(o,c){var a=re(c,2),u=a[0],d=a[1];return o[u]=d,o},{})},os=["children","innerProps"],ls=["children","innerProps"];function cs(t){var e=t.maxHeight,r=t.menuEl,i=t.minHeight,n=t.placement,s=t.shouldScroll,o=t.isFixedPosition,c=t.controlHeight,a=Zi(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=a.getBoundingClientRect(),h=d.height,f=r.getBoundingClientRect(),m=f.bottom,v=f.height,y=f.top,p=r.offsetParent.getBoundingClientRect(),_=p.top,C=o?window.innerHeight:Ji(a),x=Gn(a),w=parseInt(getComputedStyle(r).marginBottom,10),O=parseInt(getComputedStyle(r).marginTop,10),T=_-O,P=C-y,I=T+x,k=h-x-y,b=m-C+x+w,L=x+y-O,M=160;switch(n){case"auto":case"bottom":if(P>=v)return{placement:"bottom",maxHeight:e};if(k>=v&&!o)return s&&Ne(a,b,M),{placement:"bottom",maxHeight:e};if(!o&&k>=i||o&&P>=i){s&&Ne(a,b,M);var H=o?P-w:k-w;return{placement:"bottom",maxHeight:H}}if(n==="auto"||o){var J=e,A=o?T:I;return A>=i&&(J=Math.min(A-w-c,e)),{placement:"top",maxHeight:J}}if(n==="bottom")return s&&Xe(a,b),{placement:"bottom",maxHeight:e};break;case"top":if(T>=v)return{placement:"top",maxHeight:e};if(I>=v&&!o)return s&&Ne(a,L,M),{placement:"top",maxHeight:e};if(!o&&I>=i||o&&T>=i){var V=e;return(!o&&I>=i||o&&T>=i)&&(V=o?T-O:I-O),s&&Ne(a,L,M),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return u}function us(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Wn=function(e){return e==="auto"?"bottom":e},ds=function(e,r){var i,n=e.placement,s=e.theme,o=s.borderRadius,c=s.spacing,a=s.colors;return R((i={label:"menu"},Re(i,us(n),"100%"),Re(i,"position","absolute"),Re(i,"width","100%"),Re(i,"zIndex",1),i),r?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},Xn=S.createContext(null),hs=function(e){var r=e.children,i=e.minMenuHeight,n=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,c=e.menuShouldScrollIntoView,a=e.theme,u=S.useContext(Xn)||{},d=u.setPortalPlacement,h=S.useRef(null),f=S.useState(n),m=re(f,2),v=m[0],y=m[1],p=S.useState(null),_=re(p,2),C=_[0],x=_[1],w=a.spacing.controlHeight;return yt(function(){var O=h.current;if(O){var T=o==="fixed",P=c&&!T,I=cs({maxHeight:n,menuEl:O,minHeight:i,placement:s,shouldScroll:P,isFixedPosition:T,controlHeight:w});y(I.maxHeight),x(I.placement),d==null||d(I.placement)}},[n,s,o,c,i,d,w]),r({ref:h,placerProps:R(R({},e),{},{placement:C||Wn(s),maxHeight:v})})},fs=function(e){var r=e.children,i=e.innerRef,n=e.innerProps;return E("div",D({},U(e,"menu",{menu:!0}),{ref:i},n),r)},ps=fs,ms=function(e,r){var i=e.maxHeight,n=e.theme.spacing.baseUnit;return R({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:n,paddingTop:n})},gs=function(e){var r=e.children,i=e.innerProps,n=e.innerRef,s=e.isMulti;return E("div",D({},U(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:n},i),r)},Kn=function(e,r){var i=e.theme,n=i.spacing.baseUnit,s=i.colors;return R({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(n*2,"px ").concat(n*3,"px")})},bs=Kn,vs=Kn,_s=function(e){var r=e.children,i=r===void 0?"No options":r,n=e.innerProps,s=oe(e,os);return E("div",D({},U(R(R({},s),{},{children:i,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),i)},ys=function(e){var r=e.children,i=r===void 0?"Loading...":r,n=e.innerProps,s=oe(e,ls);return E("div",D({},U(R(R({},s),{},{children:i,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),i)},Ss=function(e){var r=e.rect,i=e.offset,n=e.position;return{left:r.left,position:n,top:i,width:r.width,zIndex:1}},xs=function(e){var r=e.appendTo,i=e.children,n=e.controlElement,s=e.innerProps,o=e.menuPlacement,c=e.menuPosition,a=S.useRef(null),u=S.useRef(null),d=S.useState(Wn(o)),h=re(d,2),f=h[0],m=h[1],v=S.useMemo(function(){return{setPortalPlacement:m}},[]),y=S.useState(null),p=re(y,2),_=p[0],C=p[1],x=S.useCallback(function(){if(n){var P=es(n),I=c==="fixed"?0:window.pageYOffset,k=P[f]+I;(k!==(_==null?void 0:_.offset)||P.left!==(_==null?void 0:_.rect.left)||P.width!==(_==null?void 0:_.rect.width))&&C({offset:k,rect:P})}},[n,c,f,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);yt(function(){x()},[x]);var w=S.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),n&&a.current&&(u.current=Wi(n,a.current,x,{elementResize:"ResizeObserver"in window}))},[n,x]);yt(function(){w()},[w]);var O=S.useCallback(function(P){a.current=P,w()},[w]);if(!r&&c!=="fixed"||!_)return null;var T=E("div",D({ref:O},U(R(R({},e),{},{offset:_.offset,position:c,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),i);return E(Xn.Provider,{value:v},r?ei.createPortal(T,r):T)},Cs=function(e){var r=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},ws=function(e){var r=e.children,i=e.innerProps,n=e.isDisabled,s=e.isRtl;return E("div",D({},U(e,"container",{"--is-disabled":n,"--is-rtl":s}),i),r)},Os=function(e,r){var i=e.theme.spacing,n=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return R({alignItems:"center",display:n&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},Is=function(e){var r=e.children,i=e.innerProps,n=e.isMulti,s=e.hasValue;return E("div",D({},U(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":s}),i),r)},Es=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Rs=function(e){var r=e.children,i=e.innerProps;return E("div",D({},U(e,"indicatorsContainer",{indicators:!0}),i),r)},Qt,Ds=["size"],Ts=["innerProps","isRtl","size"],Ps={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yn=function(e){var r=e.size,i=oe(e,Ds);return E("svg",D({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ps},i))},Mt=function(e){return E(Yn,D({size:20},e),E("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Jn=function(e){return E(Yn,D({size:20},e),E("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Zn=function(e,r){var i=e.isFocused,n=e.theme,s=n.spacing.baseUnit,o=n.colors;return R({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:i?o.neutral60:o.neutral20,padding:s*2,":hover":{color:i?o.neutral80:o.neutral40}})},ks=Zn,Ms=function(e){var r=e.children,i=e.innerProps;return E("div",D({},U(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),r||E(Jn,null))},js=Zn,As=function(e){var r=e.children,i=e.innerProps;return E("div",D({},U(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),r||E(Mt,null))},Ls=function(e,r){var i=e.isDisabled,n=e.theme,s=n.spacing.baseUnit,o=n.colors;return R({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:i?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Ns=function(e){var r=e.innerProps;return E("span",D({},r,U(e,"indicatorSeparator",{"indicator-separator":!0})))},Fs=fi(Qt||(Qt=ji([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Vs=function(e,r){var i=e.isFocused,n=e.size,s=e.theme,o=s.colors,c=s.spacing.baseUnit;return R({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},r?{}:{color:i?o.neutral60:o.neutral20,padding:c*2})},it=function(e){var r=e.delay,i=e.offset;return E("span",{css:jn({animation:"".concat(Fs," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bs=function(e){var r=e.innerProps,i=e.isRtl,n=e.size,s=n===void 0?4:n,o=oe(e,Ts);return E("div",D({},U(R(R({},o),{},{innerProps:r,isRtl:i,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),E(it,{delay:0,offset:i}),E(it,{delay:160,offset:!0}),E(it,{delay:320,offset:!i}))},Us=function(e,r){var i=e.isDisabled,n=e.isFocused,s=e.theme,o=s.colors,c=s.borderRadius,a=s.spacing;return R({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:i?o.neutral5:o.neutral0,borderColor:i?o.neutral10:n?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:n?o.primary:o.neutral30}})},$s=function(e){var r=e.children,i=e.isDisabled,n=e.isFocused,s=e.innerRef,o=e.innerProps,c=e.menuIsOpen;return E("div",D({ref:s},U(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":n,"control--menu-is-open":c}),o,{"aria-disabled":i||void 0}),r)},Hs=$s,zs=["data"],Gs=function(e,r){var i=e.theme.spacing;return r?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},qs=function(e){var r=e.children,i=e.cx,n=e.getStyles,s=e.getClassNames,o=e.Heading,c=e.headingProps,a=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return E("div",D({},U(e,"group",{group:!0}),a),E(o,D({},c,{selectProps:h,theme:d,getStyles:n,getClassNames:s,cx:i}),u),E("div",null,r))},Ws=function(e,r){var i=e.theme,n=i.colors,s=i.spacing;return R({label:"group",cursor:"default",display:"block"},r?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Xs=function(e){var r=zn(e);r.data;var i=oe(r,zs);return E("div",D({},U(e,"groupHeading",{"group-heading":!0}),i))},Ks=qs,Ys=["innerRef","isDisabled","isHidden","inputClassName"],Js=function(e,r){var i=e.isDisabled,n=e.value,s=e.theme,o=s.spacing,c=s.colors;return R(R({visibility:i?"hidden":"visible",transform:n?"translateZ(0)":""},Zs),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},Qn={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Zs={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":R({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Qn)},Qs=function(e){return R({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Qn)},ea=function(e){var r=e.cx,i=e.value,n=zn(e),s=n.innerRef,o=n.isDisabled,c=n.isHidden,a=n.inputClassName,u=oe(n,Ys);return E("div",D({},U(e,"input",{"input-container":!0}),{"data-value":i||""}),E("input",D({className:r({input:!0},a),ref:s,style:Qs(c),disabled:o},u)))},ta=ea,na=function(e,r){var i=e.theme,n=i.spacing,s=i.borderRadius,o=i.colors;return R({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:n.baseUnit/2})},ra=function(e,r){var i=e.theme,n=i.borderRadius,s=i.colors,o=e.cropWithEllipsis;return R({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:n/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ia=function(e,r){var i=e.theme,n=i.spacing,s=i.borderRadius,o=i.colors,c=e.isFocused;return R({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},er=function(e){var r=e.children,i=e.innerProps;return E("div",i,r)},sa=er,aa=er;function oa(t){var e=t.children,r=t.innerProps;return E("div",D({role:"button"},r),e||E(Mt,{size:14}))}var la=function(e){var r=e.children,i=e.components,n=e.data,s=e.innerProps,o=e.isDisabled,c=e.removeProps,a=e.selectProps,u=i.Container,d=i.Label,h=i.Remove;return E(u,{data:n,innerProps:R(R({},U(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:a},E(d,{data:n,innerProps:R({},U(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},r),E(h,{data:n,innerProps:R(R({},U(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},c),selectProps:a}))},ca=la,ua=function(e,r){var i=e.isDisabled,n=e.isFocused,s=e.isSelected,o=e.theme,c=o.spacing,a=o.colors;return R({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?a.primary:n?a.primary25:"transparent",color:i?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:s?a.primary:a.primary50}})},da=function(e){var r=e.children,i=e.isDisabled,n=e.isFocused,s=e.isSelected,o=e.innerRef,c=e.innerProps;return E("div",D({},U(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":n,"option--is-selected":s}),{ref:o,"aria-disabled":i},c),r)},ha=da,fa=function(e,r){var i=e.theme,n=i.spacing,s=i.colors;return R({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},pa=function(e){var r=e.children,i=e.innerProps;return E("div",D({},U(e,"placeholder",{placeholder:!0}),i),r)},ma=pa,ga=function(e,r){var i=e.isDisabled,n=e.theme,s=n.spacing,o=n.colors;return R({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:i?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},ba=function(e){var r=e.children,i=e.isDisabled,n=e.innerProps;return E("div",D({},U(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),n),r)},va=ba,_a={ClearIndicator:As,Control:Hs,DropdownIndicator:Ms,DownChevron:Jn,CrossIcon:Mt,Group:Ks,GroupHeading:Xs,IndicatorsContainer:Rs,IndicatorSeparator:Ns,Input:ta,LoadingIndicator:Bs,Menu:ps,MenuList:gs,MenuPortal:xs,LoadingMessage:ys,NoOptionsMessage:_s,MultiValue:ca,MultiValueContainer:sa,MultiValueLabel:aa,MultiValueRemove:oa,Option:ha,Placeholder:ma,SelectContainer:ws,SingleValue:va,ValueContainer:Is},ya=function(e){return R(R({},_a),e.components)},en=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Sa(t,e){return!!(t===e||en(t)&&en(e))}function xa(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Sa(t[r],e[r]))return!1;return!0}function Ca(t,e){e===void 0&&(e=xa);var r=null;function i(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r&&r.lastThis===this&&e(n,r.lastArgs))return r.lastResult;var o=t.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return i.clear=function(){r=null},i}var wa={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Oa=function(e){return E("span",D({css:wa},e))},tn=Oa,Ia={guidance:function(e){var r=e.isSearchable,i=e.isMulti,n=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,i=e.label,n=i===void 0?"":i,s=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(n," is disabled. Select another option."):"option ".concat(n,", selected.");default:return""}},onFocus:function(e){var r=e.context,i=e.focused,n=e.options,s=e.label,o=s===void 0?"":s,c=e.selectValue,a=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(y,p){return y&&y.length?"".concat(y.indexOf(p)+1," of ").concat(y.length):""};if(r==="value"&&c)return"value ".concat(o," focused, ").concat(h(c,i),".");if(r==="menu"&&d){var f=a?" disabled":"",m="".concat(u?" selected":"").concat(f);return"".concat(o).concat(m,", ").concat(h(n,i),".")}return""},onFilter:function(e){var r=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(r?" for search term "+r:"",".")}},Ea=function(e){var r=e.ariaSelection,i=e.focusedOption,n=e.focusedValue,s=e.focusableOptions,o=e.isFocused,c=e.selectValue,a=e.selectProps,u=e.id,d=e.isAppleDevice,h=a.ariaLiveMessages,f=a.getOptionLabel,m=a.inputValue,v=a.isMulti,y=a.isOptionDisabled,p=a.isSearchable,_=a.menuIsOpen,C=a.options,x=a.screenReaderStatus,w=a.tabSelectsValue,O=a.isLoading,T=a["aria-label"],P=a["aria-live"],I=S.useMemo(function(){return R(R({},Ia),h||{})},[h]),k=S.useMemo(function(){var A="";if(r&&I.onChange){var V=r.option,z=r.options,q=r.removedValue,le=r.removedValues,ce=r.value,je=function(ne){return Array.isArray(ne)?null:ne},$=q||V||je(ce),X=$?f($):"",te=z||le||void 0,ue=te?te.map(f):[],Q=R({isDisabled:$&&y($,c),label:X,labels:ue},r);A=I.onChange(Q)}return A},[r,I,y,c,f]),b=S.useMemo(function(){var A="",V=i||n,z=!!(i&&c&&c.includes(i));if(V&&I.onFocus){var q={focused:V,label:f(V),isDisabled:y(V,c),isSelected:z,options:s,context:V===i?"menu":"value",selectValue:c,isAppleDevice:d};A=I.onFocus(q)}return A},[i,n,f,y,I,s,c,d]),L=S.useMemo(function(){var A="";if(_&&C.length&&!O&&I.onFilter){var V=x({count:s.length});A=I.onFilter({inputValue:m,resultsMessage:V})}return A},[s,m,_,I,C,x,O]),M=(r==null?void 0:r.action)==="initial-input-focus",H=S.useMemo(function(){var A="";if(I.guidance){var V=n?"value":_?"menu":"input";A=I.guidance({"aria-label":T,context:V,isDisabled:i&&y(i,c),isMulti:v,isSearchable:p,tabSelectsValue:w,isInitialFocus:M})}return A},[T,i,n,v,y,p,_,I,c,w,M]),J=E(S.Fragment,null,E("span",{id:"aria-selection"},k),E("span",{id:"aria-focused"},b),E("span",{id:"aria-results"},L),E("span",{id:"aria-guidance"},H));return E(S.Fragment,null,E(tn,{id:u},M&&J),E(tn,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&J))},Ra=Ea,St=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Da=new RegExp("["+St.map(function(t){return t.letters}).join("")+"]","g"),tr={};for(var st=0;st<St.length;st++)for(var at=St[st],ot=0;ot<at.letters.length;ot++)tr[at.letters[ot]]=at.base;var nr=function(e){return e.replace(Da,function(r){return tr[r]})},Ta=Ca(nr),nn=function(e){return e.replace(/^\s+|\s+$/g,"")},Pa=function(e){return"".concat(e.label," ").concat(e.value)},ka=function(e){return function(r,i){if(r.data.__isNew__)return!0;var n=R({ignoreCase:!0,ignoreAccents:!0,stringify:Pa,trim:!0,matchFrom:"any"},e),s=n.ignoreCase,o=n.ignoreAccents,c=n.stringify,a=n.trim,u=n.matchFrom,d=a?nn(i):i,h=a?nn(c(r)):c(r);return s&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=Ta(d),h=nr(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},Ma=["innerRef"];function ja(t){var e=t.innerRef,r=oe(t,Ma),i=as(r,"onExited","in","enter","exit","appear");return E("input",D({ref:e},i,{css:jn({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Aa=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function La(t){var e=t.isEnabled,r=t.onBottomArrive,i=t.onBottomLeave,n=t.onTopArrive,s=t.onTopLeave,o=S.useRef(!1),c=S.useRef(!1),a=S.useRef(0),u=S.useRef(null),d=S.useCallback(function(p,_){if(u.current!==null){var C=u.current,x=C.scrollTop,w=C.scrollHeight,O=C.clientHeight,T=u.current,P=_>0,I=w-O-x,k=!1;I>_&&o.current&&(i&&i(p),o.current=!1),P&&c.current&&(s&&s(p),c.current=!1),P&&_>I?(r&&!o.current&&r(p),T.scrollTop=w,k=!0,o.current=!0):!P&&-_>x&&(n&&!c.current&&n(p),T.scrollTop=0,k=!0,c.current=!0),k&&Aa(p)}},[r,i,n,s]),h=S.useCallback(function(p){d(p,p.deltaY)},[d]),f=S.useCallback(function(p){a.current=p.changedTouches[0].clientY},[]),m=S.useCallback(function(p){var _=a.current-p.changedTouches[0].clientY;d(p,_)},[d]),v=S.useCallback(function(p){if(p){var _=rs?{passive:!1}:!1;p.addEventListener("wheel",h,_),p.addEventListener("touchstart",f,_),p.addEventListener("touchmove",m,_)}},[m,f,h]),y=S.useCallback(function(p){p&&(p.removeEventListener("wheel",h,!1),p.removeEventListener("touchstart",f,!1),p.removeEventListener("touchmove",m,!1))},[m,f,h]);return S.useEffect(function(){if(e){var p=u.current;return v(p),function(){y(p)}}},[e,v,y]),function(p){u.current=p}}var rn=["boxSizing","height","overflow","paddingRight","position"],sn={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function an(t){t.cancelable&&t.preventDefault()}function on(t){t.stopPropagation()}function ln(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function cn(){return"ontouchstart"in window||navigator.maxTouchPoints}var un=!!(typeof window<"u"&&window.document&&window.document.createElement),Ie=0,ye={capture:!1,passive:!1};function Na(t){var e=t.isEnabled,r=t.accountForScrollbars,i=r===void 0?!0:r,n=S.useRef({}),s=S.useRef(null),o=S.useCallback(function(a){if(un){var u=document.body,d=u&&u.style;if(i&&rn.forEach(function(v){var y=d&&d[v];n.current[v]=y}),i&&Ie<1){var h=parseInt(n.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+h||0;Object.keys(sn).forEach(function(v){var y=sn[v];d&&(d[v]=y)}),d&&(d.paddingRight="".concat(m,"px"))}u&&cn()&&(u.addEventListener("touchmove",an,ye),a&&(a.addEventListener("touchstart",ln,ye),a.addEventListener("touchmove",on,ye))),Ie+=1}},[i]),c=S.useCallback(function(a){if(un){var u=document.body,d=u&&u.style;Ie=Math.max(Ie-1,0),i&&Ie<1&&rn.forEach(function(h){var f=n.current[h];d&&(d[h]=f)}),u&&cn()&&(u.removeEventListener("touchmove",an,ye),a&&(a.removeEventListener("touchstart",ln,ye),a.removeEventListener("touchmove",on,ye)))}},[i]);return S.useEffect(function(){if(e){var a=s.current;return o(a),function(){c(a)}}},[e,o,c]),function(a){s.current=a}}var Fa=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Va={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ba(t){var e=t.children,r=t.lockEnabled,i=t.captureEnabled,n=i===void 0?!0:i,s=t.onBottomArrive,o=t.onBottomLeave,c=t.onTopArrive,a=t.onTopLeave,u=La({isEnabled:n,onBottomArrive:s,onBottomLeave:o,onTopArrive:c,onTopLeave:a}),d=Na({isEnabled:r}),h=function(m){u(m),d(m)};return E(S.Fragment,null,r&&E("div",{onClick:Fa,css:Va}),e(h))}var Ua={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$a=function(e){var r=e.name,i=e.onFocus;return E("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:Ua,value:"",onChange:function(){}})},Ha=$a;function jt(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function za(){return jt(/^iPhone/i)}function rr(){return jt(/^Mac/i)}function Ga(){return jt(/^iPad/i)||rr()&&navigator.maxTouchPoints>1}function qa(){return za()||Ga()}function Wa(){return rr()||qa()}var Xa=function(e){return e.label},Ka=function(e){return e.label},Ya=function(e){return e.value},Ja=function(e){return!!e.isDisabled},Za={clearIndicator:js,container:Cs,control:Us,dropdownIndicator:ks,group:Gs,groupHeading:Ws,indicatorsContainer:Es,indicatorSeparator:Ls,input:Js,loadingIndicator:Vs,loadingMessage:vs,menu:ds,menuList:ms,menuPortal:Ss,multiValue:na,multiValueLabel:ra,multiValueRemove:ia,noOptionsMessage:bs,option:ua,placeholder:fa,singleValue:ga,valueContainer:Os},Qa={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},eo=4,ir=4,to=38,no=ir*2,ro={baseUnit:ir,controlHeight:to,menuGutter:no},lt={borderRadius:eo,colors:Qa,spacing:ro},io={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Zt(),captureMenuScroll:!Zt(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ka(),formatGroupLabel:Xa,getOptionLabel:Ka,getOptionValue:Ya,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ja,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!ts(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function dn(t,e,r,i){var n=or(t,e,r),s=lr(t,e,r),o=ar(t,e),c=Ke(t,e);return{type:"option",data:e,isDisabled:n,isSelected:s,label:o,value:c,index:i}}function $e(t,e){return t.options.map(function(r,i){if("options"in r){var n=r.options.map(function(o,c){return dn(t,o,e,c)}).filter(function(o){return fn(t,o)});return n.length>0?{type:"group",data:r,options:n,index:i}:void 0}var s=dn(t,r,e,i);return fn(t,s)?s:void 0}).filter(is)}function sr(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Dt(r.options.map(function(i){return i.data}))):e.push(r.data),e},[])}function hn(t,e){return t.reduce(function(r,i){return i.type==="group"?r.push.apply(r,Dt(i.options.map(function(n){return{data:n.data,id:"".concat(e,"-").concat(i.index,"-").concat(n.index)}}))):r.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),r},[])}function so(t,e){return sr($e(t,e))}function fn(t,e){var r=t.inputValue,i=r===void 0?"":r,n=e.data,s=e.isSelected,o=e.label,c=e.value;return(!ur(t)||!s)&&cr(t,{label:o,value:c,data:n},i)}function ao(t,e){var r=t.focusedValue,i=t.selectValue,n=i.indexOf(r);if(n>-1){var s=e.indexOf(r);if(s>-1)return r;if(n<e.length)return e[n]}return null}function oo(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var ct=function(e,r){var i,n=(i=e.find(function(s){return s.data===r}))===null||i===void 0?void 0:i.id;return n||null},ar=function(e,r){return e.getOptionLabel(r)},Ke=function(e,r){return e.getOptionValue(r)};function or(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function lr(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var i=Ke(t,e);return r.some(function(n){return Ke(t,n)===i})}function cr(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var ur=function(e){var r=e.hideSelectedOptions,i=e.isMulti;return r===void 0?i:r},lo=1,dr=function(t){Ri(r,t);var e=Ti(r);function r(i){var n;if(Ii(this,r),n=e.call(this,i),n.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.isAppleDevice=Wa(),n.controlRef=null,n.getControlRef=function(a){n.controlRef=a},n.focusedOptionRef=null,n.getFocusedOptionRef=function(a){n.focusedOptionRef=a},n.menuListRef=null,n.getMenuListRef=function(a){n.menuListRef=a},n.inputRef=null,n.getInputRef=function(a){n.inputRef=a},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(a,u){var d=n.props,h=d.onChange,f=d.name;u.name=f,n.ariaOnChange(a,u),h(a,u)},n.setValue=function(a,u,d){var h=n.props,f=h.closeMenuOnSelect,m=h.isMulti,v=h.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:v}),f&&(n.setState({inputIsHiddenAfterUpdate:!m}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(a,{action:u,option:d})},n.selectOption=function(a){var u=n.props,d=u.blurInputOnSelect,h=u.isMulti,f=u.name,m=n.state.selectValue,v=h&&n.isOptionSelected(a,m),y=n.isOptionDisabled(a,m);if(v){var p=n.getOptionValue(a);n.setValue(m.filter(function(_){return n.getOptionValue(_)!==p}),"deselect-option",a)}else if(!y)h?n.setValue([].concat(Dt(m),[a]),"select-option",a):n.setValue(a,"select-option");else{n.ariaOnChange(a,{action:"select-option",option:a,name:f});return}d&&n.blurInput()},n.removeValue=function(a){var u=n.props.isMulti,d=n.state.selectValue,h=n.getOptionValue(a),f=d.filter(function(v){return n.getOptionValue(v)!==h}),m=Ve(u,f,f[0]||null);n.onChange(m,{action:"remove-value",removedValue:a}),n.focusInput()},n.clearValue=function(){var a=n.state.selectValue;n.onChange(Ve(n.props.isMulti,[],null),{action:"clear",removedValues:a})},n.popValue=function(){var a=n.props.isMulti,u=n.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),f=Ve(a,h,h[0]||null);d&&n.onChange(f,{action:"pop-value",removedValue:d})},n.getFocusedOptionId=function(a){return ct(n.state.focusableOptionsWithIds,a)},n.getFocusableOptionsWithIds=function(){return hn($e(n.props,n.state.selectValue),n.getElementId("option"))},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return Yi.apply(void 0,[n.props.classNamePrefix].concat(u))},n.getOptionLabel=function(a){return ar(n.props,a)},n.getOptionValue=function(a){return Ke(n.props,a)},n.getStyles=function(a,u){var d=n.props.unstyled,h=Za[a](u,d);h.boxSizing="border-box";var f=n.props.styles[a];return f?f(h,u):h},n.getClassNames=function(a,u){var d,h;return(d=(h=n.props.classNames)[a])===null||d===void 0?void 0:d.call(h,u)},n.getElementId=function(a){return"".concat(n.state.instancePrefix,"-").concat(a)},n.getComponents=function(){return ya(n.props)},n.buildCategorizedOptions=function(){return $e(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return sr(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(a,u){n.setState({ariaSelection:R({value:a},u)})},n.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(a){n.blockOptionHover=!1},n.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&n.onMenuClose():u&&n.openMenu("first"):(u&&(n.openAfterFocus=!0),n.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},n.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!n.props.isDisabled){var u=n.props,d=u.isMulti,h=u.menuIsOpen;n.focusInput(),h?(n.setState({inputIsHiddenAfterUpdate:!d}),n.onMenuClose()):n.openMenu("first"),a.preventDefault()}},n.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(n.clearValue(),a.preventDefault(),n.openAfterFocus=!1,a.type==="touchend"?n.focusInput():setTimeout(function(){return n.focusInput()}))},n.onScroll=function(a){typeof n.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&tt(a.target)&&n.props.onMenuClose():typeof n.props.closeMenuOnScroll=="function"&&n.props.closeMenuOnScroll(a)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(a){var u=a.touches,d=u&&u.item(0);d&&(n.initialTouchX=d.clientX,n.initialTouchY=d.clientY,n.userIsDragging=!1)},n.onTouchMove=function(a){var u=a.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-n.initialTouchX),f=Math.abs(d.clientY-n.initialTouchY),m=5;n.userIsDragging=h>m||f>m}},n.onTouchEnd=function(a){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(a.target)&&n.menuListRef&&!n.menuListRef.contains(a.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(a){n.userIsDragging||n.onControlMouseDown(a)},n.onClearIndicatorTouchEnd=function(a){n.userIsDragging||n.onClearIndicatorMouseDown(a)},n.onDropdownIndicatorTouchEnd=function(a){n.userIsDragging||n.onDropdownIndicatorMouseDown(a)},n.handleInputChange=function(a){var u=n.props.inputValue,d=a.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(d,{action:"input-change",prevInputValue:u}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(a){n.props.onFocus&&n.props.onFocus(a),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(a){var u=n.props.inputValue;if(n.menuListRef&&n.menuListRef.contains(document.activeElement)){n.inputRef.focus();return}n.props.onBlur&&n.props.onBlur(a),n.onInputChange("",{action:"input-blur",prevInputValue:u}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1})},n.onOptionHover=function(a){if(!(n.blockOptionHover||n.state.focusedOption===a)){var u=n.getFocusableOptions(),d=u.indexOf(a);n.setState({focusedOption:a,focusedOptionId:d>-1?n.getFocusedOptionId(a):null})}},n.shouldHideSelectedOptions=function(){return ur(n.props)},n.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),n.focus()},n.onKeyDown=function(a){var u=n.props,d=u.isMulti,h=u.backspaceRemovesValue,f=u.escapeClearsValue,m=u.inputValue,v=u.isClearable,y=u.isDisabled,p=u.menuIsOpen,_=u.onKeyDown,C=u.tabSelectsValue,x=u.openMenuOnFocus,w=n.state,O=w.focusedOption,T=w.focusedValue,P=w.selectValue;if(!y&&!(typeof _=="function"&&(_(a),a.defaultPrevented))){switch(n.blockOptionHover=!0,a.key){case"ArrowLeft":if(!d||m)return;n.focusValue("previous");break;case"ArrowRight":if(!d||m)return;n.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(T)n.removeValue(T);else{if(!h)return;d?n.popValue():v&&n.clearValue()}break;case"Tab":if(n.isComposing||a.shiftKey||!p||!C||!O||x&&n.isOptionSelected(O,P))return;n.selectOption(O);break;case"Enter":if(a.keyCode===229)break;if(p){if(!O||n.isComposing)return;n.selectOption(O);break}return;case"Escape":p?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:m}),n.onMenuClose()):v&&f&&n.clearValue();break;case" ":if(m)return;if(!p){n.openMenu("first");break}if(!O)return;n.selectOption(O);break;case"ArrowUp":p?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":p?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!p)return;n.focusOption("pageup");break;case"PageDown":if(!p)return;n.focusOption("pagedown");break;case"Home":if(!p)return;n.focusOption("first");break;case"End":if(!p)return;n.focusOption("last");break;default:return}a.preventDefault()}},n.state.instancePrefix="react-select-"+(n.props.instanceId||++lo),n.state.selectValue=Yt(i.value),i.menuIsOpen&&n.state.selectValue.length){var s=n.getFocusableOptionsWithIds(),o=n.buildFocusableOptions(),c=o.indexOf(n.state.selectValue[0]);n.state.focusableOptionsWithIds=s,n.state.focusedOption=o[c],n.state.focusedOptionId=ct(s,o[c])}return n}return Ei(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Jt(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(n){var s=this.props,o=s.isDisabled,c=s.menuIsOpen,a=this.state.isFocused;(a&&!o&&n.isDisabled||a&&c&&!n.menuIsOpen)&&this.focusInput(),a&&o&&!n.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!o&&n.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Jt(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(n,s){this.props.onInputChange(n,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(n){var s=this,o=this.state,c=o.selectValue,a=o.isFocused,u=this.buildFocusableOptions(),d=n==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(c[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(n){var s=this.state,o=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=o.indexOf(c);c||(a=-1);var u=o.length-1,d=-1;if(o.length){switch(n){case"previous":a===0?d=0:a===-1?d=u:d=a-1;break;case"next":a>-1&&a<u&&(d=a+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var a=0,u=c.indexOf(o);o||(u=-1),n==="up"?a=u>0?u-1:c.length-1:n==="down"?a=(u+1)%c.length:n==="pageup"?(a=u-s,a<0&&(a=0)):n==="pagedown"?(a=u+s,a>c.length-1&&(a=c.length-1)):n==="last"&&(a=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(lt):R(R({},lt),this.props.theme):lt}},{key:"getCommonProps",value:function(){var n=this.clearValue,s=this.cx,o=this.getStyles,c=this.getClassNames,a=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,f=h.isMulti,m=h.isRtl,v=h.options,y=this.hasValue();return{clearValue:n,cx:s,getStyles:o,getClassNames:c,getValue:a,hasValue:y,isMulti:f,isRtl:m,options:v,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var n=this.state.selectValue;return n.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var n=this.props,s=n.isClearable,o=n.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(n,s){return or(this.props,n,s)}},{key:"isOptionSelected",value:function(n,s){return lr(this.props,n,s)}},{key:"filterOption",value:function(n,s){return cr(this.props,n,s)}},{key:"formatOptionLabel",value:function(n,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(n,{context:s,inputValue:o,selectValue:c})}else return this.getOptionLabel(n)}},{key:"formatGroupLabel",value:function(n){return this.props.formatGroupLabel(n)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var n=this.props,s=n.isDisabled,o=n.isSearchable,c=n.inputId,a=n.inputValue,u=n.tabIndex,d=n.form,h=n.menuIsOpen,f=n.required,m=this.getComponents(),v=m.Input,y=this.state,p=y.inputIsHidden,_=y.ariaSelection,C=this.commonProps,x=c||this.getElementId("input"),w=R(R(R({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?S.createElement(v,D({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:a},w)):S.createElement(ja,D({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:We,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},w))}},{key:"renderPlaceholderOrValue",value:function(){var n=this,s=this.getComponents(),o=s.MultiValue,c=s.MultiValueContainer,a=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,h=s.Placeholder,f=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,p=m.isMulti,_=m.inputValue,C=m.placeholder,x=this.state,w=x.selectValue,O=x.focusedValue,T=x.isFocused;if(!this.hasValue()||!v)return _?null:S.createElement(h,D({},f,{key:"placeholder",isDisabled:y,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),C);if(p)return w.map(function(I,k){var b=I===O,L="".concat(n.getOptionLabel(I),"-").concat(n.getOptionValue(I));return S.createElement(o,D({},f,{components:{Container:c,Label:a,Remove:u},isFocused:b,isDisabled:y,key:L,index:k,removeProps:{onClick:function(){return n.removeValue(I)},onTouchEnd:function(){return n.removeValue(I)},onMouseDown:function(H){H.preventDefault()}},data:I}),n.formatOptionLabel(I,"value"))});if(_)return null;var P=w[0];return S.createElement(d,D({},f,{data:P,isDisabled:y}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var n=this.getComponents(),s=n.ClearIndicator,o=this.commonProps,c=this.props,a=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,D({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var n=this.getComponents(),s=n.LoadingIndicator,o=this.commonProps,c=this.props,a=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return S.createElement(s,D({},o,{innerProps:h,isDisabled:a,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var n=this.getComponents(),s=n.DropdownIndicator,o=n.IndicatorSeparator;if(!s||!o)return null;var c=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused;return S.createElement(o,D({},c,{isDisabled:a,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var n=this.getComponents(),s=n.DropdownIndicator;if(!s)return null;var o=this.commonProps,c=this.props.isDisabled,a=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(s,D({},o,{innerProps:u,isDisabled:c,isFocused:a}))}},{key:"renderMenu",value:function(){var n=this,s=this.getComponents(),o=s.Group,c=s.GroupHeading,a=s.Menu,u=s.MenuList,d=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,p=this.props,_=p.captureMenuScroll,C=p.inputValue,x=p.isLoading,w=p.loadingMessage,O=p.minMenuHeight,T=p.maxMenuHeight,P=p.menuIsOpen,I=p.menuPlacement,k=p.menuPosition,b=p.menuPortalTarget,L=p.menuShouldBlockScroll,M=p.menuShouldScrollIntoView,H=p.noOptionsMessage,J=p.onMenuScrollToTop,A=p.onMenuScrollToBottom;if(!P)return null;var V=function(X,te){var ue=X.type,Q=X.data,de=X.isDisabled,ne=X.isSelected,Ae=X.label,Hr=X.value,Ut=y===Q,$t=de?void 0:function(){return n.onOptionHover(Q)},zr=de?void 0:function(){return n.selectOption(Q)},Ht="".concat(n.getElementId("option"),"-").concat(te),Gr={id:Ht,onClick:zr,onMouseMove:$t,onMouseOver:$t,tabIndex:-1,role:"option","aria-selected":n.isAppleDevice?void 0:ne};return S.createElement(m,D({},v,{innerProps:Gr,data:Q,isDisabled:de,isSelected:ne,key:Ht,label:Ae,type:ue,value:Hr,isFocused:Ut,innerRef:Ut?n.getFocusedOptionRef:void 0}),n.formatOptionLabel(X.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function($){if($.type==="group"){var X=$.data,te=$.options,ue=$.index,Q="".concat(n.getElementId("group"),"-").concat(ue),de="".concat(Q,"-heading");return S.createElement(o,D({},v,{key:Q,data:X,options:te,Heading:c,headingProps:{id:de,data:$.data},label:n.formatGroupLabel($.data)}),$.options.map(function(ne){return V(ne,"".concat(ue,"-").concat(ne.index))}))}else if($.type==="option")return V($,"".concat($.index))});else if(x){var q=w({inputValue:C});if(q===null)return null;z=S.createElement(h,v,q)}else{var le=H({inputValue:C});if(le===null)return null;z=S.createElement(f,v,le)}var ce={minMenuHeight:O,maxMenuHeight:T,menuPlacement:I,menuPosition:k,menuShouldScrollIntoView:M},je=S.createElement(hs,D({},v,ce),function($){var X=$.ref,te=$.placerProps,ue=te.placement,Q=te.maxHeight;return S.createElement(a,D({},v,ce,{innerRef:X,innerProps:{onMouseDown:n.onMenuMouseDown,onMouseMove:n.onMenuMouseMove},isLoading:x,placement:ue}),S.createElement(Ba,{captureEnabled:_,onTopArrive:J,onBottomArrive:A,lockEnabled:L},function(de){return S.createElement(u,D({},v,{innerRef:function(Ae){n.getMenuListRef(Ae),de(Ae)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:n.getElementId("listbox")},isLoading:x,maxHeight:Q,focusedOption:y}),z)}))});return b||k==="fixed"?S.createElement(d,D({},v,{appendTo:b,controlElement:this.controlRef,menuPlacement:I,menuPosition:k}),je):je}},{key:"renderFormField",value:function(){var n=this,s=this.props,o=s.delimiter,c=s.isDisabled,a=s.isMulti,u=s.name,d=s.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!c)return S.createElement(Ha,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(a)if(o){var f=h.map(function(y){return n.getOptionValue(y)}).join(o);return S.createElement("input",{name:u,type:"hidden",value:f})}else{var m=h.length>0?h.map(function(y,p){return S.createElement("input",{key:"i-".concat(p),name:u,type:"hidden",value:n.getOptionValue(y)})}):S.createElement("input",{name:u,type:"hidden",value:""});return S.createElement("div",null,m)}else{var v=h[0]?this.getOptionValue(h[0]):"";return S.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var n=this.commonProps,s=this.state,o=s.ariaSelection,c=s.focusedOption,a=s.focusedValue,u=s.isFocused,d=s.selectValue,h=this.getFocusableOptions();return S.createElement(Ra,D({},n,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:a,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var n=this.getComponents(),s=n.Control,o=n.IndicatorsContainer,c=n.SelectContainer,a=n.ValueContainer,u=this.props,d=u.className,h=u.id,f=u.isDisabled,m=u.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return S.createElement(c,D({},y,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),S.createElement(s,D({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:m}),S.createElement(a,D({},y,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(o,D({},y,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(n,s){var o=s.prevProps,c=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,m=n.options,v=n.value,y=n.menuIsOpen,p=n.inputValue,_=n.isMulti,C=Yt(v),x={};if(o&&(v!==o.value||m!==o.options||y!==o.menuIsOpen||p!==o.inputValue)){var w=y?so(n,C):[],O=y?hn($e(n,C),"".concat(f,"-option")):[],T=c?ao(s,C):null,P=oo(s,w),I=ct(O,P);x={selectValue:C,focusedOption:P,focusedOptionId:I,focusableOptionsWithIds:O,focusedValue:T,clearFocusValueOnUpdate:!1}}var k=a!=null&&n!==o?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},b=u,L=d&&h;return d&&!L&&(b={value:Ve(_,C,C[0]||null),options:C,action:"initial-input-focus"},L=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(b=null),R(R(R({},x),k),{},{prevProps:n,ariaSelection:b,prevWasFocused:L})}}]),r}(S.Component);dr.defaultProps=io;var co=S.forwardRef(function(t,e){var r=Oi(t);return S.createElement(dr,D({ref:e},r))}),ut=co;const uo=({values:t,errors:e,touched:r,setFieldValue:i,fertilizerTypes:n})=>{const[s,o]=S.useState(!1),[c,a]=S.useState(null),u={request_id:null,fertilizerCategory:null,fertilizer_type_id:null,color:"",fertilizer_formula:"",common_name:"",trade_name:"",trademark:"",manufacturer:"",manufacturer_country:"",supplier:"",supplier_country:"",composition:"",sample_weight:null,sample_weight_unit:null,packaging_id:null,packaging_other:null,submission_id:null,test_items:[]},[d,h]=S.useState(u),[f,m]=S.useState([]),[v,y]=S.useState([]);S.useEffect(()=>{p(),_()},[]);const p=async()=>{const b=await li();m(b)},_=async()=>{try{const b=await ci();y(b)}catch(b){console.error("Error fetching test items:",b),y([])}},C=[{value:"is_single_fertilizer",label:"เชิงเดี่ยว"},{value:"is_compound_fertilizer",label:"เชิงประกอบ"},{value:"is_mixed_fertilizer",label:"เชิงผสม"},{value:"is_secondary_nutrient_fertilizer",label:"ธาตุอาหารรอง-อาหารเสริม"}],x=b=>{h({...d,fertilizerCategory:b?b.value:null})},w=()=>{if(c!==null){const b=[...t.fertilizerRecords];b[c]=d,i("fertilizerRecords",b),a(null)}else i("fertilizerRecords",[...t.fertilizerRecords,d]);o(!1),h(u)},O=b=>{h(t.fertilizerRecords[b]),a(b),o(!0)},T=()=>{h(u),a(null),o(!0)},P=b=>[1,3,5,7,10,15].includes(b),I=(b,L)=>{const M=L?[...d.test_items,{test_item_id:b,test_percentage:""}]:d.test_items.filter(H=>H.test_item_id!==b);h({...d,test_items:M})},k=(b,L)=>{const M=d.test_items.map(H=>H.test_item_id===b?{...H,test_percentage:L}:H);h({...d,test_items:M})};return l.jsx(be,{children:l.jsxs(j,{children:[l.jsx(K,{className:"m-0",children:l.jsxs(K.Body,{className:"pb-2 pt-4",children:[l.jsx("h5",{className:"mb-4",children:"รายการปุ๋ยเคมี"}),l.jsxs(gi,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"#"}),l.jsx("th",{children:"ประเภทของปุ๋ย"}),l.jsx("th",{children:"ลักษณะปุ๋ย"}),l.jsx("th",{children:"สี"}),l.jsx("th",{children:"ภาชนะบรรจุ"}),l.jsx("th",{children:"ชื่อการค้า"}),l.jsx("th",{children:"เครื่องหมายการค้า"}),l.jsx("th",{children:"ชื่อผู้ผลิต"}),l.jsx("th",{children:"ประเทศ"}),l.jsx("th",{children:"รายการทดสอบ"}),l.jsx("th",{className:"text-center",children:"Action"})]})}),l.jsx("tbody",{children:t.fertilizerRecords.length>0?t.fertilizerRecords.map((b,L)=>{var M,H,J;return l.jsxs("tr",{children:[l.jsx("td",{children:L+1}),l.jsx("td",{children:((M=C.find(A=>A.value===b.fertilizerCategory))==null?void 0:M.label)||"-"}),l.jsx("td",{children:((H=n.find(A=>A.fertilizer_type_id===b.fertilizer_type_id))==null?void 0:H.fertilizer_type_name)||"-"}),l.jsx("td",{children:b.color||"-"}),l.jsx("td",{children:((J=f.find(A=>A.packaging_type_id===b.packaging_id))==null?void 0:J.packaging_type_name)||"-"}),l.jsx("td",{children:b.trade_name||"-"}),l.jsx("td",{children:b.trademark||"-"}),l.jsx("td",{children:b.manufacturer||"-"}),l.jsx("td",{children:b.manufacturer_country||"-"}),l.jsx("td",{children:b.test_items.map(A=>{var z;const V=((z=v.find(q=>q.test_item_id===A.test_item_id))==null?void 0:z.test_code)||A.test_item_id;return A.test_percentage?`${V} (${A.test_percentage})`:V}).join(", ")||"-"}),l.jsxs("td",{className:"text-center",children:[l.jsx(Z,{variant:"warning",size:"sm",className:"me-2",onClick:()=>O(L),children:"แก้ไข"}),l.jsx(Z,{variant:"danger",size:"sm",onClick:()=>{const A=t.fertilizerRecords.filter((V,z)=>z!==L);i("fertilizerRecords",A)},children:"ลบ"})]})]},L)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"11",className:"text-center",children:"ไม่มีข้อมูล"})})})]}),l.jsxs(Z,{variant:"primary",onClick:T,children:[l.jsx("i",{className:"feather icon-plus"})," เพิ่ม"]}),r.fertilizerRecords&&e.fertilizerRecords&&l.jsx("div",{className:"text-danger",children:e.fertilizerRecords})]})}),l.jsxs(he,{size:"xl",show:s,onHide:()=>o(!1),centered:!0,children:[l.jsx(he.Header,{closeButton:!0,children:l.jsx(he.Title,{className:"text-center",children:l.jsx("h5",{className:"text-center mb-0",children:c!==null?"แก้ไขข้อมูลตัวอย่างปุ๋ยเคมี":"เพิ่มข้อมูลตัวอย่างปุ๋ยเคมี"})})}),l.jsx(he.Body,{children:l.jsx(g,{children:l.jsxs(be,{children:[l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ประเภทของปุ๋ยเคมี"}),l.jsx(ut,{options:C,value:C.find(b=>b.value===d.fertilizerCategory)||null,onChange:x,placeholder:"เลือกประเภทของปุ๋ยเคมี"})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ลักษณะปุ๋ย"}),l.jsx(ut,{options:n.map(b=>({value:b.fertilizer_type_id,label:b.fertilizer_type_name||b})),value:n.map(b=>({value:b.fertilizer_type_id,label:b.fertilizer_type_name||b})).find(b=>b.value===d.fertilizer_type_id)||null,onChange:b=>h({...d,fertilizer_type_id:b?b.value:null}),placeholder:"เลือกประเภทของปุ๋ยเคมี"})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ภาชนะบรรจุ"}),l.jsx(ut,{options:f.map(b=>({value:b.packaging_type_id,label:b.packaging_type_name||b})),value:f.map(b=>({value:b.packaging_type_id,label:b.packaging_type_name||b})).find(b=>b.value===d.packaging_id)||null,onChange:b=>h({...d,packaging_id:b?b.value:null}),placeholder:"เลือกภาชนะบรรจุ"})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"สี"}),l.jsx(g.Control,{type:"text",name:"color",placeholder:"กรอกสี",value:d.color,onChange:b=>h({...d,color:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"สูตรปุ๋ย"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกสูตรปุ๋ย",value:d.fertilizer_formula,onChange:b=>h({...d,fertilizer_formula:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ชื่อสามัญ"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อสามัญ",value:d.common_name,onChange:b=>h({...d,common_name:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ชื่อการค้า"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อการค้า",value:d.trade_name,onChange:b=>h({...d,trade_name:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"เครื่องหมายการค้า"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกเครื่องหมายการค้า",value:d.trademark,onChange:b=>h({...d,trademark:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ผู้ผลิต (บริษัท/ห้าง/ร้าน/อื่นๆ)"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อผู้ผลิต",value:d.manufacturer,onChange:b=>h({...d,manufacturer:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ประเทศ"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อประเทศ",value:d.manufacturer_country,onChange:b=>h({...d,manufacturer_country:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"สั่งจาก (บริษัท/ห้าง/ร้าน/อื่นๆ)"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อผู้ผลิต",value:d.supplier,onChange:b=>h({...d,supplier:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"ประเทศ"}),l.jsx(g.Control,{type:"text",placeholder:"กรอกชื่อประเทศ",value:d.supplier_country,onChange:b=>h({...d,supplier_country:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"วัตถุส่วนประกอบของปุ๋ย"}),l.jsx(g.Control,{type:"text",rows:3,placeholder:"กรอกวัตถุส่วนประกอบของปุ๋ย",value:d.composition,onChange:b=>h({...d,composition:b.target.value})})]})}),l.jsx(j,{md:6,children:l.jsxs(An,{spacing:1,style:{flexDirection:"row"},children:[l.jsxs(g.Group,{className:"mb-3 full-width",style:{marginRight:4,width:"100%"},children:[l.jsx(g.Label,{children:"ปริมาณ(น้ำหนัก/ปริมาตร)"}),l.jsx(g.Control,{type:"text",rows:3,placeholder:"กรอกน้ำหนัก/ปริมาตร",value:d.sample_weight,onChange:b=>h({...d,sample_weight:b.target.value})})]}),l.jsxs(g.Group,{className:"mb-3",style:{marginLeft:4,flext:1},children:[l.jsx(g.Label,{children:"หน่วย(กิโลกรัม/ลิตร)"}),l.jsx(g.Control,{type:"text",rows:3,placeholder:"kg./ml.",value:d.sample_weight_unit,onChange:b=>h({...d,sample_weight_unit:b.target.value})})]})]})}),l.jsx(j,{md:12,children:l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"รายการทดสอบ"}),l.jsx(be,{spacing:2,children:v.map(b=>{var L;return l.jsxs(j,{md:3,xs:4,style:{marginBottom:"10px"},children:[l.jsx(g.Check,{inline:!0,id:`test_item-${b.test_item_id}`,type:"checkbox",label:b.test_code,checked:d.test_items.some(M=>M.test_item_id===b.test_item_id),onChange:M=>I(b.test_item_id,M.target.checked)}),P(b.test_item_id)&&d.test_items.some(M=>M.test_item_id===b.test_item_id)&&l.jsx(g.Control,{type:"text",placeholder:"กรอก % (เช่น 10%)",value:((L=d.test_items.find(M=>M.test_item_id===b.test_item_id))==null?void 0:L.test_percentage)||"",onChange:M=>k(b.test_item_id,M.target.value),style:{display:"inline-block",width:"60%",marginLeft:"10px"}})]},b.test_item_id)})})]})})]})})}),l.jsx(he.Footer,{children:l.jsx(Z,{variant:"success",onClick:w,children:"บันทึก"})})]})]})})},ho=({values:t,errors:e,touched:r,handleChange:i,handleBlur:n,setFieldValue:s})=>{const{getRootProps:o,getInputProps:c,isDragActive:a}=bi({onDrop:f=>{const m=Array.isArray(t.files)?t.files:[];s("files",[...m,...f])},accept:{"image/*":[".png",".jpg",".jpeg",".gif"],"application/pdf":[".pdf"]}}),u=f=>{const m=t.files.filter((v,y)=>y!==f);s("files",m)},d=[{value:"is_self_pickup",label:"รับด้วยตนเอง"},{value:"pdf_email",label:"ต้องการไฟล์ pdf เพิ่มเติมทาง E-mail"},{value:"is_mail_delivery",label:"ส่งทางไปรษณีย์"}],h=[{value:"is_lab_dispose_sample",label:"ให้ห้องปฏิบัติการจำหน่ายตัวอย่าง"},{value:"is_collect_within_3_months",label:"มารับตัวอย่างคืนภายใน 3 เดือน"},{value:"is_return_sample",label:"ให้ห้องปฏิบัติการจัดส่งตัวอย่างคืน"}];return l.jsx(be,{children:l.jsx(j,{children:l.jsx(K,{className:"m-0",children:l.jsx(K.Body,{className:"pb-2 pt-4",children:l.jsxs(be,{children:[l.jsx(j,{md:12,children:l.jsx("h6",{className:"mb-3",children:"ข้อมูลการขอรับผลการตรวจ"})}),l.jsx(j,{md:12,children:l.jsxs(g.Group,{className:"",children:[l.jsx(g.Label,{children:"การรับรายงานผล"}),l.jsx("div",{children:d.map((f,m)=>l.jsx(g.Check,{inline:!0,type:"radio",name:"reportMethod",value:f.value,label:f.label,checked:t.reportMethod===f.value,onChange:i,id:`reportCheck${m}`},m))}),r.reportMethod&&e.reportMethod&&l.jsx("div",{className:"text-danger",children:e.reportMethod}),t.reportMethod==="pdf_email"&&l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"E-mail สำหรับรับผลตรวจ :"}),l.jsx(g.Control,{type:"email",name:"email",placeholder:"กรอกอีเมล",value:t.email,onChange:i,onBlur:n,isInvalid:r.email&&!!e.email}),r.email&&e.email&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.email})]}),t.reportMethod==="is_mail_delivery"&&l.jsxs(g.Group,{className:"mt-1 ps-4 pe-4",children:[l.jsx(g.Check,{inline:!0,type:"radio",name:"sameAddress",label:"ที่อยู่เดียวกับบริษัทที่ลงทะเบียน",checked:t.sameAddress,onChange:()=>s("sameAddress",!0),id:"sameAddressRadio1"}),l.jsx(g.Check,{inline:!0,type:"radio",name:"sameAddress",label:"ที่อยู่ต่างจากบริษัทที่ลงทะเบียน",checked:!t.sameAddress,onChange:()=>s("sameAddress",!1),id:"sameAddressRadio2"}),t.sameAddress&&t.company_id?l.jsxs(g.Group,{className:"mb-3 ps-4 pe-4",children:[l.jsx(g.Label,{children:"ที่อยู่จัดส่งเอกสาร :"}),l.jsx(g.Control,{type:"text",readOnly:!0})]}):!t.sameAddress&&l.jsxs(be,{className:"mb-3 ps-4 pe-4",children:[l.jsx(j,{md:6,children:l.jsxs(g.Group,{children:[l.jsx(g.Label,{children:"ที่อยู่ : "}),l.jsx(g.Control,{type:"text",name:"address",placeholder:"กรอกที่อยู่",value:t.address,onChange:i,onBlur:n,isInvalid:r.address&&!!e.address}),r.address&&e.address&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.address})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{children:[l.jsx(g.Label,{children:"จังหวัด : "}),l.jsx(g.Control,{type:"text",name:"province",placeholder:"กรอกจังหวัด",value:t.province,onChange:i,onBlur:n,isInvalid:r.province&&!!e.province}),r.province&&e.province&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.province})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mt-3",children:[l.jsx(g.Label,{children:"อำเภอ : "}),l.jsx(g.Control,{type:"text",name:"district",placeholder:"กรอกอำเภอ",value:t.district,onChange:i,onBlur:n,isInvalid:r.district&&!!e.district}),r.district&&e.district&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.district})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mt-3",children:[l.jsx(g.Label,{children:"ตำบล : "}),l.jsx(g.Control,{type:"text",name:"subDistrict",placeholder:"กรอกตำบล",value:t.subDistrict,onChange:i,onBlur:n,isInvalid:r.subDistrict&&!!e.subDistrict}),r.subDistrict&&e.subDistrict&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.subDistrict})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mt-3",children:[l.jsx(g.Label,{children:"เลขที่ไปรษณีย์ : "}),l.jsx(g.Control,{type:"text",name:"postalCode",placeholder:"กรอกเลขที่ไปรษณีย์",value:t.postalCode,onChange:i,onBlur:n,isInvalid:r.postalCode&&!!e.postalCode}),r.postalCode&&e.postalCode&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.postalCode})]})}),l.jsx(j,{md:6,children:l.jsxs(g.Group,{className:"mt-3",children:[l.jsx(g.Label,{children:"เบอร์โทรศัพท์ : "}),l.jsx(g.Control,{type:"text",name:"phone",placeholder:"กรอกเบอร์โทรศัพท์",value:t.phone,onChange:i,onBlur:n,isInvalid:r.phone&&!!e.phone}),r.phone&&e.phone&&l.jsx(g.Control.Feedback,{type:"invalid",children:e.phone})]})})]})]})]})}),l.jsxs(j,{md:12,children:[l.jsxs(g.Group,{children:[l.jsx(g.Label,{children:"ความต้องการในการทดสอบ : "}),l.jsxs("div",{children:[l.jsx(g.Check,{inline:!0,type:"radio",name:"test_all_items",label:"ทดสอบทุกรายการ",checked:t.test_all_items,onChange:()=>s("test_all_items",!0),id:"test_all_items-1"}),l.jsx(g.Check,{inline:!0,type:"radio",name:"test_all_items",label:"ทดสอบบางรายการ",checked:!t.test_all_items,onChange:()=>s("test_all_items",!1),id:"test_all_items-2"})]})]}),l.jsxs(g.Group,{className:"mb-3",children:[l.jsx(g.Label,{children:"การจำหน่ายตัวอย่าง"}),l.jsx("div",{children:h.map((f,m)=>l.jsx(g.Check,{inline:!0,type:"radio",name:"sampleDisposal",value:f.value,label:f.label,checked:t.sampleDisposal===f.value,onChange:i,id:`sampleCheck${m}`},m))}),r.sampleDisposal&&e.sampleDisposal&&l.jsx("div",{className:"text-danger",children:e.sampleDisposal})]})]}),l.jsx("h6",{className:"mb-1",children:"ข้อมูลการจัดส่งตัวอย่าง"}),l.jsx(j,{md:4,children:l.jsxs(g.Group,{className:"mb-3 mt-2",children:[l.jsx(g.Label,{children:"ผู้ส่งตัวอย่าง:"}),l.jsx(g.Control,{type:"text",rows:3,name:"submitted_by",placeholder:"ชื่อ-นามสกุล",value:t.submitted_by,onChange:i})]})}),l.jsx(j,{md:4,children:l.jsxs(g.Group,{className:"mb-3 mt-2",children:[l.jsx(g.Label,{children:"เบอร์โทรศัพท์ :"}),l.jsx(g.Control,{type:"text",rows:3,name:"submitted_phone",placeholder:"เบอร์โทรศัพท์",value:t.submitted_phone,onChange:i})]})}),l.jsx(j,{md:4,children:l.jsxs(g.Group,{className:"mb-3 mt-2",children:[l.jsx(g.Label,{children:"วันที่ส่ง :"}),l.jsx(pi,{required:!0,fullWidth:!0,type:"date",id:"submitted_date",name:"submitted_date",value:t.submitted_date,onChange:i})]})}),l.jsxs(j,{md:12,children:[l.jsx("h6",{className:"mb-2",children:"ข้อมูลเอกสาร"}),l.jsxs(g.Group,{className:"mb-3 mt-2",children:[l.jsx(g.Label,{children:"อัพโหลดเอกสาร :"}),l.jsxs("div",{...o(),style:{border:"2px dashed #04a9f5",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:a?"#e6f7ff":"#f8f9fa"},children:[l.jsx("input",{...c()}),a?l.jsx("p",{style:{marginBottom:0},children:"Drop your files here..."}):l.jsx("p",{style:{marginBottom:0},children:"Drag and drop files here, or click to select files"})]}),l.jsx("ul",{className:"mt-3",children:t.files&&t.files.map((f,m)=>l.jsxs("li",{style:{display:"flex",alignItems:"center"},children:[l.jsx("i",{className:"feather icon-file",style:{marginRight:12}}),f.name,l.jsx(Z,{variant:"link",size:"sm",className:"text-danger",style:{marginLeft:10},onClick:()=>u(m),children:l.jsx("i",{className:"feather icon-trash-2"})})]},m))})]})]})]})})})})})};function fo(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M99.5 18.406V92.22h321.594V18.405H99.5zm24.75 92.5v288.531h18.688v-288.53H124.25zm253.406 0v288.531h18.688v-288.53h-18.688zm-216.47 58.53v230l199.033.002v-230h-43.5c-.717 8.933-8.194 15.937-17.314 15.937s-16.596-7.004-17.312-15.938H267.75c.968 3.02 1.5 6.223 1.5 9.563 0 17.317-14.058 31.344-31.375 31.344S206.53 196.317 206.53 179c0-3.34.535-6.542 1.5-9.563h-46.843zm138.095 30.845c24.18 0 43.783 19.603 43.783 43.782 0 24.18-19.602 43.782-43.782 43.782-24.178 0-43.78-19.602-43.78-43.78 0-24.18 19.602-43.783 43.78-43.783zm-81.25 20.814c14.265 0 25.814 11.58 25.814 25.844 0 14.264-11.55 25.812-25.813 25.812-14.263 0-25.843-11.548-25.843-25.813 0-14.264 11.58-25.843 25.844-25.843zm68.564 79.344c14.264 0 25.844 11.58 25.844 25.843 0 14.265-11.58 25.814-25.844 25.814-14.264 0-25.813-11.55-25.813-25.813 0-14.263 11.55-25.842 25.814-25.842zM99.5 418.125v73.844h321.594v-73.845H99.5z"},child:[]}]})(t)}function po(t){return Tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M241.1 21.91c-89.7-.15-172.99 2.47-171.94 8.27l22.08 36.14c59.36-5.1 115.96-6.95 172.66-6.57 53.2.35 106.5 2.67 162.1 6.09l31.2-33.28c-4.5-6.74-114.4-10.48-216.1-10.65zm3.8 55.81c-49.1.12-98.3 1.99-149.69 6.32C73.42 207.7 61.35 358.6 89.71 451.7l-26.43 31c128.12 9.6 258.52 12.7 382.62 6.3L416 453.4c19.3-106.2 13.3-251.2.2-370.12-51.2-3.06-100.3-5.1-149.3-5.49L401.1 201h-71.3c3.8 23.1 20.4 54.3 37.9 83.2 9.9 16.4 20 32.3 27.7 46.3 7.7 14 13.6 25.7 13.6 37.5 0 28-18.9 51-46.7 65.9-27.8 15-65.1 23.1-106.3 23.1s-78.5-8.1-106.3-23.1C121.9 419 103 396 103 368c0-12 6.2-23.7 14.3-37.9 8.1-14.2 18.6-30.2 28.8-46.8 18-29.1 34.4-60.5 36.7-82.3H104zm11 14.37L152 183h48.3l.7 8.2c2.7 31.9-18.9 68-39.6 101.6-10.4 16.8-20.8 32.7-28.4 46.2-7.7 13.4-12 25-12 29 0 14.6 7 27.5 20.1 38.6 54.2-6.8 82-10.6 106.4-11.4.6-8.5 1.7-17 3.1-25.2-36.6 2.3-70.3-7.5-103.5-19.3 14.9-28.8 42.3-48.9 67-48.8 4.6 0 9.1.6 13.4 2.1 11.2 3.6 21.3 23.7 28 40.6 2.2-10.5 4.3-19.5 5.2-26.1v-.1c.9-6.2-1.6-24-4.8-38.7-2.3-10.6-4.7-19.9-5.9-24.3-6.3 0-11.9-1.2-15.6-5-25.4-26.4-8.9-75.2 12.9-102.4 15.5 25.8 35.7 53.6 56 72.8-4.4 14.8-12.4 26.7-27.9 32-2.1.2-4.7.5-7.3.9 1.4 5.2 3.4 13 5.4 22.1 1.3 5.7 2.5 11.6 3.5 17.5 5.3-4.9 11.4-9.4 16.4-9.6h1.1c28 2.6 59.7 29.6 67.7 69-27.5-12.6-59-5.3-83.9-30.2-2.8 18.6-10.6 46.6-12.7 72.8 24.1.8 51.9 4.6 105.3 11.3 13.1-11.1 20.1-24 20.1-38.6 0-4.2-4.1-15.6-11.4-28.8-7.3-13.3-17.2-29-27.3-45.7C332.2 260.3 311 224.2 311 192v-9h43.9zm.1 320.81c-22.3 0-45.9 3-90.7 8.7C189 432.5 220.8 439 256 439s67-6.5 90.7-17.4c-44.8-5.7-68.4-8.7-90.7-8.7z"},child:[]}]})(t)}const hr="https://apiav2-3mp52qu73a-as.a.run.app/api",mo=async t=>{const e=new Headers;e.append("Content-Type","application/json"),console.log("postSampleSubmissions",t);const r=JSON.stringify(t),i={method:"POST",headers:e,body:r,redirect:"follow"};try{const n=await fetch(hr+"/sample-submissions",i);if(!n.ok){const s=await n.json();throw new Error(s.message||`HTTP Error: ${n.status}`)}return await n.json()}catch(n){throw console.error("Save SampleSubmissions data Error:",n),n}},go=async t=>{const e=new Headers;e.append("Content-Type","application/json"),console.log("postSampleSubmisDetail",t);const r=JSON.stringify(t),i={method:"POST",headers:e,body:r,redirect:"follow"};try{const n=await fetch(hr+"/sample-submission-details",i);if(!n.ok){const s=await n.json();throw new Error(s.message||`HTTP Error: ${n.status}`)}return await n.json()}catch(n){throw console.error("Save SampleSubmissions data Error:",n),n}};var pn={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=function(t){const e=[];let r=0;for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=n&63|128):(n&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++i)&1023),e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=n&63|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=n&63|128)}return e},bo=function(t){const e=[];let r=0,i=0;for(;r<t.length;){const n=t[r++];if(n<128)e[i++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[r++];e[i++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=t[r++],o=t[r++],c=t[r++],a=((n&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const s=t[r++],o=t[r++];e[i++]=String.fromCharCode((n&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let n=0;n<t.length;n+=3){const s=t[n],o=n+1<t.length,c=o?t[n+1]:0,a=n+2<t.length,u=a?t[n+2]:0,d=s>>2,h=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,m=u&63;a||(m=64,o||(f=64)),i.push(r[d],r[h],r[f],r[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fr(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bo(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let n=0;n<t.length;){const s=r[t.charAt(n++)],c=n<t.length?r[t.charAt(n)]:0;++n;const u=n<t.length?r[t.charAt(n)]:64;++n;const h=n<t.length?r[t.charAt(n)]:64;if(++n,s==null||c==null||u==null||h==null)throw new vo;const f=s<<2|c>>4;if(i.push(f),u!==64){const m=c<<4&240|u>>2;if(i.push(m),h!==64){const v=u<<6&192|h;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _o=function(t){const e=fr(t);return pr.encodeByteArray(e,!0)},Ye=function(t){return _o(t).replace(/\./g,"")},yo=function(t){try{return pr.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=()=>So().__FIREBASE_DEFAULTS__,Co=()=>{if(typeof process>"u"||typeof pn>"u")return;const t=pn.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wo=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yo(t[1]);return e&&JSON.parse(e)},mr=()=>{try{return xo()||Co()||wo()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Oo=t=>{var e,r;return(r=(e=mr())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Io=t=>{const e=Oo(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},gr=()=>{var t;return(t=mr())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ye(JSON.stringify(r)),Ye(JSON.stringify(o)),""].join(".")}function Do(){try{return typeof indexedDB=="object"}catch{return!1}}function To(){return new Promise((t,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(i);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(i),t(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var s;e(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirebaseError";class we extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=Po,Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}}class br{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},n=`${this.service}/${e}`,s=this.errors[e],o=s?ko(s,i):"Error",c=`${this.serviceName}: ${o} (${n}).`;return new we(n,c,i)}}function ko(t,e){return t.replace(Mo,(r,i)=>{const n=e[i];return n!=null?String(n):`<${i}?>`})}const Mo=/\{\$([^}]+)}/g;function xt(t,e){if(t===e)return!0;const r=Object.keys(t),i=Object.keys(e);for(const n of r){if(!i.includes(n))return!1;const s=t[n],o=e[n];if(mn(s)&&mn(o)){if(!xt(s,o))return!1}else if(s!==o)return!1}for(const n of i)if(!r.includes(n))return!1;return!0}function mn(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class Te{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new Eo;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:r});n&&i.resolve(n)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lo(e))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:n});i.resolve(s)}catch{}}}}clearInstance(e=ge){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ge){return this.instances.has(e)}getOptions(e=ge){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(n)}return n}onInit(e,r){var i;const n=this.normalizeInstanceIdentifier(r),s=(i=this.onInitCallbacks.get(n))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const n of i)try{n(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ao(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ge){return this.component?this.component.multipleInstances?e:ge:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ao(t){return t===ge?void 0:t}function Lo(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new jo(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(N||(N={}));const Fo={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},Vo=N.INFO,Bo={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},Uo=(t,e,...r)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),n=Bo[e];if(n)console[n](`[${i}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $o{constructor(e){this.name=e,this._logLevel=Vo,this._logHandler=Uo,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}}const Ho=(t,e)=>e.some(r=>t instanceof r);let gn,bn;function zo(){return gn||(gn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Go(){return bn||(bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vr=new WeakMap,Ct=new WeakMap,_r=new WeakMap,dt=new WeakMap,At=new WeakMap;function qo(t){const e=new Promise((r,i)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(pe(t.result)),n()},o=()=>{i(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&vr.set(r,t)}).catch(()=>{}),At.set(e,t),e}function Wo(t){if(Ct.has(t))return;const e=new Promise((r,i)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),n()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ct.set(t,e)}let wt={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ct.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_r.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return pe(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xo(t){wt=t(wt)}function Ko(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=t.call(ht(this),e,...r);return _r.set(i,e.sort?e.sort():[e]),pe(i)}:Go().includes(t)?function(...e){return t.apply(ht(this),e),pe(vr.get(this))}:function(...e){return pe(t.apply(ht(this),e))}}function Yo(t){return typeof t=="function"?Ko(t):(t instanceof IDBTransaction&&Wo(t),Ho(t,zo())?new Proxy(t,wt):t)}function pe(t){if(t instanceof IDBRequest)return qo(t);if(dt.has(t))return dt.get(t);const e=Yo(t);return e!==t&&(dt.set(t,e),At.set(e,t)),e}const ht=t=>At.get(t);function Jo(t,e,{blocked:r,upgrade:i,blocking:n,terminated:s}={}){const o=indexedDB.open(t,e),c=pe(o);return i&&o.addEventListener("upgradeneeded",a=>{i(pe(o.result),a.oldVersion,a.newVersion,pe(o.transaction),a)}),r&&o.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),n&&a.addEventListener("versionchange",u=>n(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const Zo=["get","getKey","getAll","getAllKeys","count"],Qo=["put","add","delete","clear"],ft=new Map;function vn(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ft.get(e))return ft.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,n=Qo.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(n||Zo.includes(r)))return;const s=async function(o,...c){const a=this.transaction(o,n?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(c.shift())),(await Promise.all([u[r](...c),n&&a.done]))[0]};return ft.set(e,s),s}Xo(t=>({...t,get:(e,r,i)=>vn(e,r)||t.get(e,r,i),has:(e,r)=>!!vn(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(tl(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function tl(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ot="@firebase/app",_n="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae=new $o("@firebase/app"),nl="@firebase/app-compat",rl="@firebase/analytics-compat",il="@firebase/analytics",sl="@firebase/app-check-compat",al="@firebase/app-check",ol="@firebase/auth",ll="@firebase/auth-compat",cl="@firebase/database",ul="@firebase/data-connect",dl="@firebase/database-compat",hl="@firebase/functions",fl="@firebase/functions-compat",pl="@firebase/installations",ml="@firebase/installations-compat",gl="@firebase/messaging",bl="@firebase/messaging-compat",vl="@firebase/performance",_l="@firebase/performance-compat",yl="@firebase/remote-config",Sl="@firebase/remote-config-compat",xl="@firebase/storage",Cl="@firebase/storage-compat",wl="@firebase/firestore",Ol="@firebase/vertexai",Il="@firebase/firestore-compat",El="firebase",Rl="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="[DEFAULT]",Dl={[Ot]:"fire-core",[nl]:"fire-core-compat",[il]:"fire-analytics",[rl]:"fire-analytics-compat",[al]:"fire-app-check",[sl]:"fire-app-check-compat",[ol]:"fire-auth",[ll]:"fire-auth-compat",[cl]:"fire-rtdb",[ul]:"fire-data-connect",[dl]:"fire-rtdb-compat",[hl]:"fire-fn",[fl]:"fire-fn-compat",[pl]:"fire-iid",[ml]:"fire-iid-compat",[gl]:"fire-fcm",[bl]:"fire-fcm-compat",[vl]:"fire-perf",[_l]:"fire-perf-compat",[yl]:"fire-rc",[Sl]:"fire-rc-compat",[xl]:"fire-gcs",[Cl]:"fire-gcs-compat",[wl]:"fire-fst",[Il]:"fire-fst-compat",[Ol]:"fire-vertex","fire-js":"fire-js",[El]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je=new Map,Tl=new Map,Et=new Map;function yn(t,e){try{t.container.addComponent(e)}catch(r){ae.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ze(t){const e=t.name;if(Et.has(e))return ae.debug(`There were multiple attempts to register component ${e}.`),!1;Et.set(e,t);for(const r of Je.values())yn(r,t);for(const r of Tl.values())yn(r,t);return!0}function Pl(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},me=new br("app","Firebase",kl);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Te("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw me.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=Rl;function yr(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:It,automaticDataCollectionEnabled:!1},e),n=i.name;if(typeof n!="string"||!n)throw me.create("bad-app-name",{appName:String(n)});if(r||(r=gr()),!r)throw me.create("no-options");const s=Je.get(n);if(s){if(xt(r,s.options)&&xt(i,s.config))return s;throw me.create("duplicate-app",{appName:n})}const o=new No(n);for(const a of Et.values())o.addComponent(a);const c=new Ml(r,i,o);return Je.set(n,c),c}function Al(t=It){const e=Je.get(t);if(!e&&t===It&&gr())return yr();if(!e)throw me.create("no-app",{appName:t});return e}function Ce(t,e,r){var i;let n=(i=Dl[t])!==null&&i!==void 0?i:t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${n}" with version "${e}":`];s&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ae.warn(c.join(" "));return}Ze(new Te(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="firebase-heartbeat-database",Nl=1,Pe="firebase-heartbeat-store";let pt=null;function Sr(){return pt||(pt=Jo(Ll,Nl,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pe)}catch(r){console.warn(r)}}}}).catch(t=>{throw me.create("idb-open",{originalErrorMessage:t.message})})),pt}async function Fl(t){try{const r=(await Sr()).transaction(Pe),i=await r.objectStore(Pe).get(xr(t));return await r.done,i}catch(e){if(e instanceof we)ae.warn(e.message);else{const r=me.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ae.warn(r.message)}}}async function Sn(t,e){try{const i=(await Sr()).transaction(Pe,"readwrite");await i.objectStore(Pe).put(e,xr(t)),await i.done}catch(r){if(r instanceof we)ae.warn(r.message);else{const i=me.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ae.warn(i.message)}}}function xr(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=1024,Bl=30*24*60*60*1e3;class Ul{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Hl(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xn();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Bl}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ae.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=xn(),{heartbeatsToSend:i,unsentEntries:n}=$l(this._heartbeatsCache.heartbeats),s=Ye(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ae.warn(r),""}}}function xn(){return new Date().toISOString().substring(0,10)}function $l(t,e=Vl){const r=[];let i=t.slice();for(const n of t){const s=r.find(o=>o.agent===n.agent);if(s){if(s.dates.push(n.date),Cn(r)>e){s.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),Cn(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class Hl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Do()?To().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Fl(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sn(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Cn(t){return Ye(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){Ze(new Te("platform-logger",e=>new el(e),"PRIVATE")),Ze(new Te("heartbeat",e=>new Ul(e),"PRIVATE")),Ce(Ot,_n,t),Ce(Ot,_n,"esm2017"),Ce("fire-js","")}zl("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="firebasestorage.googleapis.com",wr="storageBucket",Gl=2*60*1e3,ql=10*60*1e3,Wl=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B extends we{constructor(e,r,i=0){super(mt(e),`Firebase Storage: ${r} (${mt(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,B.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var F;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(F||(F={}));function mt(t){return"storage/"+t}function Lt(){const t="An unknown error occurred, please check the error payload for server response.";return new B(F.UNKNOWN,t)}function Xl(t){return new B(F.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Kl(t){return new B(F.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Yl(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new B(F.UNAUTHENTICATED,t)}function Jl(){return new B(F.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Zl(t){return new B(F.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Or(){return new B(F.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ir(){return new B(F.CANCELED,"User canceled the upload/download.")}function Ql(t){return new B(F.INVALID_URL,"Invalid URL '"+t+"'.")}function ec(t){return new B(F.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tc(){return new B(F.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wr+"' property when initializing the app?")}function Er(){return new B(F.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nc(){return new B(F.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rc(){return new B(F.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ic(t){return new B(F.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rt(t){return new B(F.INVALID_ARGUMENT,t)}function Rr(){return new B(F.APP_DELETED,"The Firebase app was deleted.")}function sc(t){return new B(F.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function De(t,e){return new B(F.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ee(t){throw new B(F.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let i;try{i=Y.makeFromUrl(e,r)}catch{return new Y(e,"")}if(i.path==="")return i;throw ec(e)}static makeFromUrl(e,r){let i=null;const n="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+n+o,"i"),a={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${n}/o${f}`,"i"),v={bucket:1,path:3},y=r===Cr?"(?:storage.googleapis.com|storage.cloud.google.com)":r,p="([^?#]*)",_=new RegExp(`^https?://${y}/${n}/${p}`,"i"),x=[{regex:c,indices:a,postModify:s},{regex:m,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<x.length;w++){const O=x[w],T=O.regex.exec(e);if(T){const P=T[O.indices.bucket];let I=T[O.indices.path];I||(I=""),i=new Y(P,I),O.postModify(i);break}}if(i==null)throw Ql(e);return i}}class ac{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e,r){let i=1,n=null,s=null,o=!1,c=0;function a(){return c===2}let u=!1;function d(...p){u||(u=!0,e.apply(null,p))}function h(p){n=setTimeout(()=>{n=null,t(m,a())},p)}function f(){s&&clearTimeout(s)}function m(p,..._){if(u){f();return}if(p){f(),d.call(null,p,..._);return}if(a()||o){f(),d.call(null,p,..._);return}i<64&&(i*=2);let x;c===1?(c=2,x=0):x=(i+Math.random())*1e3,h(x)}let v=!1;function y(p){v||(v=!0,f(),!u&&(n!==null?(p||(c=2),clearTimeout(n),h(0)):p||(c=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},r),y}function lc(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){return t!==void 0}function uc(t){return typeof t=="function"}function dc(t){return typeof t=="object"&&!Array.isArray(t)}function rt(t){return typeof t=="string"||t instanceof String}function wn(t){return Nt()&&t instanceof Blob}function Nt(){return typeof Blob<"u"}function On(t,e,r,i){if(i<e)throw Rt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>r)throw Rt(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,r){let i=e;return r==null&&(i=`https://${e}`),`${r}://${i}/v0${t}`}function Dr(t){const e=encodeURIComponent;let r="?";for(const i in t)if(t.hasOwnProperty(i)){const n=e(i)+"="+e(t[i]);r=r+n+"&"}return r=r.slice(0,-1),r}var ve;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ve||(ve={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){const r=t>=500&&t<600,n=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||n||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,r,i,n,s,o,c,a,u,d,h,f=!0){this.url_=e,this.method_=r,this.headers_=i,this.body_=n,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(i,n)=>{if(n){i(!1,new Be(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const a=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===ve.NO_ERROR,a=s.getStatus();if(!c||Tr(a,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ve.ABORT;i(!1,new Be(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;i(!0,new Be(u,s))})},r=(i,n)=>{const s=this.resolve_,o=this.reject_,c=n.connection;if(n.wasSuccessCode)try{const a=this.callback_(c,c.getResponse());cc(a)?s(a):s()}catch(a){o(a)}else if(c!==null){const a=Lt();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(n.canceled){const a=this.appDelete_?Rr():Ir();o(a)}else{const a=Or();o(a)}};this.canceled_?r(!1,new Be(!1,null,!0)):this.backoffId_=oc(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lc(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Be{constructor(e,r,i){this.wasSuccessCode=e,this.connection=r,this.canceled=!!i}}function fc(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pc(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mc(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gc(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bc(t,e,r,i,n,s,o=!0){const c=Dr(t.urlParams),a=t.url+c,u=Object.assign({},t.headers);return mc(u,e),fc(u,r),pc(u,s),gc(u,i),new hc(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _c(...t){const e=vc();if(e!==void 0){const r=new e;for(let i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(Nt())return new Blob(t);throw new B(F.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yc(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(typeof atob>"u")throw ic("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gt{constructor(e,r){this.data=e,this.contentType=r||null}}function xc(t,e){switch(t){case ee.RAW:return new gt(Pr(e));case ee.BASE64:case ee.BASE64URL:return new gt(kr(t,e));case ee.DATA_URL:return new gt(wc(e),Oc(e))}throw Lt()}function Pr(t){const e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++r);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Cc(t){let e;try{e=decodeURIComponent(t)}catch{throw De(ee.DATA_URL,"Malformed data URL.")}return Pr(e)}function kr(t,e){switch(t){case ee.BASE64:{const n=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(n||s)throw De(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case ee.BASE64URL:{const n=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(n||s)throw De(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Sc(e)}catch(n){throw n.message.includes("polyfill")?n:De(t,"Invalid character found")}const i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i}class Mr{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw De(ee.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=r[1]||null;i!=null&&(this.base64=Ic(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function wc(t){const e=new Mr(t);return e.base64?kr(ee.BASE64,e.rest):Cc(e.rest)}function Oc(t){return new Mr(t).contentType}function Ic(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,r){let i=0,n="";wn(e)?(this.data_=e,i=e.size,n=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,r){if(wn(this.data_)){const i=this.data_,n=yc(i,e,r);return n===null?null:new fe(n)}else{const i=new Uint8Array(this.data_.buffer,e,r-e);return new fe(i,!0)}}static getBlob(...e){if(Nt()){const r=e.map(i=>i instanceof fe?i.data_:i);return new fe(_c.apply(null,r))}else{const r=e.map(o=>rt(o)?xc(ee.RAW,o).data:o.data_);let i=0;r.forEach(o=>{i+=o.byteLength});const n=new Uint8Array(i);let s=0;return r.forEach(o=>{for(let c=0;c<o.length;c++)n[s++]=o[c]}),new fe(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){let e;try{e=JSON.parse(t)}catch{return null}return dc(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Rc(t,e){const r=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?r:t+"/"+r}function Ar(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e){return e}class G{constructor(e,r,i,n){this.server=e,this.local=r||e,this.writable=!!i,this.xform=n||Dc}}let Ue=null;function Tc(t){return!rt(t)||t.length<2?t:Ar(t)}function Lr(){if(Ue)return Ue;const t=[];t.push(new G("bucket")),t.push(new G("generation")),t.push(new G("metageneration")),t.push(new G("name","fullPath",!0));function e(s,o){return Tc(o)}const r=new G("name");r.xform=e,t.push(r);function i(s,o){return o!==void 0?Number(o):o}const n=new G("size");return n.xform=i,t.push(n),t.push(new G("timeCreated")),t.push(new G("updated")),t.push(new G("md5Hash",null,!0)),t.push(new G("cacheControl",null,!0)),t.push(new G("contentDisposition",null,!0)),t.push(new G("contentEncoding",null,!0)),t.push(new G("contentLanguage",null,!0)),t.push(new G("contentType",null,!0)),t.push(new G("metadata","customMetadata",!0)),Ue=t,Ue}function Pc(t,e){function r(){const i=t.bucket,n=t.fullPath,s=new Y(i,n);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function kc(t,e,r){const i={};i.type="file";const n=r.length;for(let s=0;s<n;s++){const o=r[s];i[o.local]=o.xform(i,e[o.server])}return Pc(i,t),i}function Nr(t,e,r){const i=jr(e);return i===null?null:kc(t,i,r)}function Mc(t,e,r,i){const n=jr(e);if(n===null||!rt(n.downloadTokens))return null;const s=n.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=ke(f,r,i),v=Dr({alt:"media",token:u});return m+v})[0]}function Fr(t,e){const r={},i=e.length;for(let n=0;n<i;n++){const s=e[n];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class Oe{constructor(e,r,i,n){this.url=e,this.method=r,this.handler=i,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){if(!t)throw Lt()}function Ft(t,e){function r(i,n){const s=Nr(t,n,e);return ie(s!==null),s}return r}function jc(t,e){function r(i,n){const s=Nr(t,n,e);return ie(s!==null),Mc(s,n,t.host,t._protocol)}return r}function Me(t){function e(r,i){let n;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?n=Jl():n=Yl():r.getStatus()===402?n=Kl(t.bucket):r.getStatus()===403?n=Zl(t.path):n=i,n.status=r.getStatus(),n.serverResponse=i.serverResponse,n}return e}function Vr(t){const e=Me(t);function r(i,n){let s=e(i,n);return i.getStatus()===404&&(s=Xl(t.path)),s.serverResponse=n.serverResponse,s}return r}function Ac(t,e,r){const i=e.fullServerUrl(),n=ke(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new Oe(n,s,Ft(t,r),o);return c.errorHandler=Vr(e),c}function Lc(t,e,r){const i=e.fullServerUrl(),n=ke(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new Oe(n,s,jc(t,r),o);return c.errorHandler=Vr(e),c}function Nc(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Br(t,e,r){const i=Object.assign({},r);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Nc(null,e)),i}function Fc(t,e,r,i,n){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let x="";for(let w=0;w<2;w++)x=x+Math.random().toString().slice(2);return x}const a=c();o["Content-Type"]="multipart/related; boundary="+a;const u=Br(e,i,n),d=Fr(u,r),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+a+"--",m=fe.getBlob(h,i,f);if(m===null)throw Er();const v={name:u.fullPath},y=ke(s,t.host,t._protocol),p="POST",_=t.maxUploadRetryTime,C=new Oe(y,p,Ft(t,r),_);return C.urlParams=v,C.headers=o,C.body=m.uploadData(),C.errorHandler=Me(e),C}class Qe{constructor(e,r,i,n){this.current=e,this.total=r,this.finalized=!!i,this.metadata=n||null}}function Vt(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{ie(!1)}return ie(!!r&&(e||["active"]).indexOf(r)!==-1),r}function Vc(t,e,r,i,n){const s=e.bucketOnlyServerUrl(),o=Br(e,i,n),c={name:o.fullPath},a=ke(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Fr(o,r),f=t.maxUploadRetryTime;function m(y){Vt(y);let p;try{p=y.getResponseHeader("X-Goog-Upload-URL")}catch{ie(!1)}return ie(rt(p)),p}const v=new Oe(a,u,m,f);return v.urlParams=c,v.headers=d,v.body=h,v.errorHandler=Me(e),v}function Bc(t,e,r,i){const n={"X-Goog-Upload-Command":"query"};function s(u){const d=Vt(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ie(!1)}h||ie(!1);const f=Number(h);return ie(!isNaN(f)),new Qe(f,i.size(),d==="final")}const o="POST",c=t.maxUploadRetryTime,a=new Oe(r,o,s,c);return a.headers=n,a.errorHandler=Me(e),a}const In=256*1024;function Uc(t,e,r,i,n,s,o,c){const a=new Qe(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw nc();const u=a.total-a.current;let d=u;n>0&&(d=Math.min(d,n));const h=a.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${a.current}`},y=i.slice(h,f);if(y===null)throw Er();function p(w,O){const T=Vt(w,["active","final"]),P=a.current+d,I=i.size();let k;return T==="final"?k=Ft(e,s)(w,O):k=null,new Qe(P,I,T==="final",k)}const _="POST",C=e.maxUploadRetryTime,x=new Oe(r,_,p,C);return x.headers=v,x.body=y.uploadData(),x.progressCallback=c||null,x.errorHandler=Me(t),x}const W={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bt(t){switch(t){case"running":case"pausing":case"canceling":return W.RUNNING;case"paused":return W.PAUSED;case"success":return W.SUCCESS;case"canceled":return W.CANCELED;case"error":return W.ERROR;default:return W.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r,i){if(uc(e)||r!=null||i!=null)this.next=e,this.error=r??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Hc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ve.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ve.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ve.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,i,n){if(this.sent_)throw Ee("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),n!==void 0)for(const s in n)n.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,n[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ee("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ee("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ee("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ee("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zc extends Hc{initXhr(){this.xhr_.responseType="text"}}function xe(){return new zc}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=i,this._mappings=Lr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=n=>{if(this._request=void 0,this._chunkMultiplier=1,n._codeEquals(F.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Tr(n.status,[]))if(s)n=Or();else{this.sleepTime=Math.max(this.sleepTime*2,Wl),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=n,this._transition("error")}},this._metadataErrorHandler=n=>{this._request=void 0,n._codeEquals(F.CANCELED)?this.completeTransitions_():(this._error=n,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((n,s)=>{this._resolve=n,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,i])=>{switch(this._state){case"running":e(r,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const i=Vc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,xe,e,r);this._request=n,n.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,i)=>{const n=Bc(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(n,xe,r,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=In*this._chunkMultiplier,r=new Qe(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((n,s)=>{let o;try{o=Uc(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}const c=this._ref.storage._makeRequest(o,xe,n,s,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){In*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const i=Ac(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(i,xe,e,r);this._request=n,n.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const i=Fc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,xe,e,r);this._request=n,n.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ir(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=bt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,i,n){const s=new $c(r||void 0,i||void 0,n||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(bt(this._state)){case W.SUCCESS:Se(this._resolve.bind(null,this.snapshot))();break;case W.CANCELED:case W.ERROR:const r=this._reject;Se(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bt(this._state)){case W.RUNNING:case W.PAUSED:e.next&&Se(e.next.bind(e,this.snapshot))();break;case W.SUCCESS:e.complete&&Se(e.complete.bind(e))();break;case W.CANCELED:case W.ERROR:e.error&&Se(e.error.bind(e,this._error))();break;default:e.error&&Se(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,r){this._service=e,r instanceof Y?this._location=r:this._location=Y.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new _e(e,r)}get root(){const e=new Y(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ar(this._location.path)}get storage(){return this._service}get parent(){const e=Ec(this._location.path);if(e===null)return null;const r=new Y(this._location.bucket,e);return new _e(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw sc(e)}}function qc(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new Gc(t,new fe(e),r)}function Wc(t){t._throwIfRoot("getDownloadURL");const e=Lc(t.storage,t._location,Lr());return t.storage.makeRequestWithTokens(e,xe).then(r=>{if(r===null)throw rc();return r})}function Xc(t,e){const r=Rc(t._location.path,e),i=new Y(t._location.bucket,r);return new _e(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return/^[A-Za-z]+:\/\//.test(t)}function Yc(t,e){return new _e(t,e)}function Ur(t,e){if(t instanceof Bt){const r=t;if(r._bucket==null)throw tc();const i=new _e(r,r._bucket);return e!=null?Ur(i,e):i}else return e!==void 0?Xc(t,e):t}function Jc(t,e){if(e&&Kc(e)){if(t instanceof Bt)return Yc(t,e);throw Rt("To use ref(service, url), the first argument must be a Storage instance.")}else return Ur(t,e)}function En(t,e){const r=e==null?void 0:e[wr];return r==null?null:Y.makeFromBucketSpec(r,t)}function Zc(t,e,r,i={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:n}=i;n&&(t._overrideAuthToken=typeof n=="string"?n:Ro(n,t.app.options.projectId))}class Bt{constructor(e,r,i,n,s){this.app=e,this._authProvider=r,this._appCheckProvider=i,this._url=n,this._firebaseVersion=s,this._bucket=null,this._host=Cr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gl,this._maxUploadRetryTime=ql,this._requests=new Set,n!=null?this._bucket=Y.makeFromBucketSpec(n,this._host):this._bucket=En(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Y.makeFromBucketSpec(this._url,e):this._bucket=En(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){On("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){On("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _e(this,e)}_makeRequest(e,r,i,n,s=!0){if(this._deleted)return new ac(Rr());{const o=bc(e,this._appId,i,n,r,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[i,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,i,n).getPromise()}}const Rn="@firebase/storage",Dn="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="storage";function Qc(t,e,r){return t=nt(t),qc(t,e,r)}function eu(t){return t=nt(t),Wc(t)}function tu(t,e){return t=nt(t),Jc(t,e)}function nu(t=Al(),e){t=nt(t);const i=Pl(t,$r).getImmediate({identifier:e}),n=Io("storage");return n&&ru(i,...n),i}function ru(t,e,r,i={}){Zc(t,e,r,i)}function iu(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),n=t.getProvider("app-check-internal");return new Bt(r,i,n,e,jl)}function su(){Ze(new Te($r,iu,"PUBLIC").setMultipleInstances(!0)),Ce(Rn,Dn,""),Ce(Rn,Dn,"esm2017")}su();var au="firebase",ou="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce(au,ou,"app");const lu={apiKey:"AIzaSyByzyLqqjMhjnm_qY9Y6T8b1u7rToNz3v8",authDomain:"icp-smart-lab.firebaseapp.com",projectId:"icp-smart-lab",storageBucket:"icp-smart-lab.firebasestorage.app",messagingSenderId:"344878866991",appId:"1:344878866991:web:4bcc275a5c072a6466dcda"},cu=yr(lu),uu=nu(cu),du=async t=>{if(!t)throw new Error("❌ ไม่พบไฟล์สำหรับอัปโหลด");if(Array.isArray(t)||(t=[t]),t.length===0)throw new Error("❌ ไม่พบไฟล์สำหรับอัปโหลด");const e=t.map(i=>new Promise((n,s)=>{const c=`uploads/${Date.now()}_${i.relativePath||i.name}`,a=tu(uu,c),u=Qc(a,i);u.on("state_changed",d=>{},d=>{console.error("❌ Error uploading file:",d),s(d)},async()=>{try{const d=await eu(u.snapshot.ref);n({fileName:c,url:d})}catch(d){s(d)}})}));return await Promise.all(e)},hu=({onHandleSave:t,userId:e,sampleType:r})=>{const i=Pn(),[n,s]=S.useState(1),[o,c]=S.useState([]),[a,u]=S.useState({}),d={user_id:e,company_id:null,analysisMethod:"is_registration_analysis",notes:"",sample_type_id:r,fertilizerRecords:[],reportMethod:"is_self_pickup",email:"",sameAddress:!0,address:"",province:"",district:"",subDistrict:"",postalCode:"",otherRequirements:"",files:[],sampleDisposal:"is_lab_dispose_sample",is_self_pickup:0,pdf_email:"",is_mail_delivery:0,is_lab_dispose_sample:1,is_collect_within_3_months:0,is_return_sample:0,test_all_items:1,submitted_by:"",submitted_date:"",submitted_phone:""},f=[zt({company_id:ni().required("กรุณาเลือกบริษัท")}),zt({fertilizerRecords:ri().min(1,"กรุณาเพิ่มข้อมูลปุ๋ยอย่างน้อยหนึ่งรายการ")})][n-1],m=(C,{setErrors:x})=>{f.validate(C,{abortEarly:!1}).then(()=>{s(n+1)}).catch(w=>{const O={};w.inner.forEach(T=>{O[T.path]=T.message}),x(O),console.log("Validation errors:",O)})},v=()=>s(n-1),y=(C,{setSubmitting:x})=>{console.log("Form Values from All Steps:",C),t(C),x(!1)},p=async()=>{try{const C=await ui();c(C)}catch(C){console.log(C)}},_=async C=>{try{const x=await oi(C);u(Array.isArray(x)?x:[])}catch(x){console.error(x),u([])}};return S.useEffect(()=>{p()},[]),l.jsx(ii,{initialValues:d,validationSchema:f,onSubmit:y,children:({values:C,errors:x,touched:w,handleChange:O,handleBlur:T,setFieldValue:P,handleSubmit:I})=>l.jsx(g,{onSubmit:k=>{k.preventDefault(),n===3&&I(k)},children:l.jsxs(K,{children:[l.jsx(K.Header,{children:l.jsx("h5",{children:r===1?"ลงทะเบียนใบนำส่งตัวอย่างปุ๋ยเคมีเพื่อขึ้นทะเบียนปุ๋ย":"ลงทะเบียนใบนำส่งตัวอย่างปุ๋ยอินทรีย์"})}),l.jsxs(K.Body,{children:[l.jsxs("ul",{className:"form-stepper form-stepper-horizontal text-center mx-auto pl-0",children:[l.jsx("li",{className:`form-stepper-list text-center ${n===1?"form-stepper-active":n>1?"form-stepper-completed":"form-stepper-unfinished"}`,step:"1",children:l.jsxs("a",{className:"mx-2",children:[l.jsx("span",{className:"form-stepper-circle",children:l.jsx("span",{style:{fontSize:24},children:n===1?"1":l.jsx("i",{className:"feather icon-check"})})}),l.jsx("div",{className:"label",children:"ข้อมูลบริษัท"})]})}),l.jsx("li",{className:`form-stepper-list text-center ${n===2?"form-stepper-active":n>2?"form-stepper-completed":"form-stepper-unfinished"}`,step:"2",children:l.jsxs("a",{className:"mx-2",children:[l.jsx("span",{className:"form-stepper-circle",children:l.jsx("span",{style:{fontSize:24},children:n===2?"2":l.jsx("i",{className:"feather icon-check"})})}),l.jsx("div",{className:"label",children:"ข้อมูลปุ๋ยเคมี"})]})}),l.jsx("li",{className:`form-stepper-list text-center ${n===3?"form-stepper-active":n>3?"form-stepper-completed":"form-stepper-unfinished"}`,step:"3",children:l.jsxs("a",{className:"mx-2",children:[l.jsx("span",{className:"form-stepper-circle",children:l.jsx("span",{style:{fontSize:24},children:n===3?"3":l.jsx("i",{className:"feather icon-check"})})}),l.jsx("div",{className:"label",children:"ที่อยู่การจัดส่ง"})]})})]}),n===1&&l.jsx(yi,{values:C,errors:x,touched:w,handleChange:O,setFieldValue:P,spacialCon:a,handleGetCusSpacialCon:_}),n===2&&l.jsx(uo,{values:C,errors:x,touched:w,setFieldValue:P,fertilizerTypes:o}),n===3&&l.jsx(ho,{values:C,errors:x,touched:w,handleChange:O,handleBlur:T,setFieldValue:P})]}),l.jsxs(K.Footer,{className:"text-start",children:[n>1&&l.jsxs(Z,{variant:"secondary",onClick:v,children:[l.jsx("i",{className:"feather icon-arrow-left"})," ย้อนกลับ"]}),n<3?l.jsxs(Z,{variant:"primary",onClick:k=>{k.preventDefault(),m(C,{setErrors:P})},children:["ถัดไป ",l.jsx("i",{className:"feather icon-arrow-right",style:{marginLeft:12,marginRight:0}})]}):l.jsxs(Z,{variant:"primary",type:"submit",children:[l.jsx("i",{className:"feather icon-save"})," บันทึก"]}),l.jsxs(Z,{variant:"danger",onClick:()=>i("/user/request/"),children:[l.jsx("i",{className:"feather icon-corner-up-left"})," ยกเลิก"]})]})]})})})},Ru=()=>{var h;const t=Pn(),[e,r]=S.useState(null),[i,n]=S.useState(null),[s,o]=S.useState(!1),a=((h=ti().state)==null?void 0:h.user)||null;console.log(a);const u=f=>{r(f),f==="chemical"?n(1):f==="organic"&&n(2)};S.useEffect(()=>{a===null&&t("/user/request/")},[]);const d=async f=>{const m={user_id:a.user_id,customer_id:f.company_id,is_registration_analysis:f.analysisMethod==="is_registration_analysis"?1:0,is_quality_check_analysis:f.analysisMethod==="is_quality_check_analysis"?1:0,sample_type_id:f.sample_type_id,notes:f.notes};let v=[];f.fertilizerRecords.forEach(p=>{console.log(p.reportMethod);const _={request_id:null,is_single_fertilizer:p.fertilizerCategory==="is_single_fertilizer"?1:0,is_compound_fertilizer:p.fertilizerCategory==="is_compound_fertilizer"?1:0,is_mixed_fertilizer:p.fertilizerCategory==="is_mixed_fertilizer"?1:0,is_secondary_nutrient_fertilizer:p.fertilizerCategory==="is_secondary_nutrient_fertilizer"?1:0,fertilizer_type_id:p.fertilizer_type_id,color:p.color,fertilizer_formula:p.fertilizer_formula,packaging_other:p.packaging_other,common_name:p.common_name,trade_name:p.trade_name,trademark:p.trademark,manufacturer:p.manufacturer,manufacturer_country:p.manufacturer_country,supplier:p.supplier,supplier_country:p.supplier_country,composition:p.composition,sample_weight:p.sample_weight,sample_weight_unit:p.sample_weight_unit,packaging_id:p.packaging_id,test_all_items:f.test_all_items,is_self_pickup:f.reportMethod==="is_self_pickup"?1:0,pdf_email:f.reportMethod==="pdf_email"?f.email:"",is_mail_delivery:f.reportMethod==="is_self_pickup"?1:0,is_lab_dispose_sample:f.sampleDisposal==="is_lab_dispose_sample"?1:0,is_collect_within_3_months:f.sampleDisposal==="is_collect_within_3_months"?1:0,is_return_sample:f.sampleDisposal==="is_return_sample"?1:0,submitted_by:f.submitted_by,phone:f.submitted_phone,test_items:p.test_items};console.log("Step 2 data for record:",_),v.push(_)}),console.log("sampleSubmissionsData:",v);const y=f.files;try{const p=await si(m);if(p.request_id){for(const C of v){C.request_id=p.request_id;const x=await mo(C);if(console.log("responseSample:",x),x.submission_id){const w={submission_id:x.submission_id,test_items:C.test_items},O=await go(w);console.log("responseTestItem:",O)}}const _=await du(y);console.log("ผลลัพธ์การอัปโหลด:",_);for(const C of _){const x=C.fileName.split("/").pop(),w={request_id:p.request_id,uploaded_by:a.user_id,file_name:x,file_path:`/${C.fileName}`},O=await ai(w);console.log("Response from service-request-documents:",O)}o(!0)}}catch(p){console.log("Error:",p),alert("เกิดข้อผิดพลาดในการบันทึกข้อมูล:",p)}};return l.jsxs(l.Fragment,{children:[e===null&&l.jsxs(K,{children:[l.jsx(K.Header,{children:l.jsx("h5",{children:"เลือกการขอรับบริการ"})}),l.jsx(K.Body,{children:l.jsxs("div",{className:"d-flex justify-content-center",children:[l.jsxs(Z,{variant:"info",className:"w-50 py-4 d-flex align-items-center justify-content-center flex-column",onClick:()=>u("organic"),children:[l.jsx(po,{size:45,className:"mb-2"}),"แบบฟอร์มนำส่งตัวอย่างปุ๋ยอินทรีย์"]}),l.jsxs(Z,{variant:"success",className:"w-50  py-4 d-flex align-items-center justify-content-center flex-column",onClick:()=>u("chemical"),children:[l.jsx(fo,{size:45,className:"mb-2"}),"แบบฟอร์มนำส่งตัวอย่างปุ๋ยเคมีเพื่อขึ้นทะเบียนปุ๋ย"]})]})})]}),e!==null&&l.jsx(hu,{userId:a.user_id,onHandleSave:d,sampleType:i}),l.jsxs(he,{show:s,onHide:()=>o(!1),centered:!0,children:[l.jsxs(he.Body,{className:"text-center",children:[l.jsx("i",{className:"text-success",style:{fontSize:"3rem"},children:"✔"}),l.jsx("h5",{className:"mt-3",children:"ลงทะเบียนขอรับบริการสำเร็จ"}),l.jsx("p",{children:"กรุณารอผลการตรวจสอบคำขอใช้บริการ"})]}),l.jsx(he.Footer,{children:l.jsx(Z,{variant:"success",onClick:()=>t("/user/request/"),children:"ปิด"})})]})]})};export{Ru as default};
