import{r as t,j as e,n as y,aq as k,B as l}from"./index-Bq0BSIrC.js";import{r as v,s as b,g as E}from"./uploadFileRequest-CHVQkj-t.js";const C=({filePath:s,fileName:o,onDelete:i})=>{const[r,c]=t.useState(null),[f,d]=t.useState(!1),[m,u]=t.useState(null),x=async n=>{try{d(!0);const a=v(b,n),w=await E(a);c(w),u(null)}catch(a){console.error("❌ Error fetching file URL:",a),u("ไม่สามารถโหลดไฟล์ได้")}finally{d(!1)}};t.useEffect(()=>{s?x(s):c(null)},[s]);const p=o||(s?s.split("/").pop():"Unknown File"),j=()=>{if(r){const n=document.createElement("a");n.href=r,n.download=p,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},h=()=>{r&&window.open(r,"_blank")},g=()=>{i&&i(s,o)};return s?f?e.jsxs("span",{children:[e.jsx(y,{animation:"border",size:"sm"})," กำลังโหลด..."]}):m?e.jsx("span",{className:"text-danger",children:m}):r?e.jsxs(k.Item,{className:"mb-2 ps-2 pe-2",children:[e.jsx("span",{children:p}),e.jsxs("div",{className:"d-flex justify-content align-items-center mt-2",children:[e.jsx(l,{variant:"outline-primary",size:"sm",onClick:h,className:"me-2",children:"Preview"}),e.jsx(l,{variant:"outline-success",size:"sm",onClick:j,className:"me-2",children:"Download"}),e.jsx(l,{variant:"outline-danger",size:"sm",onClick:g,children:"Delete"})]})]}):null:e.jsx("span",{children:"ไม่มีไฟล์"})};export{C as F};
