import{r as l,d as E,j as i,e as T,P as c}from"./index-DZpC_pHZ.js";import{r as S,s as I,g as k}from"./firebaseConfig-pMHECxRz.js";c.string,c.bool,c.bool,c.bool,c.bool;const w=l.forwardRef(({bsPrefix:e,className:t,fluid:a=!1,rounded:o=!1,roundedCircle:s=!1,thumbnail:r=!1,...n},p)=>(e=E(e,"img"),i.jsx("img",{ref:p,...n,className:T(t,a&&`${e}-fluid`,o&&"rounded",s&&"rounded-circle",r&&`${e}-thumbnail`)})));w.displayName="Image";const u="https://apiav2-jlp2nagalq-as.a.run.app/api",x=async e=>{const t=new Headers;t.append("Content-Type","application/json");const a=JSON.stringify(e),o={method:"POST",headers:t,body:a,redirect:"follow"};try{const s=await fetch(`${u}/sample-tracking`,o);if(!s.ok){const r=await s.json();throw new Error(r.message||`HTTP Error: ${s.status}`)}return await s.json()}catch(s){throw console.error("Save customer special conditions Error:",s),s}},U=async(e,t)=>{const a=new Headers;a.append("Content-Type","application/json");const o=JSON.stringify(t),s={method:"PUT",headers:a,body:o,redirect:"follow"};try{const r=await fetch(`${u}/sample-tracking/`+e,s);if(!r.ok){const n=await r.json();throw new Error(n.message||`HTTP Error: ${r.status}`)}return await r.json()}catch(r){throw console.error("Save customer special conditions Error:",r),r}},O=async e=>{const t=new Headers;t.append("Content-Type","application/json");const a={method:"DELETE",headers:t,redirect:"follow"};return await(await fetch(u+"/sample-tracking/"+e,a)).json()},R=({imagePath:e,alt:t="Image",style:a,thumbnail:o=!0,fallbackImage:s})=>{const[r,n]=l.useState(null),[p,f]=l.useState(!1),[m,g]=l.useState(null),y=async h=>{try{f(!0);const d=S(I,h),j=await k(d);n(j),g(null)}catch(d){console.error("❌ Error fetching image URL:",d),g("ไม่สามารถโหลดรูปภาพได้"),n(s||null)}finally{f(!1)}};return l.useEffect(()=>{e?y(e):n(null)},[e]),e?p?i.jsx("span",{children:"กำลังโหลด..."}):m&&!r?i.jsx("span",{children:m}):r?i.jsx(w,{src:r,alt:t,style:a,thumbnail:o}):null:null};export{R as F,w as I,U as a,O as d,x as p};
