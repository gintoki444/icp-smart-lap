import{u,j as e,R as o,C as d,B as m}from"./index-Bq0BSIrC.js";import{c as b,a as p,F as f}from"./formik.esm-BOpZLvMI.js";import{p as v}from"./rolesRequest-Bh-L4AxF.js";import{C as r}from"./Card-C7kDYjR9.js";import{F as s}from"./Form-C1nYDdO8.js";function F(){const t=u(),x=b().shape({role_name:p().required("กรุณากรอกชื่อ Role"),description:p().required("กรุณากรอกรายละเอียด")}),h=async(n,{setErrors:i,setSubmitting:l})=>{console.log("values:",n);const a=await v(n);a.role_id?(alert("บันทึกข้อมูลสำเร็จ"),t("/admin/roles-list/")):(alert("บันทึกข้อมูลไม่สำเร็จ:",a.message),i({submit:a.message})),l(!1)};return e.jsx(o,{children:e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(o,{children:e.jsx(d,{children:e.jsx(r.Title,{as:"h5",children:"เพิ่มข้อมูล Role"})})})}),e.jsx(r.Body,{children:e.jsx(f,{initialValues:{role_name:"",description:""},validationSchema:x,onSubmit:h,children:({values:n,errors:i,touched:l,handleChange:a,handleBlur:c,handleSubmit:j})=>e.jsxs(s,{onSubmit:j,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"ชื่อ Role :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกชื่อ Role",name:"role_name",value:n.role_name,onChange:a,onBlur:c,isInvalid:l.role_name&&!!i.role_name}),e.jsx(s.Control.Feedback,{type:"invalid",children:i.role_name})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"รายละเอียด :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกรายละเอียด",name:"description",value:n.description,onChange:a,onBlur:c,isInvalid:l.description&&!!i.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:i.description})]}),e.jsx(o,{children:e.jsxs(d,{children:[e.jsxs(m,{variant:"primary",type:"submit",children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(m,{variant:"danger",onClick:()=>t("/admin/roles-list"),className:"ms-2",children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ย้อนกลับ"]})]})})]})})})]})})}export{F as default};
