import{D as as,f as os,r as C,u as us,h as ls,i as cs,j as u,c as ds,G as Hn,F as S,k as hs,R as me,C as L,_ as fs,m as M,n as ps,o as ms,B as J,p as gs,d as $n,q as bs}from"./index-Dtqx7INH.js";import{p as vs,a as _s}from"./serviceRequest-bFJtUotD.js";import{c as Ee,b as Me,a as P,d as ge,e as Ss,f as en,F as Es}from"./formik.esm-B_wI4ktB.js";import{g as ys}from"./specialConditionsRequest-DVpIoZFL.js";import{g as Cs,a as Is,b as Os}from"./testItemsRequest-BaglSrnL.js";import{g as zn}from"./customerRequest-BSWKX1-j.js";import{C as Q}from"./Card-Bkd81iOt.js";import{t as Gn,_ as qn,a as As,j as T,c as Wn,k as xs,T as ws}from"./TextField-CWSlrGbD.js";import{_ as Ds}from"./Transition-Bp0H6M_d.js";import{R as Ts}from"./index-CGFydlFf.js";import{T as Rs}from"./Table-D46jAfUL.js";import{B as Ms}from"./ButtonGroup-BNqkzXuK.js";import{M as fe}from"./Modal-CAXVhSlG.js";import{u as Fs}from"./index-D0K9W6zs.js";import"./memoTheme-Doo5A3zk.js";import"./CloseButton-Dl6xVBQO.js";import"./tslib.es6-RU1n5ZxP.js";function Ps(t,e=as,r=os){const s=[];return Object.entries(t).forEach(([n,i])=>{i!=null&&(typeof i=="object"?e.forEach(o=>{const l=i[o];if(l!=null){const a=o!==r?`-${o}`:"";s.push(`${n}${a}-${l}`)}}):s.push(`${n}-${i}`))}),s}const Lt=C.forwardRef(({as:t="div",bsPrefix:e,className:r,direction:s,gap:n,...i},o)=>{e=us(e,s==="horizontal"?"hstack":"vstack");const l=ls(),a=cs();return u.jsx(t,{...i,ref:o,className:ds(r,e,...Ps({gap:n},l,a))})});Lt.displayName="Stack";function Ns(t){return Hn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M99.5 18.406V92.22h321.594V18.405H99.5zm24.75 92.5v288.531h18.688v-288.53H124.25zm253.406 0v288.531h18.688v-288.53h-18.688zm-216.47 58.53v230l199.033.002v-230h-43.5c-.717 8.933-8.194 15.937-17.314 15.937s-16.596-7.004-17.312-15.938H267.75c.968 3.02 1.5 6.223 1.5 9.563 0 17.317-14.058 31.344-31.375 31.344S206.53 196.317 206.53 179c0-3.34.535-6.542 1.5-9.563h-46.843zm138.095 30.845c24.18 0 43.783 19.603 43.783 43.782 0 24.18-19.602 43.782-43.782 43.782-24.178 0-43.78-19.602-43.78-43.78 0-24.18 19.602-43.783 43.78-43.783zm-81.25 20.814c14.265 0 25.814 11.58 25.814 25.844 0 14.264-11.55 25.812-25.813 25.812-14.263 0-25.843-11.548-25.843-25.813 0-14.264 11.58-25.843 25.844-25.843zm68.564 79.344c14.264 0 25.844 11.58 25.844 25.843 0 14.265-11.58 25.814-25.844 25.814-14.264 0-25.813-11.55-25.813-25.813 0-14.263 11.55-25.842 25.814-25.842zM99.5 418.125v73.844h321.594v-73.845H99.5z"},child:[]}]})(t)}function ks(t){return Hn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M241.1 21.91c-89.7-.15-172.99 2.47-171.94 8.27l22.08 36.14c59.36-5.1 115.96-6.95 172.66-6.57 53.2.35 106.5 2.67 162.1 6.09l31.2-33.28c-4.5-6.74-114.4-10.48-216.1-10.65zm3.8 55.81c-49.1.12-98.3 1.99-149.69 6.32C73.42 207.7 61.35 358.6 89.71 451.7l-26.43 31c128.12 9.6 258.52 12.7 382.62 6.3L416 453.4c19.3-106.2 13.3-251.2.2-370.12-51.2-3.06-100.3-5.1-149.3-5.49L401.1 201h-71.3c3.8 23.1 20.4 54.3 37.9 83.2 9.9 16.4 20 32.3 27.7 46.3 7.7 14 13.6 25.7 13.6 37.5 0 28-18.9 51-46.7 65.9-27.8 15-65.1 23.1-106.3 23.1s-78.5-8.1-106.3-23.1C121.9 419 103 396 103 368c0-12 6.2-23.7 14.3-37.9 8.1-14.2 18.6-30.2 28.8-46.8 18-29.1 34.4-60.5 36.7-82.3H104zm11 14.37L152 183h48.3l.7 8.2c2.7 31.9-18.9 68-39.6 101.6-10.4 16.8-20.8 32.7-28.4 46.2-7.7 13.4-12 25-12 29 0 14.6 7 27.5 20.1 38.6 54.2-6.8 82-10.6 106.4-11.4.6-8.5 1.7-17 3.1-25.2-36.6 2.3-70.3-7.5-103.5-19.3 14.9-28.8 42.3-48.9 67-48.8 4.6 0 9.1.6 13.4 2.1 11.2 3.6 21.3 23.7 28 40.6 2.2-10.5 4.3-19.5 5.2-26.1v-.1c.9-6.2-1.6-24-4.8-38.7-2.3-10.6-4.7-19.9-5.9-24.3-6.3 0-11.9-1.2-15.6-5-25.4-26.4-8.9-75.2 12.9-102.4 15.5 25.8 35.7 53.6 56 72.8-4.4 14.8-12.4 26.7-27.9 32-2.1.2-4.7.5-7.3.9 1.4 5.2 3.4 13 5.4 22.1 1.3 5.7 2.5 11.6 3.5 17.5 5.3-4.9 11.4-9.4 16.4-9.6h1.1c28 2.6 59.7 29.6 67.7 69-27.5-12.6-59-5.3-83.9-30.2-2.8 18.6-10.6 46.6-12.7 72.8 24.1.8 51.9 4.6 105.3 11.3 13.1-11.1 20.1-24 20.1-38.6 0-4.2-4.1-15.6-11.4-28.8-7.3-13.3-17.2-29-27.3-45.7C332.2 260.3 311 224.2 311 192v-9h43.9zm.1 320.81c-22.3 0-45.9 3-90.7 8.7C189 432.5 220.8 439 256 439s67-6.5 90.7-17.4c-44.8-5.7-68.4-8.7-90.7-8.7z"},child:[]}]})(t)}const Kn="https://apiav2-3mp52qu73a-as.a.run.app/api",Ls=async t=>{const e=new Headers;e.append("Content-Type","application/json"),console.log("postSampleSubmissions",t);const r=JSON.stringify(t),s={method:"POST",headers:e,body:r,redirect:"follow"};try{const n=await fetch(Kn+"/sample-submissions",s);if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP Error: ${n.status}`)}return await n.json()}catch(n){throw console.error("Save SampleSubmissions data Error:",n),n}},Bs=async t=>{const e=new Headers;e.append("Content-Type","application/json"),console.log("postSampleSubmisDetail",t);const r=JSON.stringify(t),s={method:"POST",headers:e,body:r,redirect:"follow"};try{const n=await fetch(Kn+"/sample-submission-details",s);if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP Error: ${n.status}`)}return await n.json()}catch(n){throw console.error("Save SampleSubmissions data Error:",n),n}};var tn={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=n&63|128):(n&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=n&63|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=n&63|128)}return e},js=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const n=t[r++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){const i=t[r++];e[s++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=t[r++],o=t[r++],l=t[r++],a=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const i=t[r++],o=t[r++];e[s++]=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let n=0;n<t.length;n+=3){const i=t[n],o=n+1<t.length,l=o?t[n+1]:0,a=n+2<t.length,c=a?t[n+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let _=(l&15)<<2|c>>6,b=c&63;a||(b=64,o||(_=64)),s.push(r[d],r[h],r[_],r[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yn(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):js(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let n=0;n<t.length;){const i=r[t.charAt(n++)],l=n<t.length?r[t.charAt(n)]:0;++n;const c=n<t.length?r[t.charAt(n)]:64;++n;const h=n<t.length?r[t.charAt(n)]:64;if(++n,i==null||l==null||c==null||h==null)throw new Vs;const _=i<<2|l>>4;if(s.push(_),c!==64){const b=l<<4&240|c>>2;if(s.push(b),h!==64){const y=c<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vs extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Us=function(t){const e=Yn(t);return Zn.encodeByteArray(e,!0)},Ze=function(t){return Us(t).replace(/\./g,"")},Hs=function(t){try{return Zn.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=()=>$s().__FIREBASE_DEFAULTS__,Gs=()=>{if(typeof process>"u"||typeof tn>"u")return;const t=tn.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qs=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hs(t[1]);return e&&JSON.parse(e)},Xn=()=>{try{return zs()||Gs()||qs()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ws=t=>{var e,r;return(r=(e=Xn())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Ks=t=>{const e=Ws(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Jn=()=>{var t;return(t=Xn())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",n=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ze(JSON.stringify(r)),Ze(JSON.stringify(o)),""].join(".")}function Xs(){try{return typeof indexedDB=="object"}catch{return!1}}function Js(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var i;e(((i=n.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirebaseError";class we extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Qs,Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}}class Qn{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?ei(i,s):"Error",l=`${this.serviceName}: ${o} (${n}).`;return new we(n,l,s)}}function ei(t,e){return t.replace(ti,(r,s)=>{const n=e[s];return n!=null?String(n):`<${s}?>`})}const ti=/\{\$([^}]+)}/g;function At(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const n of r){if(!s.includes(n))return!1;const i=t[n],o=e[n];if(nn(i)&&nn(o)){if(!At(i,o))return!1}else if(i!==o)return!1}for(const n of s)if(!r.includes(n))return!1;return!0}function nn(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class ke{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ys;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:r});n&&s.resolve(n)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(si(e))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:n});s.resolve(i)}catch{}}}}clearInstance(e=Se){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Se){return this.instances.has(e)}getOptions(e=Se){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(n)}return n}onInit(e,r){var s;const n=this.normalizeInstanceIdentifier(r),i=(s=this.onInitCallbacks.get(n))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const n of s)try{n(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ri(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Se){return this.component?this.component.multipleInstances?e:Se:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ri(t){return t===Se?void 0:t}function si(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new ni(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(j||(j={}));const ai={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oi=j.INFO,ui={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},li=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),n=ui[e];if(n)console[n](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ci{constructor(e){this.name=e,this._logLevel=oi,this._logHandler=li,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in j))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ai[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...e),this._logHandler(this,j.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...e),this._logHandler(this,j.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,j.INFO,...e),this._logHandler(this,j.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,j.WARN,...e),this._logHandler(this,j.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...e),this._logHandler(this,j.ERROR,...e)}}const di=(t,e)=>e.some(r=>t instanceof r);let rn,sn;function hi(){return rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fi(){return sn||(sn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const er=new WeakMap,xt=new WeakMap,tr=new WeakMap,ht=new WeakMap,Bt=new WeakMap;function pi(t){const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(be(t.result)),n()},o=()=>{s(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&er.set(r,t)}).catch(()=>{}),Bt.set(e,t),e}function mi(t){if(xt.has(t))return;const e=new Promise((r,s)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),n()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xt.set(t,e)}let wt={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return xt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tr.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return be(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gi(t){wt=t(wt)}function bi(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(ft(this),e,...r);return tr.set(s,e.sort?e.sort():[e]),be(s)}:fi().includes(t)?function(...e){return t.apply(ft(this),e),be(er.get(this))}:function(...e){return be(t.apply(ft(this),e))}}function vi(t){return typeof t=="function"?bi(t):(t instanceof IDBTransaction&&mi(t),di(t,hi())?new Proxy(t,wt):t)}function be(t){if(t instanceof IDBRequest)return pi(t);if(ht.has(t))return ht.get(t);const e=vi(t);return e!==t&&(ht.set(t,e),Bt.set(e,t)),e}const ft=t=>Bt.get(t);function _i(t,e,{blocked:r,upgrade:s,blocking:n,terminated:i}={}){const o=indexedDB.open(t,e),l=be(o);return s&&o.addEventListener("upgradeneeded",a=>{s(be(o.result),a.oldVersion,a.newVersion,be(o.transaction),a)}),r&&o.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),n&&a.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Si=["get","getKey","getAll","getAllKeys","count"],Ei=["put","add","delete","clear"],pt=new Map;function an(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pt.get(e))return pt.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,n=Ei.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(n||Si.includes(r)))return;const i=async function(o,...l){const a=this.transaction(o,n?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[r](...l),n&&a.done]))[0]};return pt.set(e,i),i}gi(t=>({...t,get:(e,r,s)=>an(e,r)||t.get(e,r,s),has:(e,r)=>!!an(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ci(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Ci(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dt="@firebase/app",on="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=new ci("@firebase/app"),Ii="@firebase/app-compat",Oi="@firebase/analytics-compat",Ai="@firebase/analytics",xi="@firebase/app-check-compat",wi="@firebase/app-check",Di="@firebase/auth",Ti="@firebase/auth-compat",Ri="@firebase/database",Mi="@firebase/data-connect",Fi="@firebase/database-compat",Pi="@firebase/functions",Ni="@firebase/functions-compat",ki="@firebase/installations",Li="@firebase/installations-compat",Bi="@firebase/messaging",ji="@firebase/messaging-compat",Vi="@firebase/performance",Ui="@firebase/performance-compat",Hi="@firebase/remote-config",$i="@firebase/remote-config-compat",zi="@firebase/storage",Gi="@firebase/storage-compat",qi="@firebase/firestore",Wi="@firebase/vertexai",Ki="@firebase/firestore-compat",Yi="firebase",Zi="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="[DEFAULT]",Xi={[Dt]:"fire-core",[Ii]:"fire-core-compat",[Ai]:"fire-analytics",[Oi]:"fire-analytics-compat",[wi]:"fire-app-check",[xi]:"fire-app-check-compat",[Di]:"fire-auth",[Ti]:"fire-auth-compat",[Ri]:"fire-rtdb",[Mi]:"fire-data-connect",[Fi]:"fire-rtdb-compat",[Pi]:"fire-fn",[Ni]:"fire-fn-compat",[ki]:"fire-iid",[Li]:"fire-iid-compat",[Bi]:"fire-fcm",[ji]:"fire-fcm-compat",[Vi]:"fire-perf",[Ui]:"fire-perf-compat",[Hi]:"fire-rc",[$i]:"fire-rc-compat",[zi]:"fire-gcs",[Gi]:"fire-gcs-compat",[qi]:"fire-fst",[Ki]:"fire-fst-compat",[Wi]:"fire-vertex","fire-js":"fire-js",[Yi]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe=new Map,Ji=new Map,Rt=new Map;function un(t,e){try{t.container.addComponent(e)}catch(r){le.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Je(t){const e=t.name;if(Rt.has(e))return le.debug(`There were multiple attempts to register component ${e}.`),!1;Rt.set(e,t);for(const r of Xe.values())un(r,t);for(const r of Ji.values())un(r,t);return!0}function Qi(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ve=new Qn("app","Firebase",ea);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ke("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ve.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=Zi;function nr(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},e),n=s.name;if(typeof n!="string"||!n)throw ve.create("bad-app-name",{appName:String(n)});if(r||(r=Jn()),!r)throw ve.create("no-options");const i=Xe.get(n);if(i){if(At(r,i.options)&&At(s,i.config))return i;throw ve.create("duplicate-app",{appName:n})}const o=new ii(n);for(const a of Rt.values())o.addComponent(a);const l=new ta(r,s,o);return Xe.set(n,l),l}function ra(t=Tt){const e=Xe.get(t);if(!e&&t===Tt&&Jn())return nr();if(!e)throw ve.create("no-app",{appName:t});return e}function xe(t,e,r){var s;let n=(s=Xi[t])!==null&&s!==void 0?s:t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),le.warn(l.join(" "));return}Je(new ke(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="firebase-heartbeat-database",ia=1,Le="firebase-heartbeat-store";let mt=null;function rr(){return mt||(mt=_i(sa,ia,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Le)}catch(r){console.warn(r)}}}}).catch(t=>{throw ve.create("idb-open",{originalErrorMessage:t.message})})),mt}async function aa(t){try{const r=(await rr()).transaction(Le),s=await r.objectStore(Le).get(sr(t));return await r.done,s}catch(e){if(e instanceof we)le.warn(e.message);else{const r=ve.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});le.warn(r.message)}}}async function ln(t,e){try{const s=(await rr()).transaction(Le,"readwrite");await s.objectStore(Le).put(e,sr(t)),await s.done}catch(r){if(r instanceof we)le.warn(r.message);else{const s=ve.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});le.warn(s.message)}}}function sr(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=1024,ua=30*24*60*60*1e3;class la{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new da(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cn();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=ua}),this._storage.overwrite(this._heartbeatsCache))}catch(s){le.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=cn(),{heartbeatsToSend:s,unsentEntries:n}=ca(this._heartbeatsCache.heartbeats),i=Ze(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return le.warn(r),""}}}function cn(){return new Date().toISOString().substring(0,10)}function ca(t,e=oa){const r=[];let s=t.slice();for(const n of t){const i=r.find(o=>o.agent===n.agent);if(i){if(i.dates.push(n.date),dn(r)>e){i.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),dn(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class da{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xs()?Js().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await aa(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function dn(t){return Ze(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){Je(new ke("platform-logger",e=>new yi(e),"PRIVATE")),Je(new ke("heartbeat",e=>new la(e),"PRIVATE")),xe(Dt,on,t),xe(Dt,on,"esm2017"),xe("fire-js","")}ha("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="firebasestorage.googleapis.com",ar="storageBucket",fa=2*60*1e3,pa=10*60*1e3,ma=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H extends we{constructor(e,r,s=0){super(gt(e),`Firebase Storage: ${r} (${gt(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,H.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var V;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(V||(V={}));function gt(t){return"storage/"+t}function jt(){const t="An unknown error occurred, please check the error payload for server response.";return new H(V.UNKNOWN,t)}function ga(t){return new H(V.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ba(t){return new H(V.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function va(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new H(V.UNAUTHENTICATED,t)}function _a(){return new H(V.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Sa(t){return new H(V.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function or(){return new H(V.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ur(){return new H(V.CANCELED,"User canceled the upload/download.")}function Ea(t){return new H(V.INVALID_URL,"Invalid URL '"+t+"'.")}function ya(t){return new H(V.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ca(){return new H(V.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ar+"' property when initializing the app?")}function lr(){return new H(V.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ia(){return new H(V.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Oa(){return new H(V.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Aa(t){return new H(V.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mt(t){return new H(V.INVALID_ARGUMENT,t)}function cr(){return new H(V.APP_DELETED,"The Firebase app was deleted.")}function xa(t){return new H(V.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ne(t,e){return new H(V.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Te(t){throw new H(V.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=ee.makeFromUrl(e,r)}catch{return new ee(e,"")}if(s.path==="")return s;throw ya(e)}static makeFromUrl(e,r){let s=null;const n="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+n+o,"i"),a={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",b=new RegExp(`^https?://${h}/${d}/b/${n}/o${_}`,"i"),y={bucket:1,path:3},f=r===ir?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",p=new RegExp(`^https?://${f}/${n}/${g}`,"i"),A=[{regex:l,indices:a,postModify:i},{regex:b,indices:y,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<A.length;w++){const m=A[w],E=m.regex.exec(e);if(E){const O=E[m.indices.bucket];let x=E[m.indices.path];x||(x=""),s=new ee(O,x),m.postModify(s);break}}if(s==null)throw Ea(e);return s}}class wa{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e,r){let s=1,n=null,i=null,o=!1,l=0;function a(){return l===2}let c=!1;function d(...g){c||(c=!0,e.apply(null,g))}function h(g){n=setTimeout(()=>{n=null,t(b,a())},g)}function _(){i&&clearTimeout(i)}function b(g,...p){if(c){_();return}if(g){_(),d.call(null,g,...p);return}if(a()||o){_(),d.call(null,g,...p);return}s<64&&(s*=2);let A;l===1?(l=2,A=0):A=(s+Math.random())*1e3,h(A)}let y=!1;function f(g){y||(y=!0,_(),!c&&(n!==null?(g||(l=2),clearTimeout(n),h(0)):g||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,f(!0)},r),f}function Ta(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){return t!==void 0}function Ma(t){return typeof t=="function"}function Fa(t){return typeof t=="object"&&!Array.isArray(t)}function ut(t){return typeof t=="string"||t instanceof String}function hn(t){return Vt()&&t instanceof Blob}function Vt(){return typeof Blob<"u"}function fn(t,e,r,s){if(s<e)throw Mt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>r)throw Mt(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,r){let s=e;return r==null&&(s=`https://${e}`),`${r}://${s}/v0${t}`}function dr(t){const e=encodeURIComponent;let r="?";for(const s in t)if(t.hasOwnProperty(s)){const n=e(s)+"="+e(t[s]);r=r+n+"&"}return r=r.slice(0,-1),r}var ye;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ye||(ye={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){const r=t>=500&&t<600,n=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||n||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,r,s,n,i,o,l,a,c,d,h,_=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,y)=>{this.resolve_=b,this.reject_=y,this.start_()})}start_(){const e=(s,n)=>{if(n){s(!1,new Ue(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const a=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===ye.NO_ERROR,a=i.getStatus();if(!l||hr(a,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ye.ABORT;s(!1,new Ue(!1,null,d));return}const c=this.successCodes_.indexOf(a)!==-1;s(!0,new Ue(c,i))})},r=(s,n)=>{const i=this.resolve_,o=this.reject_,l=n.connection;if(n.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());Ra(a)?i(a):i()}catch(a){o(a)}else if(l!==null){const a=jt();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(n.canceled){const a=this.appDelete_?cr():ur();o(a)}else{const a=or();o(a)}};this.canceled_?r(!1,new Ue(!1,null,!0)):this.backoffId_=Da(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ta(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ue{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function Na(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ka(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function La(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ba(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ja(t,e,r,s,n,i,o=!0){const l=dr(t.urlParams),a=t.url+l,c=Object.assign({},t.headers);return La(c,e),Na(c,r),ka(c,i),Ba(c,s),new Pa(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ua(...t){const e=Va();if(e!==void 0){const r=new e;for(let s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}else{if(Vt())return new Blob(t);throw new H(V.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ha(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){if(typeof atob>"u")throw Aa("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bt{constructor(e,r){this.data=e,this.contentType=r||null}}function za(t,e){switch(t){case ie.RAW:return new bt(fr(e));case ie.BASE64:case ie.BASE64URL:return new bt(pr(t,e));case ie.DATA_URL:return new bt(qa(e),Wa(e))}throw jt()}function fr(t){const e=[];for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++r);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Ga(t){let e;try{e=decodeURIComponent(t)}catch{throw Ne(ie.DATA_URL,"Malformed data URL.")}return fr(e)}function pr(t,e){switch(t){case ie.BASE64:{const n=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(n||i)throw Ne(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case ie.BASE64URL:{const n=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(n||i)throw Ne(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=$a(e)}catch(n){throw n.message.includes("polyfill")?n:Ne(t,"Invalid character found")}const s=new Uint8Array(r.length);for(let n=0;n<r.length;n++)s[n]=r.charCodeAt(n);return s}class mr{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Ne(ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;s!=null&&(this.base64=Ka(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function qa(t){const e=new mr(t);return e.base64?pr(ie.BASE64,e.rest):Ga(e.rest)}function Wa(t){return new mr(t).contentType}function Ka(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,r){let s=0,n="";hn(e)?(this.data_=e,s=e.size,n=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,r){if(hn(this.data_)){const s=this.data_,n=Ha(s,e,r);return n===null?null:new pe(n)}else{const s=new Uint8Array(this.data_.buffer,e,r-e);return new pe(s,!0)}}static getBlob(...e){if(Vt()){const r=e.map(s=>s instanceof pe?s.data_:s);return new pe(Ua.apply(null,r))}else{const r=e.map(o=>ut(o)?za(ie.RAW,o).data:o.data_);let s=0;r.forEach(o=>{s+=o.byteLength});const n=new Uint8Array(s);let i=0;return r.forEach(o=>{for(let l=0;l<o.length;l++)n[i++]=o[l]}),new pe(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){let e;try{e=JSON.parse(t)}catch{return null}return Fa(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Za(t,e){const r=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?r:t+"/"+r}function br(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e){return e}class Y{constructor(e,r,s,n){this.server=e,this.local=r||e,this.writable=!!s,this.xform=n||Xa}}let He=null;function Ja(t){return!ut(t)||t.length<2?t:br(t)}function vr(){if(He)return He;const t=[];t.push(new Y("bucket")),t.push(new Y("generation")),t.push(new Y("metageneration")),t.push(new Y("name","fullPath",!0));function e(i,o){return Ja(o)}const r=new Y("name");r.xform=e,t.push(r);function s(i,o){return o!==void 0?Number(o):o}const n=new Y("size");return n.xform=s,t.push(n),t.push(new Y("timeCreated")),t.push(new Y("updated")),t.push(new Y("md5Hash",null,!0)),t.push(new Y("cacheControl",null,!0)),t.push(new Y("contentDisposition",null,!0)),t.push(new Y("contentEncoding",null,!0)),t.push(new Y("contentLanguage",null,!0)),t.push(new Y("contentType",null,!0)),t.push(new Y("metadata","customMetadata",!0)),He=t,He}function Qa(t,e){function r(){const s=t.bucket,n=t.fullPath,i=new ee(s,n);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function eo(t,e,r){const s={};s.type="file";const n=r.length;for(let i=0;i<n;i++){const o=r[i];s[o.local]=o.xform(s,e[o.server])}return Qa(s,t),s}function _r(t,e,r){const s=gr(e);return s===null?null:eo(t,s,r)}function to(t,e,r,s){const n=gr(e);if(n===null||!ut(n.downloadTokens))return null;const i=n.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,_="/b/"+o(d)+"/o/"+o(h),b=Be(_,r,s),y=dr({alt:"media",token:c});return b+y})[0]}function Sr(t,e){const r={},s=e.length;for(let n=0;n<s;n++){const i=e[n];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class De{constructor(e,r,s,n){this.url=e,this.method=r,this.handler=s,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t){if(!t)throw jt()}function Ut(t,e){function r(s,n){const i=_r(t,n,e);return oe(i!==null),i}return r}function no(t,e){function r(s,n){const i=_r(t,n,e);return oe(i!==null),to(i,n,t.host,t._protocol)}return r}function je(t){function e(r,s){let n;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?n=_a():n=va():r.getStatus()===402?n=ba(t.bucket):r.getStatus()===403?n=Sa(t.path):n=s,n.status=r.getStatus(),n.serverResponse=s.serverResponse,n}return e}function Er(t){const e=je(t);function r(s,n){let i=e(s,n);return s.getStatus()===404&&(i=ga(t.path)),i.serverResponse=n.serverResponse,i}return r}function ro(t,e,r){const s=e.fullServerUrl(),n=Be(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new De(n,i,Ut(t,r),o);return l.errorHandler=Er(e),l}function so(t,e,r){const s=e.fullServerUrl(),n=Be(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new De(n,i,no(t,r),o);return l.errorHandler=Er(e),l}function io(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yr(t,e,r){const s=Object.assign({},r);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=io(null,e)),s}function ao(t,e,r,s,n){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let w=0;w<2;w++)A=A+Math.random().toString().slice(2);return A}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const c=yr(e,s,n),d=Sr(c,r),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+c.contentType+`\r
\r
`,_=`\r
--`+a+"--",b=pe.getBlob(h,s,_);if(b===null)throw lr();const y={name:c.fullPath},f=Be(i,t.host,t._protocol),g="POST",p=t.maxUploadRetryTime,I=new De(f,g,Ut(t,r),p);return I.urlParams=y,I.headers=o,I.body=b.uploadData(),I.errorHandler=je(e),I}class Qe{constructor(e,r,s,n){this.current=e,this.total=r,this.finalized=!!s,this.metadata=n||null}}function Ht(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{oe(!1)}return oe(!!r&&(e||["active"]).indexOf(r)!==-1),r}function oo(t,e,r,s,n){const i=e.bucketOnlyServerUrl(),o=yr(e,s,n),l={name:o.fullPath},a=Be(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Sr(o,r),_=t.maxUploadRetryTime;function b(f){Ht(f);let g;try{g=f.getResponseHeader("X-Goog-Upload-URL")}catch{oe(!1)}return oe(ut(g)),g}const y=new De(a,c,b,_);return y.urlParams=l,y.headers=d,y.body=h,y.errorHandler=je(e),y}function uo(t,e,r,s){const n={"X-Goog-Upload-Command":"query"};function i(c){const d=Ht(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oe(!1)}h||oe(!1);const _=Number(h);return oe(!isNaN(_)),new Qe(_,s.size(),d==="final")}const o="POST",l=t.maxUploadRetryTime,a=new De(r,o,i,l);return a.headers=n,a.errorHandler=je(e),a}const pn=256*1024;function lo(t,e,r,s,n,i,o,l){const a=new Qe(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=s.size()),s.size()!==a.total)throw Ia();const c=a.total-a.current;let d=c;n>0&&(d=Math.min(d,n));const h=a.current,_=h+d;let b="";d===0?b="finalize":c===d?b="upload, finalize":b="upload";const y={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${a.current}`},f=s.slice(h,_);if(f===null)throw lr();function g(w,m){const E=Ht(w,["active","final"]),O=a.current+d,x=s.size();let D;return E==="final"?D=Ut(e,i)(w,m):D=null,new Qe(O,x,E==="final",D)}const p="POST",I=e.maxUploadRetryTime,A=new De(r,p,g,I);return A.headers=y,A.body=f.uploadData(),A.progressCallback=l||null,A.errorHandler=je(t),A}const X={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vt(t){switch(t){case"running":case"pausing":case"canceling":return X.RUNNING;case"paused":return X.PAUSED;case"success":return X.SUCCESS;case"canceled":return X.CANCELED;case"error":return X.ERROR;default:return X.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,r,s){if(Ma(e)||r!=null||s!=null)this.next=e,this.error=r??void 0,this.complete=s??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ho{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ye.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ye.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ye.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,s,n){if(this.sent_)throw Te("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),n!==void 0)for(const i in n)n.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,n[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Te("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Te("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Te("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Te("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fo extends ho{initXhr(){this.xhr_.responseType="text"}}function Ae(){return new fo}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=s,this._mappings=vr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=n=>{if(this._request=void 0,this._chunkMultiplier=1,n._codeEquals(V.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(hr(n.status,[]))if(i)n=or();else{this.sleepTime=Math.max(this.sleepTime*2,ma),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=n,this._transition("error")}},this._metadataErrorHandler=n=>{this._request=void 0,n._codeEquals(V.CANCELED)?this.completeTransitions_():(this._error=n,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((n,i)=>{this._resolve=n,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":e(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const s=oo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,Ae,e,r);this._request=n,n.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,s)=>{const n=uo(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(n,Ae,r,s);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=pn*this._chunkMultiplier,r=new Qe(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((n,i)=>{let o;try{o=lo(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Ae,n,i,!1);this._request=l,l.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){pn*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const s=ro(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(s,Ae,e,r);this._request=n,n.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const s=ao(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,Ae,e,r);this._request=n,n.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ur(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=vt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,s,n){const i=new co(r||void 0,s||void 0,n||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(vt(this._state)){case X.SUCCESS:Ie(this._resolve.bind(null,this.snapshot))();break;case X.CANCELED:case X.ERROR:const r=this._reject;Ie(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vt(this._state)){case X.RUNNING:case X.PAUSED:e.next&&Ie(e.next.bind(e,this.snapshot))();break;case X.SUCCESS:e.complete&&Ie(e.complete.bind(e))();break;case X.CANCELED:case X.ERROR:e.error&&Ie(e.error.bind(e,this._error))();break;default:e.error&&Ie(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,r){this._service=e,r instanceof ee?this._location=r:this._location=ee.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ce(e,r)}get root(){const e=new ee(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return br(this._location.path)}get storage(){return this._service}get parent(){const e=Ya(this._location.path);if(e===null)return null;const r=new ee(this._location.bucket,e);return new Ce(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw xa(e)}}function mo(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new po(t,new pe(e),r)}function go(t){t._throwIfRoot("getDownloadURL");const e=so(t.storage,t._location,vr());return t.storage.makeRequestWithTokens(e,Ae).then(r=>{if(r===null)throw Oa();return r})}function bo(t,e){const r=Za(t._location.path,e),s=new ee(t._location.bucket,r);return new Ce(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){return/^[A-Za-z]+:\/\//.test(t)}function _o(t,e){return new Ce(t,e)}function Cr(t,e){if(t instanceof $t){const r=t;if(r._bucket==null)throw Ca();const s=new Ce(r,r._bucket);return e!=null?Cr(s,e):s}else return e!==void 0?bo(t,e):t}function So(t,e){if(e&&vo(e)){if(t instanceof $t)return _o(t,e);throw Mt("To use ref(service, url), the first argument must be a Storage instance.")}else return Cr(t,e)}function mn(t,e){const r=e==null?void 0:e[ar];return r==null?null:ee.makeFromBucketSpec(r,t)}function Eo(t,e,r,s={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:n}=s;n&&(t._overrideAuthToken=typeof n=="string"?n:Zs(n,t.app.options.projectId))}class $t{constructor(e,r,s,n,i){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=ir,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fa,this._maxUploadRetryTime=pa,this._requests=new Set,n!=null?this._bucket=ee.makeFromBucketSpec(n,this._host):this._bucket=mn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ee.makeFromBucketSpec(this._url,e):this._bucket=mn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ce(this,e)}_makeRequest(e,r,s,n,i=!0){if(this._deleted)return new wa(cr());{const o=ja(e,this._appId,s,n,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[s,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,n).getPromise()}}const gn="@firebase/storage",bn="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="storage";function yo(t,e,r){return t=ot(t),mo(t,e,r)}function Co(t){return t=ot(t),go(t)}function Io(t,e){return t=ot(t),So(t,e)}function Oo(t=ra(),e){t=ot(t);const s=Qi(t,Ir).getImmediate({identifier:e}),n=Ks("storage");return n&&Ao(s,...n),s}function Ao(t,e,r,s={}){Eo(t,e,r,s)}function xo(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),n=t.getProvider("app-check-internal");return new $t(r,s,n,e,na)}function wo(){Je(new ke(Ir,xo,"PUBLIC").setMultipleInstances(!0)),xe(gn,bn,""),xe(gn,bn,"esm2017")}wo();var Do="firebase",To="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe(Do,To,"app");const Ro={apiKey:"AIzaSyByzyLqqjMhjnm_qY9Y6T8b1u7rToNz3v8",authDomain:"icp-smart-lab.firebaseapp.com",projectId:"icp-smart-lab",storageBucket:"icp-smart-lab.firebasestorage.app",messagingSenderId:"344878866991",appId:"1:344878866991:web:4bcc275a5c072a6466dcda"},Mo=nr(Ro),Fo=Oo(Mo),Po=async t=>{if(!t)throw new Error(" ");if(Array.isArray(t)||(t=[t]),t.length===0)throw new Error(" ");const e=t.map(s=>new Promise((n,i)=>{const l=`uploads/${Date.now()}_${s.relativePath||s.name}`,a=Io(Fo,l),c=yo(a,s);c.on("state_changed",d=>{},d=>{console.error(" Error uploading file:",d),i(d)},async()=>{try{const d=await Co(c.snapshot.ref);n({fileName:l,url:d})}catch(d){i(d)}})}));return await Promise.all(e)},No=({name:t="company_id",onSelect:e,value:r,disables:s,showText:n,userId:i,isInvalid:o=!1,errorMessage:l=""})=>{var _;const[a,c]=C.useState([]),d=async()=>{try{console.log("userId",i),i?await hs(i).then(b=>{c(b.filter(y=>y.status==="approved"))}):await zn().then(b=>{c(b)})}catch(b){console.log(b)}};C.useEffect(()=>{d()},[]);const h=b=>{const y=b.target.value,f=y?Number(y):null;e.length===1?e(f):e(t,f)};return u.jsxs(S.Group,{className:"mb-3",children:[u.jsxs(S.Label,{children:["",n?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-meta-1",children:" : "}),u.jsx("strong",{children:(_=a.find(b=>b.company_id===r))==null?void 0:_.company_name})]}):u.jsx("span",{className:"text-meta-1",children:": "})]}),!n&&u.jsxs(u.Fragment,{children:[u.jsxs(S.Select,{value:r||"",onChange:h,disabled:s,style:{padding:"8px 20px",fontSize:14},isInvalid:o,children:[u.jsx("option",{value:"",disabled:!0,className:"text-body dark:text-bodydark",children:""}),a.length>0&&a.map((b,y)=>u.jsx("option",{value:b.company_id,className:"text-body dark:text-bodydark",children:b.company_name},y))]}),o&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:l||""})]})]})},ko=({values:t,errors:e,touched:r,handleChange:s,setFieldValue:n,spacialCon:i,handleGetCusSpacialCon:o})=>{var a;const l=[{value:"is_registration_analysis",label:""},{value:"is_quality_check_analysis",label:""}];return u.jsx(me,{children:u.jsx(L,{children:u.jsx(Q,{className:"m-0",children:u.jsxs(Q.Body,{className:"pb-2 pt-4",children:[u.jsx("h5",{children:""}),u.jsx(S.Group,{className:"mb-3",children:u.jsx(No,{name:"company_id",value:t.company_id,userId:t.user_id,isInvalid:e.company_id,onSelect:(c,d)=>{n("company_id",d),o(d)}})}),i.length>0&&u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:" :"}),u.jsx(S.Control,{type:"text",readOnly:!0,value:((a=i.find(c=>c.company_id===t.company_id))==null?void 0:a.description)||""})]}),u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Group,{children:l.map((c,d)=>u.jsx(S.Check,{inline:!0,type:"radio",name:"analysisMethod",value:c.value,label:c.label,checked:t.analysisMethod===c.value,onChange:s,id:`reportCheck${d}`},d))}),e.analysisMethod&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.analysisMethod})]}),u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{as:"textarea",rows:3,name:"notes",placeholder:"",value:t.notes,onChange:s,isInvalid:r.notes&&!!e.notes}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.notes})]})]})})})})};function Fe(t,e,r){return(e=Gn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(r),!0).forEach(function(s){Fe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Lo(t){if(Array.isArray(t))return t}function Bo(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,n,i,o,l=[],a=!0,c=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;a=!1}else for(;!(a=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);a=!0);}catch(d){c=!0,n=d}finally{try{if(!a&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}function Ft(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function Or(t,e){if(t){if(typeof t=="string")return Ft(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(t,e):void 0}}function jo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(t,e){return Lo(t)||Bo(t,e)||Or(t,e)||jo()}function de(t,e){if(t==null)return{};var r,s,n=fs(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Vo=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Uo(t){var e=t.defaultInputValue,r=e===void 0?"":e,s=t.defaultMenuIsOpen,n=s===void 0?!1:s,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,d=t.onInputChange,h=t.onMenuClose,_=t.onMenuOpen,b=t.value,y=de(t,Vo),f=C.useState(l!==void 0?l:r),g=ue(f,2),p=g[0],I=g[1],A=C.useState(a!==void 0?a:n),w=ue(A,2),m=w[0],E=w[1],O=C.useState(b!==void 0?b:o),x=ue(O,2),D=x[0],F=x[1],$=C.useCallback(function(k,N){typeof c=="function"&&c(k,N),F(k)},[c]),U=C.useCallback(function(k,N){var W;typeof d=="function"&&(W=d(k,N)),I(W!==void 0?W:k)},[d]),ne=C.useCallback(function(){typeof _=="function"&&_(),E(!0)},[_]),te=C.useCallback(function(){typeof h=="function"&&h(),E(!1)},[h]),q=l!==void 0?l:p,G=a!==void 0?a:m,v=b!==void 0?b:D;return R(R({},y),{},{inputValue:q,menuIsOpen:G,onChange:$,onInputChange:U,onMenuClose:te,onMenuOpen:ne,value:v})}function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _n(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Gn(s.key),s)}}function $o(t,e,r){return e&&_n(t.prototype,e),r&&_n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ds(t,e)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(t)}function Ar(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ar=function(){return!!t})()}function Go(t,e){if(e&&(qn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return As(t)}function qo(t){var e=Ar();return function(){var r,s=et(t);if(e){var n=et(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return Go(this,r)}}function Wo(t){if(Array.isArray(t))return Ft(t)}function Ko(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(t){return Wo(t)||Ko(t)||Or(t)||Yo()}function Zo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Xo=Math.min,Jo=Math.max,tt=Math.round,$e=Math.floor,nt=t=>({x:t,y:t});function Qo(t){const{x:e,y:r,width:s,height:n}=t;return{width:s,height:n,top:r,left:e,right:e+s,bottom:r+n,x:e,y:r}}function lt(){return typeof window<"u"}function xr(t){return Dr(t)?(t.nodeName||"").toLowerCase():"#document"}function ce(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wr(t){var e;return(e=(Dr(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dr(t){return lt()?t instanceof Node||t instanceof ce(t).Node:!1}function eu(t){return lt()?t instanceof Element||t instanceof ce(t).Element:!1}function Gt(t){return lt()?t instanceof HTMLElement||t instanceof ce(t).HTMLElement:!1}function Sn(t){return!lt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ce(t).ShadowRoot}function Tr(t){const{overflow:e,overflowX:r,overflowY:s,display:n}=qt(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(n)}function tu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nu(t){return["html","body","#document"].includes(xr(t))}function qt(t){return ce(t).getComputedStyle(t)}function ru(t){if(xr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sn(t)&&t.host||wr(t);return Sn(e)?e.host:e}function Rr(t){const e=ru(t);return nu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gt(e)&&Tr(e)?e:Rr(e)}function rt(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=Rr(t),i=n===((s=t.ownerDocument)==null?void 0:s.body),o=ce(n);if(i){const l=Pt(o);return e.concat(o,o.visualViewport||[],Tr(n)?n:[],l&&r?rt(l):[])}return e.concat(n,rt(n,[],r))}function Pt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function su(t){const e=qt(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=Gt(t),i=n?t.offsetWidth:r,o=n?t.offsetHeight:s,l=tt(r)!==i||tt(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Wt(t){return eu(t)?t:t.contextElement}function En(t){const e=Wt(t);if(!Gt(e))return nt(1);const r=e.getBoundingClientRect(),{width:s,height:n,$:i}=su(e);let o=(i?tt(r.width):r.width)/s,l=(i?tt(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const iu=nt(0);function au(t){const e=ce(t);return!tu()||!e.visualViewport?iu:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ou(t,e,r){return!1}function yn(t,e,r,s){e===void 0&&(e=!1);const n=t.getBoundingClientRect(),i=Wt(t);let o=nt(1);e&&(o=En(t));const l=ou()?au(i):nt(0);let a=(n.left+l.x)/o.x,c=(n.top+l.y)/o.y,d=n.width/o.x,h=n.height/o.y;if(i){const _=ce(i),b=s;let y=_,f=Pt(y);for(;f&&s&&b!==y;){const g=En(f),p=f.getBoundingClientRect(),I=qt(f),A=p.left+(f.clientLeft+parseFloat(I.paddingLeft))*g.x,w=p.top+(f.clientTop+parseFloat(I.paddingTop))*g.y;a*=g.x,c*=g.y,d*=g.x,h*=g.y,a+=A,c+=w,y=ce(f),f=Pt(y)}}return Qo({width:d,height:h,x:a,y:c})}function Mr(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uu(t,e){let r=null,s;const n=wr(t);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:_,height:b}=c;if(l||e(),!_||!b)return;const y=$e(h),f=$e(n.clientWidth-(d+_)),g=$e(n.clientHeight-(h+b)),p=$e(d),A={rootMargin:-y+"px "+-f+"px "+-g+"px "+-p+"px",threshold:Jo(0,Xo(1,a))||1};let w=!0;function m(E){const O=E[0].intersectionRatio;if(O!==a){if(!w)return o();O?o(!1,O):s=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Mr(c,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(m,{...A,root:n.ownerDocument})}catch{r=new IntersectionObserver(m,A)}r.observe(t)}return o(!0),i}function lu(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=s,c=Wt(t),d=n||i?[...c?rt(c):[],...rt(e)]:[];d.forEach(p=>{n&&p.addEventListener("scroll",r,{passive:!0}),i&&p.addEventListener("resize",r)});const h=c&&l?uu(c,r):null;let _=-1,b=null;o&&(b=new ResizeObserver(p=>{let[I]=p;I&&I.target===c&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),r()}),c&&!a&&b.observe(c),b.observe(e));let y,f=a?yn(t):null;a&&g();function g(){const p=yn(t);f&&!Mr(f,p)&&r(),f=p,y=requestAnimationFrame(g)}return r(),()=>{var p;d.forEach(I=>{n&&I.removeEventListener("scroll",r),i&&I.removeEventListener("resize",r)}),h==null||h(),(p=b)==null||p.disconnect(),b=null,a&&cancelAnimationFrame(y)}}var Nt=C.useLayoutEffect,cu=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],st=function(){};function du(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function hu(t,e){for(var r=arguments.length,s=new Array(r>2?r-2:0),n=2;n<r;n++)s[n-2]=arguments[n];var i=[].concat(s);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(du(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Cn=function(e){return Eu(e)?e.filter(Boolean):qn(e)==="object"&&e!==null?[e]:[]},Fr=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=de(e,cu);return R({},r)},z=function(e,r,s){var n=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:n(s??{},o(r,e),l)}};function ct(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function fu(t){return ct(t)?window.innerHeight:t.clientHeight}function Pr(t){return ct(t)?window.pageYOffset:t.scrollTop}function it(t,e){if(ct(t)){window.scrollTo(0,e);return}t.scrollTop=e}function pu(t){var e=getComputedStyle(t),r=e.position==="absolute",s=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var n=t;n=n.parentElement;)if(e=getComputedStyle(n),!(r&&e.position==="static")&&s.test(e.overflow+e.overflowY+e.overflowX))return n;return document.documentElement}function mu(t,e,r,s){return r*((t=t/s-1)*t*t+1)+e}function ze(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:st,n=Pr(t),i=e-n,o=10,l=0;function a(){l+=o;var c=mu(l,n,i,r);it(t,c),l<r?window.requestAnimationFrame(a):s(t)}a()}function In(t,e){var r=t.getBoundingClientRect(),s=e.getBoundingClientRect(),n=e.offsetHeight/3;s.bottom+n>r.bottom?it(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+n,t.scrollHeight)):s.top-n<r.top&&it(t,Math.max(e.offsetTop-n,0))}function gu(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function On(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bu(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Nr=!1,vu={get passive(){return Nr=!0}},Ge=typeof window<"u"?window:{};Ge.addEventListener&&Ge.removeEventListener&&(Ge.addEventListener("p",st,vu),Ge.removeEventListener("p",st,!1));var _u=Nr;function Su(t){return t!=null}function Eu(t){return Array.isArray(t)}function qe(t,e,r){return t?e:r}var yu=function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];var i=Object.entries(e).filter(function(o){var l=ue(o,1),a=l[0];return!s.includes(a)});return i.reduce(function(o,l){var a=ue(l,2),c=a[0],d=a[1];return o[c]=d,o},{})},Cu=["children","innerProps"],Iu=["children","innerProps"];function Ou(t){var e=t.maxHeight,r=t.menuEl,s=t.minHeight,n=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,a=pu(r),c={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return c;var d=a.getBoundingClientRect(),h=d.height,_=r.getBoundingClientRect(),b=_.bottom,y=_.height,f=_.top,g=r.offsetParent.getBoundingClientRect(),p=g.top,I=o?window.innerHeight:fu(a),A=Pr(a),w=parseInt(getComputedStyle(r).marginBottom,10),m=parseInt(getComputedStyle(r).marginTop,10),E=p-m,O=I-f,x=E+A,D=h-A-f,F=b-I+A+w,$=A+f-m,U=160;switch(n){case"auto":case"bottom":if(O>=y)return{placement:"bottom",maxHeight:e};if(D>=y&&!o)return i&&ze(a,F,U),{placement:"bottom",maxHeight:e};if(!o&&D>=s||o&&O>=s){i&&ze(a,F,U);var ne=o?O-w:D-w;return{placement:"bottom",maxHeight:ne}}if(n==="auto"||o){var te=e,q=o?E:x;return q>=s&&(te=Math.min(q-w-l,e)),{placement:"top",maxHeight:te}}if(n==="bottom")return i&&it(a,F),{placement:"bottom",maxHeight:e};break;case"top":if(E>=y)return{placement:"top",maxHeight:e};if(x>=y&&!o)return i&&ze(a,$,U),{placement:"top",maxHeight:e};if(!o&&x>=s||o&&E>=s){var G=e;return(!o&&x>=s||o&&E>=s)&&(G=o?E-m:x-m),i&&ze(a,$,U),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return c}function Au(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var kr=function(e){return e==="auto"?"bottom":e},xu=function(e,r){var s,n=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,a=i.colors;return R((s={label:"menu"},Fe(s,Au(n),"100%"),Fe(s,"position","absolute"),Fe(s,"width","100%"),Fe(s,"zIndex",1),s),r?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Lr=C.createContext(null),wu=function(e){var r=e.children,s=e.minMenuHeight,n=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=C.useContext(Lr)||{},d=c.setPortalPlacement,h=C.useRef(null),_=C.useState(n),b=ue(_,2),y=b[0],f=b[1],g=C.useState(null),p=ue(g,2),I=p[0],A=p[1],w=a.spacing.controlHeight;return Nt(function(){var m=h.current;if(m){var E=o==="fixed",O=l&&!E,x=Ou({maxHeight:n,menuEl:m,minHeight:s,placement:i,shouldScroll:O,isFixedPosition:E,controlHeight:w});f(x.maxHeight),A(x.placement),d==null||d(x.placement)}},[n,i,o,l,s,d,w]),r({ref:h,placerProps:R(R({},e),{},{placement:I||kr(i),maxHeight:y})})},Du=function(e){var r=e.children,s=e.innerRef,n=e.innerProps;return T("div",M({},z(e,"menu",{menu:!0}),{ref:s},n),r)},Tu=Du,Ru=function(e,r){var s=e.maxHeight,n=e.theme.spacing.baseUnit;return R({maxHeight:s,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:n,paddingTop:n})},Mu=function(e){var r=e.children,s=e.innerProps,n=e.innerRef,i=e.isMulti;return T("div",M({},z(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:n},s),r)},Br=function(e,r){var s=e.theme,n=s.spacing.baseUnit,i=s.colors;return R({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(n*2,"px ").concat(n*3,"px")})},Fu=Br,Pu=Br,Nu=function(e){var r=e.children,s=r===void 0?"No options":r,n=e.innerProps,i=de(e,Cu);return T("div",M({},z(R(R({},i),{},{children:s,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),s)},ku=function(e){var r=e.children,s=r===void 0?"Loading...":r,n=e.innerProps,i=de(e,Iu);return T("div",M({},z(R(R({},i),{},{children:s,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),s)},Lu=function(e){var r=e.rect,s=e.offset,n=e.position;return{left:r.left,position:n,top:s,width:r.width,zIndex:1}},Bu=function(e){var r=e.appendTo,s=e.children,n=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,a=C.useRef(null),c=C.useRef(null),d=C.useState(kr(o)),h=ue(d,2),_=h[0],b=h[1],y=C.useMemo(function(){return{setPortalPlacement:b}},[]),f=C.useState(null),g=ue(f,2),p=g[0],I=g[1],A=C.useCallback(function(){if(n){var O=gu(n),x=l==="fixed"?0:window.pageYOffset,D=O[_]+x;(D!==(p==null?void 0:p.offset)||O.left!==(p==null?void 0:p.rect.left)||O.width!==(p==null?void 0:p.rect.width))&&I({offset:D,rect:O})}},[n,l,_,p==null?void 0:p.offset,p==null?void 0:p.rect.left,p==null?void 0:p.rect.width]);Nt(function(){A()},[A]);var w=C.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),n&&a.current&&(c.current=lu(n,a.current,A,{elementResize:"ResizeObserver"in window}))},[n,A]);Nt(function(){w()},[w]);var m=C.useCallback(function(O){a.current=O,w()},[w]);if(!r&&l!=="fixed"||!p)return null;var E=T("div",M({ref:m},z(R(R({},e),{},{offset:p.offset,position:l,rect:p.rect}),"menuPortal",{"menu-portal":!0}),i),s);return T(Lr.Provider,{value:y},r?ps.createPortal(E,r):E)},ju=function(e){var r=e.isDisabled,s=e.isRtl;return{label:"container",direction:s?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Vu=function(e){var r=e.children,s=e.innerProps,n=e.isDisabled,i=e.isRtl;return T("div",M({},z(e,"container",{"--is-disabled":n,"--is-rtl":i}),s),r)},Uu=function(e,r){var s=e.theme.spacing,n=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return R({alignItems:"center",display:n&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(s.baseUnit/2,"px ").concat(s.baseUnit*2,"px")})},Hu=function(e){var r=e.children,s=e.innerProps,n=e.isMulti,i=e.hasValue;return T("div",M({},z(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":i}),s),r)},$u=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},zu=function(e){var r=e.children,s=e.innerProps;return T("div",M({},z(e,"indicatorsContainer",{indicators:!0}),s),r)},An,Gu=["size"],qu=["innerProps","isRtl","size"],Wu={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},jr=function(e){var r=e.size,s=de(e,Gu);return T("svg",M({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Wu},s))},Kt=function(e){return T(jr,M({size:20},e),T("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Vr=function(e){return T(jr,M({size:20},e),T("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ur=function(e,r){var s=e.isFocused,n=e.theme,i=n.spacing.baseUnit,o=n.colors;return R({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:s?o.neutral60:o.neutral20,padding:i*2,":hover":{color:s?o.neutral80:o.neutral40}})},Ku=Ur,Yu=function(e){var r=e.children,s=e.innerProps;return T("div",M({},z(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),s),r||T(Vr,null))},Zu=Ur,Xu=function(e){var r=e.children,s=e.innerProps;return T("div",M({},z(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),s),r||T(Kt,null))},Ju=function(e,r){var s=e.isDisabled,n=e.theme,i=n.spacing.baseUnit,o=n.colors;return R({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:s?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},Qu=function(e){var r=e.innerProps;return T("span",M({},r,z(e,"indicatorSeparator",{"indicator-separator":!0})))},el=xs(An||(An=Zo([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),tl=function(e,r){var s=e.isFocused,n=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return R({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},r?{}:{color:s?o.neutral60:o.neutral20,padding:l*2})},_t=function(e){var r=e.delay,s=e.offset;return T("span",{css:Wn({animation:"".concat(el," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:s?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},nl=function(e){var r=e.innerProps,s=e.isRtl,n=e.size,i=n===void 0?4:n,o=de(e,qu);return T("div",M({},z(R(R({},o),{},{innerProps:r,isRtl:s,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),T(_t,{delay:0,offset:s}),T(_t,{delay:160,offset:!0}),T(_t,{delay:320,offset:!s}))},rl=function(e,r){var s=e.isDisabled,n=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,a=i.spacing;return R({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:s?o.neutral5:o.neutral0,borderColor:s?o.neutral10:n?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:n?o.primary:o.neutral30}})},sl=function(e){var r=e.children,s=e.isDisabled,n=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return T("div",M({ref:i},z(e,"control",{control:!0,"control--is-disabled":s,"control--is-focused":n,"control--menu-is-open":l}),o,{"aria-disabled":s||void 0}),r)},il=sl,al=["data"],ol=function(e,r){var s=e.theme.spacing;return r?{}:{paddingBottom:s.baseUnit*2,paddingTop:s.baseUnit*2}},ul=function(e){var r=e.children,s=e.cx,n=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,d=e.theme,h=e.selectProps;return T("div",M({},z(e,"group",{group:!0}),a),T(o,M({},l,{selectProps:h,theme:d,getStyles:n,getClassNames:i,cx:s}),c),T("div",null,r))},ll=function(e,r){var s=e.theme,n=s.colors,i=s.spacing;return R({label:"group",cursor:"default",display:"block"},r?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},cl=function(e){var r=Fr(e);r.data;var s=de(r,al);return T("div",M({},z(e,"groupHeading",{"group-heading":!0}),s))},dl=ul,hl=["innerRef","isDisabled","isHidden","inputClassName"],fl=function(e,r){var s=e.isDisabled,n=e.value,i=e.theme,o=i.spacing,l=i.colors;return R(R({visibility:s?"hidden":"visible",transform:n?"translateZ(0)":""},pl),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},Hr={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pl={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":R({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Hr)},ml=function(e){return R({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Hr)},gl=function(e){var r=e.cx,s=e.value,n=Fr(e),i=n.innerRef,o=n.isDisabled,l=n.isHidden,a=n.inputClassName,c=de(n,hl);return T("div",M({},z(e,"input",{"input-container":!0}),{"data-value":s||""}),T("input",M({className:r({input:!0},a),ref:i,style:ml(l),disabled:o},c)))},bl=gl,vl=function(e,r){var s=e.theme,n=s.spacing,i=s.borderRadius,o=s.colors;return R({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:n.baseUnit/2})},_l=function(e,r){var s=e.theme,n=s.borderRadius,i=s.colors,o=e.cropWithEllipsis;return R({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:n/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Sl=function(e,r){var s=e.theme,n=s.spacing,i=s.borderRadius,o=s.colors,l=e.isFocused;return R({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},$r=function(e){var r=e.children,s=e.innerProps;return T("div",s,r)},El=$r,yl=$r;function Cl(t){var e=t.children,r=t.innerProps;return T("div",M({role:"button"},r),e||T(Kt,{size:14}))}var Il=function(e){var r=e.children,s=e.components,n=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,a=e.selectProps,c=s.Container,d=s.Label,h=s.Remove;return T(c,{data:n,innerProps:R(R({},z(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:a},T(d,{data:n,innerProps:R({},z(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},r),T(h,{data:n,innerProps:R(R({},z(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:a}))},Ol=Il,Al=function(e,r){var s=e.isDisabled,n=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,a=o.colors;return R({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?a.primary:n?a.primary25:"transparent",color:s?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:s?void 0:i?a.primary:a.primary50}})},xl=function(e){var r=e.children,s=e.isDisabled,n=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return T("div",M({},z(e,"option",{option:!0,"option--is-disabled":s,"option--is-focused":n,"option--is-selected":i}),{ref:o,"aria-disabled":s},l),r)},wl=xl,Dl=function(e,r){var s=e.theme,n=s.spacing,i=s.colors;return R({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},Tl=function(e){var r=e.children,s=e.innerProps;return T("div",M({},z(e,"placeholder",{placeholder:!0}),s),r)},Rl=Tl,Ml=function(e,r){var s=e.isDisabled,n=e.theme,i=n.spacing,o=n.colors;return R({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:s?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Fl=function(e){var r=e.children,s=e.isDisabled,n=e.innerProps;return T("div",M({},z(e,"singleValue",{"single-value":!0,"single-value--is-disabled":s}),n),r)},Pl=Fl,Nl={ClearIndicator:Xu,Control:il,DropdownIndicator:Yu,DownChevron:Vr,CrossIcon:Kt,Group:dl,GroupHeading:cl,IndicatorsContainer:zu,IndicatorSeparator:Qu,Input:bl,LoadingIndicator:nl,Menu:Tu,MenuList:Mu,MenuPortal:Bu,LoadingMessage:ku,NoOptionsMessage:Nu,MultiValue:Ol,MultiValueContainer:El,MultiValueLabel:yl,MultiValueRemove:Cl,Option:wl,Placeholder:Rl,SelectContainer:Vu,SingleValue:Pl,ValueContainer:Hu},kl=function(e){return R(R({},Nl),e.components)},xn=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ll(t,e){return!!(t===e||xn(t)&&xn(e))}function Bl(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Ll(t[r],e[r]))return!1;return!0}function jl(t,e){e===void 0&&(e=Bl);var r=null;function s(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&e(n,r.lastArgs))return r.lastResult;var o=t.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return s.clear=function(){r=null},s}var Vl={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ul=function(e){return T("span",M({css:Vl},e))},wn=Ul,Hl={guidance:function(e){var r=e.isSearchable,s=e.isMulti,n=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,s=e.label,n=s===void 0?"":s,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(n," is disabled. Select another option."):"option ".concat(n,", selected.");default:return""}},onFocus:function(e){var r=e.context,s=e.focused,n=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,a=e.isDisabled,c=e.isSelected,d=e.isAppleDevice,h=function(f,g){return f&&f.length?"".concat(f.indexOf(g)+1," of ").concat(f.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,s),".");if(r==="menu"&&d){var _=a?" disabled":"",b="".concat(c?" selected":"").concat(_);return"".concat(o).concat(b,", ").concat(h(n,s),".")}return""},onFilter:function(e){var r=e.inputValue,s=e.resultsMessage;return"".concat(s).concat(r?" for search term "+r:"",".")}},$l=function(e){var r=e.ariaSelection,s=e.focusedOption,n=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,d=e.isAppleDevice,h=a.ariaLiveMessages,_=a.getOptionLabel,b=a.inputValue,y=a.isMulti,f=a.isOptionDisabled,g=a.isSearchable,p=a.menuIsOpen,I=a.options,A=a.screenReaderStatus,w=a.tabSelectsValue,m=a.isLoading,E=a["aria-label"],O=a["aria-live"],x=C.useMemo(function(){return R(R({},Hl),h||{})},[h]),D=C.useMemo(function(){var q="";if(r&&x.onChange){var G=r.option,v=r.options,k=r.removedValue,N=r.removedValues,W=r.value,_e=function(ae){return Array.isArray(ae)?null:ae},B=k||G||_e(W),K=B?_(B):"",Z=v||N||void 0,se=Z?Z.map(_):[],re=R({isDisabled:B&&f(B,l),label:K,labels:se},r);q=x.onChange(re)}return q},[r,x,f,l,_]),F=C.useMemo(function(){var q="",G=s||n,v=!!(s&&l&&l.includes(s));if(G&&x.onFocus){var k={focused:G,label:_(G),isDisabled:f(G,l),isSelected:v,options:i,context:G===s?"menu":"value",selectValue:l,isAppleDevice:d};q=x.onFocus(k)}return q},[s,n,_,f,x,i,l,d]),$=C.useMemo(function(){var q="";if(p&&I.length&&!m&&x.onFilter){var G=A({count:i.length});q=x.onFilter({inputValue:b,resultsMessage:G})}return q},[i,b,p,x,I,A,m]),U=(r==null?void 0:r.action)==="initial-input-focus",ne=C.useMemo(function(){var q="";if(x.guidance){var G=n?"value":p?"menu":"input";q=x.guidance({"aria-label":E,context:G,isDisabled:s&&f(s,l),isMulti:y,isSearchable:g,tabSelectsValue:w,isInitialFocus:U})}return q},[E,s,n,y,f,g,p,x,l,w,U]),te=T(C.Fragment,null,T("span",{id:"aria-selection"},D),T("span",{id:"aria-focused"},F),T("span",{id:"aria-results"},$),T("span",{id:"aria-guidance"},ne));return T(C.Fragment,null,T(wn,{id:c},U&&te),T(wn,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!U&&te))},zl=$l,kt=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Gl=new RegExp("["+kt.map(function(t){return t.letters}).join("")+"]","g"),zr={};for(var St=0;St<kt.length;St++)for(var Et=kt[St],yt=0;yt<Et.letters.length;yt++)zr[Et.letters[yt]]=Et.base;var Gr=function(e){return e.replace(Gl,function(r){return zr[r]})},ql=jl(Gr),Dn=function(e){return e.replace(/^\s+|\s+$/g,"")},Wl=function(e){return"".concat(e.label," ").concat(e.value)},Kl=function(e){return function(r,s){if(r.data.__isNew__)return!0;var n=R({ignoreCase:!0,ignoreAccents:!0,stringify:Wl,trim:!0,matchFrom:"any"},e),i=n.ignoreCase,o=n.ignoreAccents,l=n.stringify,a=n.trim,c=n.matchFrom,d=a?Dn(s):s,h=a?Dn(l(r)):l(r);return i&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=ql(d),h=Gr(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},Yl=["innerRef"];function Zl(t){var e=t.innerRef,r=de(t,Yl),s=yu(r,"onExited","in","enter","exit","appear");return T("input",M({ref:e},s,{css:Wn({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xl=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Jl(t){var e=t.isEnabled,r=t.onBottomArrive,s=t.onBottomLeave,n=t.onTopArrive,i=t.onTopLeave,o=C.useRef(!1),l=C.useRef(!1),a=C.useRef(0),c=C.useRef(null),d=C.useCallback(function(g,p){if(c.current!==null){var I=c.current,A=I.scrollTop,w=I.scrollHeight,m=I.clientHeight,E=c.current,O=p>0,x=w-m-A,D=!1;x>p&&o.current&&(s&&s(g),o.current=!1),O&&l.current&&(i&&i(g),l.current=!1),O&&p>x?(r&&!o.current&&r(g),E.scrollTop=w,D=!0,o.current=!0):!O&&-p>A&&(n&&!l.current&&n(g),E.scrollTop=0,D=!0,l.current=!0),D&&Xl(g)}},[r,s,n,i]),h=C.useCallback(function(g){d(g,g.deltaY)},[d]),_=C.useCallback(function(g){a.current=g.changedTouches[0].clientY},[]),b=C.useCallback(function(g){var p=a.current-g.changedTouches[0].clientY;d(g,p)},[d]),y=C.useCallback(function(g){if(g){var p=_u?{passive:!1}:!1;g.addEventListener("wheel",h,p),g.addEventListener("touchstart",_,p),g.addEventListener("touchmove",b,p)}},[b,_,h]),f=C.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",_,!1),g.removeEventListener("touchmove",b,!1))},[b,_,h]);return C.useEffect(function(){if(e){var g=c.current;return y(g),function(){f(g)}}},[e,y,f]),function(g){c.current=g}}var Tn=["boxSizing","height","overflow","paddingRight","position"],Rn={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Mn(t){t.cancelable&&t.preventDefault()}function Fn(t){t.stopPropagation()}function Pn(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function Nn(){return"ontouchstart"in window||navigator.maxTouchPoints}var kn=!!(typeof window<"u"&&window.document&&window.document.createElement),Re=0,Oe={capture:!1,passive:!1};function Ql(t){var e=t.isEnabled,r=t.accountForScrollbars,s=r===void 0?!0:r,n=C.useRef({}),i=C.useRef(null),o=C.useCallback(function(a){if(kn){var c=document.body,d=c&&c.style;if(s&&Tn.forEach(function(y){var f=d&&d[y];n.current[y]=f}),s&&Re<1){var h=parseInt(n.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,b=window.innerWidth-_+h||0;Object.keys(Rn).forEach(function(y){var f=Rn[y];d&&(d[y]=f)}),d&&(d.paddingRight="".concat(b,"px"))}c&&Nn()&&(c.addEventListener("touchmove",Mn,Oe),a&&(a.addEventListener("touchstart",Pn,Oe),a.addEventListener("touchmove",Fn,Oe))),Re+=1}},[s]),l=C.useCallback(function(a){if(kn){var c=document.body,d=c&&c.style;Re=Math.max(Re-1,0),s&&Re<1&&Tn.forEach(function(h){var _=n.current[h];d&&(d[h]=_)}),c&&Nn()&&(c.removeEventListener("touchmove",Mn,Oe),a&&(a.removeEventListener("touchstart",Pn,Oe),a.removeEventListener("touchmove",Fn,Oe)))}},[s]);return C.useEffect(function(){if(e){var a=i.current;return o(a),function(){l(a)}}},[e,o,l]),function(a){i.current=a}}var ec=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},tc={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function nc(t){var e=t.children,r=t.lockEnabled,s=t.captureEnabled,n=s===void 0?!0:s,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=Jl({isEnabled:n,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:a}),d=Ql({isEnabled:r}),h=function(b){c(b),d(b)};return T(C.Fragment,null,r&&T("div",{onClick:ec,css:tc}),e(h))}var rc={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},sc=function(e){var r=e.name,s=e.onFocus;return T("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:s,css:rc,value:"",onChange:function(){}})},ic=sc;function Yt(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function ac(){return Yt(/^iPhone/i)}function qr(){return Yt(/^Mac/i)}function oc(){return Yt(/^iPad/i)||qr()&&navigator.maxTouchPoints>1}function uc(){return ac()||oc()}function lc(){return qr()||uc()}var cc=function(e){return e.label},dc=function(e){return e.label},hc=function(e){return e.value},fc=function(e){return!!e.isDisabled},pc={clearIndicator:Zu,container:ju,control:rl,dropdownIndicator:Ku,group:ol,groupHeading:ll,indicatorsContainer:$u,indicatorSeparator:Ju,input:fl,loadingIndicator:tl,loadingMessage:Pu,menu:xu,menuList:Ru,menuPortal:Lu,multiValue:vl,multiValueLabel:_l,multiValueRemove:Sl,noOptionsMessage:Fu,option:Al,placeholder:Dl,singleValue:Ml,valueContainer:Uu},mc={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},gc=4,Wr=4,bc=38,vc=Wr*2,_c={baseUnit:Wr,controlHeight:bc,menuGutter:vc},Ct={borderRadius:gc,colors:mc,spacing:_c},Sc={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:On(),captureMenuScroll:!On(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Kl(),formatGroupLabel:cc,getOptionLabel:dc,getOptionValue:hc,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:fc,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bu(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ln(t,e,r,s){var n=Zr(t,e,r),i=Xr(t,e,r),o=Yr(t,e),l=at(t,e);return{type:"option",data:e,isDisabled:n,isSelected:i,label:o,value:l,index:s}}function Ke(t,e){return t.options.map(function(r,s){if("options"in r){var n=r.options.map(function(o,l){return Ln(t,o,e,l)}).filter(function(o){return jn(t,o)});return n.length>0?{type:"group",data:r,options:n,index:s}:void 0}var i=Ln(t,r,e,s);return jn(t,i)?i:void 0}).filter(Su)}function Kr(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,zt(r.options.map(function(s){return s.data}))):e.push(r.data),e},[])}function Bn(t,e){return t.reduce(function(r,s){return s.type==="group"?r.push.apply(r,zt(s.options.map(function(n){return{data:n.data,id:"".concat(e,"-").concat(s.index,"-").concat(n.index)}}))):r.push({data:s.data,id:"".concat(e,"-").concat(s.index)}),r},[])}function Ec(t,e){return Kr(Ke(t,e))}function jn(t,e){var r=t.inputValue,s=r===void 0?"":r,n=e.data,i=e.isSelected,o=e.label,l=e.value;return(!Qr(t)||!i)&&Jr(t,{label:o,value:l,data:n},s)}function yc(t,e){var r=t.focusedValue,s=t.selectValue,n=s.indexOf(r);if(n>-1){var i=e.indexOf(r);if(i>-1)return r;if(n<e.length)return e[n]}return null}function Cc(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var It=function(e,r){var s,n=(s=e.find(function(i){return i.data===r}))===null||s===void 0?void 0:s.id;return n||null},Yr=function(e,r){return e.getOptionLabel(r)},at=function(e,r){return e.getOptionValue(r)};function Zr(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function Xr(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var s=at(t,e);return r.some(function(n){return at(t,n)===s})}function Jr(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var Qr=function(e){var r=e.hideSelectedOptions,s=e.isMulti;return r===void 0?s:r},Ic=1,es=function(t){zo(r,t);var e=qo(r);function r(s){var n;if(Ho(this,r),n=e.call(this,s),n.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.isAppleDevice=lc(),n.controlRef=null,n.getControlRef=function(a){n.controlRef=a},n.focusedOptionRef=null,n.getFocusedOptionRef=function(a){n.focusedOptionRef=a},n.menuListRef=null,n.getMenuListRef=function(a){n.menuListRef=a},n.inputRef=null,n.getInputRef=function(a){n.inputRef=a},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(a,c){var d=n.props,h=d.onChange,_=d.name;c.name=_,n.ariaOnChange(a,c),h(a,c)},n.setValue=function(a,c,d){var h=n.props,_=h.closeMenuOnSelect,b=h.isMulti,y=h.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:y}),_&&(n.setState({inputIsHiddenAfterUpdate:!b}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(a,{action:c,option:d})},n.selectOption=function(a){var c=n.props,d=c.blurInputOnSelect,h=c.isMulti,_=c.name,b=n.state.selectValue,y=h&&n.isOptionSelected(a,b),f=n.isOptionDisabled(a,b);if(y){var g=n.getOptionValue(a);n.setValue(b.filter(function(p){return n.getOptionValue(p)!==g}),"deselect-option",a)}else if(!f)h?n.setValue([].concat(zt(b),[a]),"select-option",a):n.setValue(a,"select-option");else{n.ariaOnChange(a,{action:"select-option",option:a,name:_});return}d&&n.blurInput()},n.removeValue=function(a){var c=n.props.isMulti,d=n.state.selectValue,h=n.getOptionValue(a),_=d.filter(function(y){return n.getOptionValue(y)!==h}),b=qe(c,_,_[0]||null);n.onChange(b,{action:"remove-value",removedValue:a}),n.focusInput()},n.clearValue=function(){var a=n.state.selectValue;n.onChange(qe(n.props.isMulti,[],null),{action:"clear",removedValues:a})},n.popValue=function(){var a=n.props.isMulti,c=n.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),_=qe(a,h,h[0]||null);d&&n.onChange(_,{action:"pop-value",removedValue:d})},n.getFocusedOptionId=function(a){return It(n.state.focusableOptionsWithIds,a)},n.getFocusableOptionsWithIds=function(){return Bn(Ke(n.props,n.state.selectValue),n.getElementId("option"))},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return hu.apply(void 0,[n.props.classNamePrefix].concat(c))},n.getOptionLabel=function(a){return Yr(n.props,a)},n.getOptionValue=function(a){return at(n.props,a)},n.getStyles=function(a,c){var d=n.props.unstyled,h=pc[a](c,d);h.boxSizing="border-box";var _=n.props.styles[a];return _?_(h,c):h},n.getClassNames=function(a,c){var d,h;return(d=(h=n.props.classNames)[a])===null||d===void 0?void 0:d.call(h,c)},n.getElementId=function(a){return"".concat(n.state.instancePrefix,"-").concat(a)},n.getComponents=function(){return kl(n.props)},n.buildCategorizedOptions=function(){return Ke(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return Kr(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(a,c){n.setState({ariaSelection:R({value:a},c)})},n.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(a){n.blockOptionHover=!1},n.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&n.onMenuClose():c&&n.openMenu("first"):(c&&(n.openAfterFocus=!0),n.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},n.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!n.props.isDisabled){var c=n.props,d=c.isMulti,h=c.menuIsOpen;n.focusInput(),h?(n.setState({inputIsHiddenAfterUpdate:!d}),n.onMenuClose()):n.openMenu("first"),a.preventDefault()}},n.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(n.clearValue(),a.preventDefault(),n.openAfterFocus=!1,a.type==="touchend"?n.focusInput():setTimeout(function(){return n.focusInput()}))},n.onScroll=function(a){typeof n.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&ct(a.target)&&n.props.onMenuClose():typeof n.props.closeMenuOnScroll=="function"&&n.props.closeMenuOnScroll(a)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(a){var c=a.touches,d=c&&c.item(0);d&&(n.initialTouchX=d.clientX,n.initialTouchY=d.clientY,n.userIsDragging=!1)},n.onTouchMove=function(a){var c=a.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-n.initialTouchX),_=Math.abs(d.clientY-n.initialTouchY),b=5;n.userIsDragging=h>b||_>b}},n.onTouchEnd=function(a){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(a.target)&&n.menuListRef&&!n.menuListRef.contains(a.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(a){n.userIsDragging||n.onControlMouseDown(a)},n.onClearIndicatorTouchEnd=function(a){n.userIsDragging||n.onClearIndicatorMouseDown(a)},n.onDropdownIndicatorTouchEnd=function(a){n.userIsDragging||n.onDropdownIndicatorMouseDown(a)},n.handleInputChange=function(a){var c=n.props.inputValue,d=a.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(d,{action:"input-change",prevInputValue:c}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(a){n.props.onFocus&&n.props.onFocus(a),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(a){var c=n.props.inputValue;if(n.menuListRef&&n.menuListRef.contains(document.activeElement)){n.inputRef.focus();return}n.props.onBlur&&n.props.onBlur(a),n.onInputChange("",{action:"input-blur",prevInputValue:c}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1})},n.onOptionHover=function(a){if(!(n.blockOptionHover||n.state.focusedOption===a)){var c=n.getFocusableOptions(),d=c.indexOf(a);n.setState({focusedOption:a,focusedOptionId:d>-1?n.getFocusedOptionId(a):null})}},n.shouldHideSelectedOptions=function(){return Qr(n.props)},n.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),n.focus()},n.onKeyDown=function(a){var c=n.props,d=c.isMulti,h=c.backspaceRemovesValue,_=c.escapeClearsValue,b=c.inputValue,y=c.isClearable,f=c.isDisabled,g=c.menuIsOpen,p=c.onKeyDown,I=c.tabSelectsValue,A=c.openMenuOnFocus,w=n.state,m=w.focusedOption,E=w.focusedValue,O=w.selectValue;if(!f&&!(typeof p=="function"&&(p(a),a.defaultPrevented))){switch(n.blockOptionHover=!0,a.key){case"ArrowLeft":if(!d||b)return;n.focusValue("previous");break;case"ArrowRight":if(!d||b)return;n.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(E)n.removeValue(E);else{if(!h)return;d?n.popValue():y&&n.clearValue()}break;case"Tab":if(n.isComposing||a.shiftKey||!g||!I||!m||A&&n.isOptionSelected(m,O))return;n.selectOption(m);break;case"Enter":if(a.keyCode===229)break;if(g){if(!m||n.isComposing)return;n.selectOption(m);break}return;case"Escape":g?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:b}),n.onMenuClose()):y&&_&&n.clearValue();break;case" ":if(b)return;if(!g){n.openMenu("first");break}if(!m)return;n.selectOption(m);break;case"ArrowUp":g?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":g?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!g)return;n.focusOption("pageup");break;case"PageDown":if(!g)return;n.focusOption("pagedown");break;case"Home":if(!g)return;n.focusOption("first");break;case"End":if(!g)return;n.focusOption("last");break;default:return}a.preventDefault()}},n.state.instancePrefix="react-select-"+(n.props.instanceId||++Ic),n.state.selectValue=Cn(s.value),s.menuIsOpen&&n.state.selectValue.length){var i=n.getFocusableOptionsWithIds(),o=n.buildFocusableOptions(),l=o.indexOf(n.state.selectValue[0]);n.state.focusableOptionsWithIds=i,n.state.focusedOption=o[l],n.state.focusedOptionId=It(i,o[l])}return n}return $o(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&In(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(n){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,a=this.state.isFocused;(a&&!o&&n.isDisabled||a&&l&&!n.menuIsOpen)&&this.focusInput(),a&&o&&!n.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!o&&n.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(In(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(n,i){this.props.onInputChange(n,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(n){var i=this,o=this.state,l=o.selectValue,a=o.isFocused,c=this.buildFocusableOptions(),d=n==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(l[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(n){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=o.indexOf(l);l||(a=-1);var c=o.length-1,d=-1;if(o.length){switch(n){case"previous":a===0?d=0:a===-1?d=c:d=a-1;break;case"next":a>-1&&a<c&&(d=a+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(o);o||(c=-1),n==="up"?a=c>0?c-1:l.length-1:n==="down"?a=(c+1)%l.length:n==="pageup"?(a=c-i,a<0&&(a=0)):n==="pagedown"?(a=c+i,a>l.length-1&&(a=l.length-1)):n==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ct):R(R({},Ct),this.props.theme):Ct}},{key:"getCommonProps",value:function(){var n=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,_=h.isMulti,b=h.isRtl,y=h.options,f=this.hasValue();return{clearValue:n,cx:i,getStyles:o,getClassNames:l,getValue:a,hasValue:f,isMulti:_,isRtl:b,options:y,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var n=this.state.selectValue;return n.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var n=this.props,i=n.isClearable,o=n.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(n,i){return Zr(this.props,n,i)}},{key:"isOptionSelected",value:function(n,i){return Xr(this.props,n,i)}},{key:"filterOption",value:function(n,i){return Jr(this.props,n,i)}},{key:"formatOptionLabel",value:function(n,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(n,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(n)}},{key:"formatGroupLabel",value:function(n){return this.props.formatGroupLabel(n)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var n=this.props,i=n.isDisabled,o=n.isSearchable,l=n.inputId,a=n.inputValue,c=n.tabIndex,d=n.form,h=n.menuIsOpen,_=n.required,b=this.getComponents(),y=b.Input,f=this.state,g=f.inputIsHidden,p=f.ariaSelection,I=this.commonProps,A=l||this.getElementId("input"),w=R(R(R({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(p==null?void 0:p.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(y,M({},I,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:i,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:a},w)):C.createElement(Zl,M({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:st,onFocus:this.onInputFocus,disabled:i,tabIndex:c,inputMode:"none",form:d,value:""},w))}},{key:"renderPlaceholderOrValue",value:function(){var n=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,a=i.MultiValueLabel,c=i.MultiValueRemove,d=i.SingleValue,h=i.Placeholder,_=this.commonProps,b=this.props,y=b.controlShouldRenderValue,f=b.isDisabled,g=b.isMulti,p=b.inputValue,I=b.placeholder,A=this.state,w=A.selectValue,m=A.focusedValue,E=A.isFocused;if(!this.hasValue()||!y)return p?null:C.createElement(h,M({},_,{key:"placeholder",isDisabled:f,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),I);if(g)return w.map(function(x,D){var F=x===m,$="".concat(n.getOptionLabel(x),"-").concat(n.getOptionValue(x));return C.createElement(o,M({},_,{components:{Container:l,Label:a,Remove:c},isFocused:F,isDisabled:f,key:$,index:D,removeProps:{onClick:function(){return n.removeValue(x)},onTouchEnd:function(){return n.removeValue(x)},onMouseDown:function(ne){ne.preventDefault()}},data:x}),n.formatOptionLabel(x,"value"))});if(p)return null;var O=w[0];return C.createElement(d,M({},_,{data:O,isDisabled:f}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var n=this.getComponents(),i=n.ClearIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||a||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,M({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var n=this.getComponents(),i=n.LoadingIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,d=this.state.isFocused;if(!i||!c)return null;var h={"aria-hidden":"true"};return C.createElement(i,M({},o,{innerProps:h,isDisabled:a,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var n=this.getComponents(),i=n.DropdownIndicator,o=n.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return C.createElement(o,M({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var n=this.getComponents(),i=n.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,M({},o,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var n=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,a=i.Menu,c=i.MenuList,d=i.MenuPortal,h=i.LoadingMessage,_=i.NoOptionsMessage,b=i.Option,y=this.commonProps,f=this.state.focusedOption,g=this.props,p=g.captureMenuScroll,I=g.inputValue,A=g.isLoading,w=g.loadingMessage,m=g.minMenuHeight,E=g.maxMenuHeight,O=g.menuIsOpen,x=g.menuPlacement,D=g.menuPosition,F=g.menuPortalTarget,$=g.menuShouldBlockScroll,U=g.menuShouldScrollIntoView,ne=g.noOptionsMessage,te=g.onMenuScrollToTop,q=g.onMenuScrollToBottom;if(!O)return null;var G=function(K,Z){var se=K.type,re=K.data,he=K.isDisabled,ae=K.isSelected,Ve=K.label,rs=K.value,Xt=f===re,Jt=he?void 0:function(){return n.onOptionHover(re)},ss=he?void 0:function(){return n.selectOption(re)},Qt="".concat(n.getElementId("option"),"-").concat(Z),is={id:Qt,onClick:ss,onMouseMove:Jt,onMouseOver:Jt,tabIndex:-1,role:"option","aria-selected":n.isAppleDevice?void 0:ae};return C.createElement(b,M({},y,{innerProps:is,data:re,isDisabled:he,isSelected:ae,key:Qt,label:Ve,type:se,value:rs,isFocused:Xt,innerRef:Xt?n.getFocusedOptionRef:void 0}),n.formatOptionLabel(K.data,"menu"))},v;if(this.hasOptions())v=this.getCategorizedOptions().map(function(B){if(B.type==="group"){var K=B.data,Z=B.options,se=B.index,re="".concat(n.getElementId("group"),"-").concat(se),he="".concat(re,"-heading");return C.createElement(o,M({},y,{key:re,data:K,options:Z,Heading:l,headingProps:{id:he,data:B.data},label:n.formatGroupLabel(B.data)}),B.options.map(function(ae){return G(ae,"".concat(se,"-").concat(ae.index))}))}else if(B.type==="option")return G(B,"".concat(B.index))});else if(A){var k=w({inputValue:I});if(k===null)return null;v=C.createElement(h,y,k)}else{var N=ne({inputValue:I});if(N===null)return null;v=C.createElement(_,y,N)}var W={minMenuHeight:m,maxMenuHeight:E,menuPlacement:x,menuPosition:D,menuShouldScrollIntoView:U},_e=C.createElement(wu,M({},y,W),function(B){var K=B.ref,Z=B.placerProps,se=Z.placement,re=Z.maxHeight;return C.createElement(a,M({},y,W,{innerRef:K,innerProps:{onMouseDown:n.onMenuMouseDown,onMouseMove:n.onMenuMouseMove},isLoading:A,placement:se}),C.createElement(nc,{captureEnabled:p,onTopArrive:te,onBottomArrive:q,lockEnabled:$},function(he){return C.createElement(c,M({},y,{innerRef:function(Ve){n.getMenuListRef(Ve),he(Ve)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:n.getElementId("listbox")},isLoading:A,maxHeight:re,focusedOption:f}),v)}))});return F||D==="fixed"?C.createElement(d,M({},y,{appendTo:F,controlElement:this.controlRef,menuPlacement:x,menuPosition:D}),_e):_e}},{key:"renderFormField",value:function(){var n=this,i=this.props,o=i.delimiter,l=i.isDisabled,a=i.isMulti,c=i.name,d=i.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!l)return C.createElement(ic,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(o){var _=h.map(function(f){return n.getOptionValue(f)}).join(o);return C.createElement("input",{name:c,type:"hidden",value:_})}else{var b=h.length>0?h.map(function(f,g){return C.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:n.getOptionValue(f)})}):C.createElement("input",{name:c,type:"hidden",value:""});return C.createElement("div",null,b)}else{var y=h[0]?this.getOptionValue(h[0]):"";return C.createElement("input",{name:c,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var n=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,a=i.focusedValue,c=i.isFocused,d=i.selectValue,h=this.getFocusableOptions();return C.createElement(zl,M({},n,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:a,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var n=this.getComponents(),i=n.Control,o=n.IndicatorsContainer,l=n.SelectContainer,a=n.ValueContainer,c=this.props,d=c.className,h=c.id,_=c.isDisabled,b=c.menuIsOpen,y=this.state.isFocused,f=this.commonProps=this.getCommonProps();return C.createElement(l,M({},f,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:y}),this.renderLiveRegion(),C.createElement(i,M({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:y,menuIsOpen:b}),C.createElement(a,M({},f,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,M({},f,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(n,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,a=i.inputIsHiddenAfterUpdate,c=i.ariaSelection,d=i.isFocused,h=i.prevWasFocused,_=i.instancePrefix,b=n.options,y=n.value,f=n.menuIsOpen,g=n.inputValue,p=n.isMulti,I=Cn(y),A={};if(o&&(y!==o.value||b!==o.options||f!==o.menuIsOpen||g!==o.inputValue)){var w=f?Ec(n,I):[],m=f?Bn(Ke(n,I),"".concat(_,"-option")):[],E=l?yc(i,I):null,O=Cc(i,w),x=It(m,O);A={selectValue:I,focusedOption:O,focusedOptionId:x,focusableOptionsWithIds:m,focusedValue:E,clearFocusValueOnUpdate:!1}}var D=a!=null&&n!==o?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},F=c,$=d&&h;return d&&!$&&(F={value:qe(p,I,I[0]||null),options:I,action:"initial-input-focus"},$=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(F=null),R(R(R({},A),D),{},{prevProps:n,ariaSelection:F,prevWasFocused:$})}}]),r}(C.Component);es.defaultProps=Sc;var Oc=C.forwardRef(function(t,e){var r=Uo(t);return C.createElement(es,M({ref:e},r))}),Pe=Oc,ts={};const Ac=[["AF","AFG","004","ISO 3166-2:AF"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["MK","MKD","807","ISO 3166-2:MK"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["AX","ALA","248","ISO 3166-2:AX"],["BQ","BES","535","ISO 3166-2:BQ"],["CW","CUW","531","ISO 3166-2:CW"],["GG","GGY","831","ISO 3166-2:GG"],["IM","IMN","833","ISO 3166-2:IM"],["JE","JEY","832","ISO 3166-2:JE"],["ME","MNE","499","ISO 3166-2:ME"],["BL","BLM","652","ISO 3166-2:BL"],["MF","MAF","663","ISO 3166-2:MF"],["RS","SRB","688","ISO 3166-2:RS"],["SX","SXM","534","ISO 3166-2:SX"],["SS","SSD","728","ISO 3166-2:SS"],["XK","XKK","983","ISO 3166-2:XK"]],xc=["br","cy","dv","sw","eu","af","am","ha","ku","ml","mt","no","ps","sd","so","sq","ta","tg","tt","ug","ur","vi","ar","az","be","bg","bn","bs","ca","cs","da","de","el","en","es","et","fa","fi","fr","ga","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","ko","ky","lt","lv","mk","mn","mr","ms","nb","nl","nn","pl","pt","ro","ru","sk","sl","sr","sv","th","tk","tr","uk","uz","zh"];var dt={};dt.remove=wc;var Ye=[{base:" ",chars:""},{base:"0",chars:""},{base:"A",chars:""},{base:"AA",chars:""},{base:"AE",chars:""},{base:"AO",chars:""},{base:"AU",chars:""},{base:"AV",chars:""},{base:"AY",chars:""},{base:"B",chars:""},{base:"C",chars:"C"},{base:"D",chars:""},{base:"Dh",chars:""},{base:"DZ",chars:""},{base:"Dz",chars:""},{base:"E",chars:""},{base:"F",chars:""},{base:"G",chars:""},{base:"H",chars:""},{base:"I",chars:""},{base:"J",chars:""},{base:"K",chars:""},{base:"L",chars:""},{base:"LJ",chars:""},{base:"Lj",chars:""},{base:"M",chars:""},{base:"N",chars:""},{base:"NJ",chars:""},{base:"Nj",chars:""},{base:"O",chars:""},{base:"OE",chars:""},{base:"OI",chars:""},{base:"OO",chars:""},{base:"OU",chars:""},{base:"P",chars:""},{base:"Q",chars:""},{base:"R",chars:""},{base:"S",chars:""},{base:"T",chars:""},{base:"Th",chars:""},{base:"TZ",chars:""},{base:"U",chars:""},{base:"V",chars:""},{base:"VY",chars:""},{base:"W",chars:""},{base:"X",chars:""},{base:"Y",chars:""},{base:"Z",chars:""},{base:"a",chars:""},{base:"aa",chars:""},{base:"ae",chars:""},{base:"ao",chars:""},{base:"au",chars:""},{base:"av",chars:""},{base:"ay",chars:""},{base:"b",chars:""},{base:"c",chars:""},{base:"d",chars:""},{base:"dh",chars:""},{base:"dz",chars:""},{base:"e",chars:""},{base:"f",chars:""},{base:"ff",chars:""},{base:"fi",chars:""},{base:"fl",chars:""},{base:"ffi",chars:""},{base:"ffl",chars:""},{base:"g",chars:""},{base:"h",chars:""},{base:"hv",chars:""},{base:"i",chars:""},{base:"j",chars:""},{base:"k",chars:""},{base:"l",chars:""},{base:"lj",chars:""},{base:"m",chars:""},{base:"n",chars:""},{base:"nj",chars:""},{base:"o",chars:""},{base:"oe",chars:""},{base:"oi",chars:""},{base:"oo",chars:""},{base:"ou",chars:""},{base:"p",chars:""},{base:"q",chars:""},{base:"r",chars:""},{base:"s",chars:""},{base:"ss",chars:""},{base:"t",chars:""},{base:"th",chars:""},{base:"tz",chars:""},{base:"u",chars:""},{base:"v",chars:""},{base:"vy",chars:""},{base:"w",chars:""},{base:"x",chars:""},{base:"y",chars:""},{base:"z",chars:""}],Zt={};for(var We=0;We<Ye.length;We+=1)for(var Vn=Ye[We].chars,Ot=0;Ot<Vn.length;Ot+=1)Zt[Vn[Ot]]=Ye[We].base;function wc(t){return t.replace(/[^\u0000-\u007e]/g,function(e){return Zt[e]||e})}dt.replacementList=Ye;dt.diacriticsMap=Zt;(function(t){const e=Ac,r=xc,s=dt.remove,n={},i={},o={},l={},a={};e.forEach(function(m){const E=m;i[E[0]]=E[1],o[E[1]]=E[0],l[E[2]]=E[0],a[E[0]]=E[2]});function c(m){return("000"+(m||"")).slice(-3)}function d(m,E){return Object.prototype.hasOwnProperty.call(m,E)}function h(m,E){return Object.keys(m).reduce(function(O,x){const D=m[x];return O[x]=E(D,x),O},{})}function _(m,E){switch(m){case"official":return Array.isArray(E)?E[0]:E;case"all":return typeof E=="string"?[E]:E;case"alias":return Array.isArray(E)?E[1]||E[0]:E;default:throw new TypeError("LocaleNameType must be one of these: all, official, alias!")}}t.registerLocale=function(m){if(!m.locale)throw new TypeError("Missing localeData.locale");if(!m.countries)throw new TypeError("Missing localeData.countries");n[m.locale]=m.countries};function b(m){return o[m]}t.alpha3ToAlpha2=b;function y(m){return i[m]}t.alpha2ToAlpha3=y;function f(m){return a[b(m)]}t.alpha3ToNumeric=f;function g(m){return a[m]}t.alpha2ToNumeric=g;function p(m){const E=c(m);return y(l[E])}t.numericToAlpha3=p;function I(m){const E=c(m);return l[E]}t.numericToAlpha2=I;function A(m){if(typeof m=="string"){if(/^[0-9]*$/.test(m))return p(m);if(m.length===2)return y(m.toUpperCase());if(m.length===3)return m.toUpperCase()}if(typeof m=="number")return p(m)}t.toAlpha3=A;function w(m){if(typeof m=="string"){if(/^[0-9]*$/.test(m))return I(m);if(m.length===2)return m.toUpperCase();if(m.length===3)return b(m.toUpperCase())}if(typeof m=="number")return I(m)}t.toAlpha2=w,t.getName=function(m,E,O={}){"select"in O||(O.select="official");try{const D=n[E.toLowerCase()][w(m)];return _(O.select,D)}catch{return}},t.getNames=function(m,E={}){"select"in E||(E.select="official");const O=n[m.toLowerCase()];return O===void 0?{}:h(O,function(x){return _(E.select,x)})},t.getAlpha2Code=function(m,E){const O=D=>D.toLowerCase(),x=(D,F)=>O(D)===O(F);try{const D=n[E.toLowerCase()];for(const F in D)if(d(D,F)){if(typeof D[F]=="string"&&x(D[F],m))return F;if(Array.isArray(D[F])){for(const $ of D[F])if(x($,m))return F}}return}catch{return}},t.getSimpleAlpha2Code=function(m,E){const O=D=>s(D.toLowerCase()),x=(D,F)=>O(D)===O(F);try{const D=n[E.toLowerCase()];for(const F in D)if(d(D,F)){if(typeof D[F]=="string"&&x(D[F],m))return F;if(Array.isArray(D[F])){for(const $ of D[F])if(x($,m))return F}}return}catch{return}},t.getAlpha2Codes=function(){return i},t.getAlpha3Code=function(m,E){const O=t.getAlpha2Code(m,E);if(O)return t.toAlpha3(O)},t.getSimpleAlpha3Code=function(m,E){const O=t.getSimpleAlpha2Code(m,E);if(O)return t.toAlpha3(O)},t.getAlpha3Codes=function(){return o},t.getNumericCodes=function(){return l},t.langs=function(){return Object.keys(n)},t.getSupportedLanguages=function(){return r},t.isValid=function(m){if(!m)return!1;const E=m.toString().toUpperCase();return d(o,E)||d(i,E)||d(l,E)}})(ts);const ns=ms(ts),Dc="th",Tc={BD:"",BE:"",BF:"",BG:"",BA:"",BB:"",WF:"",BL:"",BM:"",BN:"",BO:"",BH:"",BI:"",BJ:"",BT:"",JM:"",BV:"",BW:"",WS:"",BR:"",BS:"",JE:"",BY:"",BZ:"",RU:"",RW:"",RS:"",TL:"",RE:"",TM:"",TJ:"",RO:"",TK:"",GW:"-",GU:"",GT:"",GS:"",GR:"",GQ:"",GP:"",JP:"",GY:"",GG:"",GF:"",GE:"",GD:"",GB:"",GA:"",SV:"",GN:"",GM:"",GL:"",GI:"",GH:"",OM:"",TN:"",JO:"",HR:"",HT:"",HU:"",HK:" ",HN:"",HM:"",VE:"",PR:"",PS:"",PW:"",PT:"",SJ:"",PY:"",IQ:"",PA:"",PF:"",PG:"",PE:"",PK:"",PH:"",PN:"",PL:"",PM:"",ZM:"",EH:"",EE:"",EG:"",ZA:"",EC:"",IT:"",VN:"",SB:"",ET:"",SO:"",ZW:"",SA:"",ES:"",ER:"",ME:"",MD:"",MG:"",MF:"",MA:"",MC:"",UZ:"",MM:" []",ML:"",MO:" ",MN:"",MH:"",MK:"",MU:"",MT:"",MW:"",MV:"",MQ:"",MP:"",MS:"",MR:"",IM:"",UG:"",TZ:"",MY:"",MX:"",IL:"",FR:"",IO:"",SH:"",FI:"",FJ:"",FK:"",FM:"",FO:"",NI:"",NL:"",NO:"",NA:"",VU:"",NC:"",NE:"",NF:"",NG:"",NZ:"",NP:"",NR:"",NU:"",CK:"",CI:"",CH:"",CO:"",CN:"",CM:"",CL:"",CC:"",CA:"",CG:"-",CF:"",CD:"-",CZ:"",CY:"",CX:"",CR:"",CV:"",CU:"",SZ:"",SY:"",KG:"",KE:"",SR:"",KI:"",KH:"",KN:"",KM:"",ST:"",SK:"",KR:"",SI:"",KP:"",KW:"",SN:"",SM:"",SL:"",SC:"",KZ:"",KY:"",SG:"",SE:"",SD:"",DO:"",DM:"",DJ:"",DK:"",VG:"",DE:"",YE:"",DZ:"",US:"",UY:"",YT:"",UM:"",LB:"",LC:"",LA:"",TV:"",TW:"",TT:"",TR:"",LK:"",LI:"",LV:"",TO:"",LT:"",LU:"",LR:"",LS:"",TH:"",TF:"",TG:"",TD:"",TC:"",LY:"",VA:"",VC:"",AE:"",AD:"",AG:"",AF:"",AI:"",VI:"",IS:"",IR:"",AM:"",AL:"",AO:"",AQ:"",AS:"",AR:"",AU:"",AT:"",AW:"",IN:"",AX:"",AZ:"",IE:"",ID:"",UA:"",QA:"",MZ:"",BQ:", , ",CW:"",SX:"Sint Maarten ()",SS:"",XK:""},Rc={locale:Dc,countries:Tc};ns.registerLocale(Rc);const Un=({name:t,value:e,onChange:r,errors:s,touched:n,label:i=""})=>{const[o,l]=C.useState([]);C.useEffect(()=>{const c=ns.getNames("th",{select:"official"}),d=Object.entries(c).map(([h,_])=>({value:h,label:_})).sort((h,_)=>h.label.localeCompare(_.label,"th"));l(d)},[]);const a=c=>{const d=c?c.value:null;r(t,d)};return u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:i}),u.jsx(Pe,{options:o,value:o.find(c=>c.value===e)||null,onChange:a,placeholder:"...",isClearable:!0,noOptionsMessage:()=>""}),n[t]&&s[t]&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:s[t]})]})},Mc=({values:t,errors:e,touched:r,setFieldValue:s,fertilizerTypes:n,companyData:i})=>{const[o,l]=C.useState(!1),[a,c]=C.useState(null),[d,h]=C.useState({}),_=i.find(v=>v.company_id===t.company_id),b=[{value:"is_single_fertilizer",label:""},{value:"is_compound_fertilizer",label:""},{value:"is_mixed_fertilizer",label:""},{value:"is_secondary_nutrient_fertilizer",label:"-"}],y=[{value:"g",label:""},{value:"kg",label:""},{value:"oz",label:""},{value:"ml",label:""},{value:"L",label:""}],f={request_id:null,fertilizerCategory:null,fertilizer_type_id:null,color:"",fertilizer_formula:"",common_name:"",trade_name:"",trademark:"",manufacturer:"",manufacturer_country:"",supplier:"",supplier_country:"",composition:"",sample_weight:null,sample_weight_unit:null,packaging_id:null,packaging_other:null,submission_id:null,test_items:[]},g=t.sample_type_id,[p,I]=C.useState(f),[A,w]=C.useState([]),[m,E]=C.useState([]),O=Ee({fertilizerCategory:P().required("").oneOf(["is_single_fertilizer","is_compound_fertilizer","is_mixed_fertilizer","is_secondary_nutrient_fertilizer"],""),fertilizer_type_id:ge().required(""),packaging_id:ge().required(""),color:P().required(""),fertilizer_formula:P().required(""),common_name:P().required(""),trade_name:P().required(""),trademark:P().required(""),manufacturer:P().required(""),manufacturer_country:P().required(""),supplier:P().required(""),supplier_country:P().required(""),composition:P().required(""),sample_weight:ge().required("").typeError(""),sample_weight_unit:P().required(""),test_items:Me().min(1,"").of(Ee({test_item_id:ge().required(""),test_percentage:P().test("requires-percentage","",function(v){const k=this.parent.test_item_id;return[1,3,5,7,10,15].includes(k)?v!=null&&v!==""&&/^\d+(\.\d+)?$/.test(v):!0})}))});C.useEffect(()=>{x(),D()},[]);const x=async()=>{const v=await Cs();w(v)},D=async()=>{try{const v=await Is(g);console.log("handleGetTestItems:",v),E(v)}catch(v){console.error("Error fetching test items:",v),E([])}},F=v=>{I({...p,fertilizerCategory:v?v.value:null})},$=async()=>{try{if(console.log("formData before validation:",p),await O.validate(p,{abortEarly:!1}),a!==null){const v=[...t.fertilizerRecords];v[a]=p,s("fertilizerRecords",v),c(null)}else s("fertilizerRecords",[...t.fertilizerRecords,p]);l(!1),I(f),h({})}catch(v){console.log("Caught error:",v);const k={};v.name==="ValidationError"&&Array.isArray(v.inner)?v.inner.forEach(N=>{k[N.path]=N.message}):k.general=v.message||"",h(k),console.log("Validation errors in Modal:",k)}},U=v=>{I(t.fertilizerRecords[v]),c(v),l(!0)},ne=()=>{I(f),c(null),l(!0)},te=v=>[1,3,5,7,10,15].includes(v),q=(v,k)=>{const N=k?[...p.test_items,{test_item_id:v,test_percentage:""}]:p.test_items.filter(W=>W.test_item_id!==v);I({...p,test_items:N}),console.log("Updated test_items:",N)},G=(v,k)=>{const N=p.test_items.map(W=>W.test_item_id===v?{...W,test_percentage:k}:W);I({...p,test_items:N}),console.log("Updated test_items with percentage:",N)};return u.jsx(me,{children:u.jsxs(L,{children:[u.jsx(Q,{className:"m-0",children:u.jsxs(Q.Body,{className:"pb-2 pt-4",children:[u.jsxs(me,{className:"mb-4",children:[u.jsx("h5",{className:"mb-3",children:""}),u.jsx(L,{md:6,className:"mb-2",children:u.jsxs("p",{className:"mb-0",children:[" : ",u.jsx("strong",{className:"text-dark",children:_.company_name})]})}),u.jsx(L,{md:6,className:"mb-2",children:u.jsxs("p",{className:"mb-0",children:[" : ",u.jsx("strong",{className:"text-dark",children:_.tax_id})]})}),u.jsx(L,{md:6,className:"mb-2",children:u.jsxs("p",{className:"mb-0",children:[" : ",u.jsx("strong",{className:"text-dark",children:_.company_address})]})})]}),u.jsx("h5",{className:"mb-4",children:""}),u.jsxs(Rs,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"#"}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{children:""}),u.jsx("th",{className:"text-center",children:"Action"})]})}),u.jsx("tbody",{children:t.fertilizerRecords.length>0?t.fertilizerRecords.map((v,k)=>{var N,W,_e;return u.jsxs("tr",{children:[u.jsx("td",{children:k+1}),u.jsx("td",{children:((N=b.find(B=>B.value===v.fertilizerCategory))==null?void 0:N.label)||"-"}),u.jsx("td",{children:((W=n.find(B=>B.fertilizer_type_id===v.fertilizer_type_id))==null?void 0:W.fertilizer_type_name)||"-"}),u.jsx("td",{children:v.color||"-"}),u.jsx("td",{children:v.fertilizer_formula||"-"}),u.jsx("td",{children:v.common_name||"-"}),u.jsx("td",{children:((_e=A.find(B=>B.packaging_type_id===v.packaging_id))==null?void 0:_e.packaging_type_name)||"-"}),u.jsx("td",{children:v.trade_name||"-"}),u.jsx("td",{children:v.trademark||"-"}),u.jsx("td",{children:v.test_items.map(B=>{var Z;const K=((Z=m.find(se=>se.test_item_id===B.test_item_id))==null?void 0:Z.test_code)||B.test_item_id;return B.test_percentage?`${K} (${B.test_percentage})`:K}).join(", ")||"-"}),u.jsx("td",{className:"text-center",children:u.jsxs(Ms,{children:[u.jsx(J,{variant:"info",size:"sm",onClick:()=>U(k),children:u.jsx(gs,{})}),u.jsx(J,{variant:"danger",size:"sm",onClick:()=>{const B=t.fertilizerRecords.filter((K,Z)=>Z!==k);s("fertilizerRecords",B)},children:u.jsx(Ts,{})})]})})]},k)}):u.jsx("tr",{children:u.jsx("td",{colSpan:"11",className:"text-center",children:""})})})]}),e.fertilizerRecords&&u.jsx("div",{className:"text-danger mb-4",children:e.fertilizerRecords}),u.jsxs(J,{variant:"primary",onClick:ne,children:[u.jsx("i",{className:"feather icon-plus"})," "]})]})}),u.jsxs(fe,{size:"xl",show:o,onHide:()=>l(!1),centered:!0,backdrop:"static",keyboard:!1,children:[u.jsx(fe.Header,{closeButton:!0,children:u.jsx(fe.Title,{className:"text-center",children:u.jsx("h5",{className:"text-center mb-0",children:a!==null?"":""})})}),u.jsx(fe.Body,{children:u.jsx(S,{children:u.jsxs(me,{className:"d-flex align-items-start",children:[u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(Pe,{options:b,value:b.find(v=>v.value===p.fertilizerCategory)||null,onChange:F,placeholder:""}),d.fertilizerCategory&&u.jsx("div",{className:"text-danger",children:d.fertilizerCategory})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(Pe,{options:n.map(v=>({value:v.fertilizer_type_id,label:v.fertilizer_type_name||v})),value:n.map(v=>({value:v.fertilizer_type_id,label:v.fertilizer_type_name||v})).find(v=>v.value===p.fertilizer_type_id)||null,onChange:v=>I({...p,fertilizer_type_id:v?v.value:null}),placeholder:""}),d.fertilizer_type_id&&u.jsx("div",{className:"text-danger",children:d.fertilizer_type_id})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(Pe,{options:A.map(v=>({value:v.packaging_type_id,label:v.packaging_type_name||v})),value:A.map(v=>({value:v.packaging_type_id,label:v.packaging_type_name||v})).find(v=>v.value===p.packaging_id)||null,onChange:v=>I({...p,packaging_id:v?v.value:null}),placeholder:""}),d.packaging_id&&u.jsx("div",{className:"text-danger",children:d.packaging_id})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",name:"color",placeholder:"",value:p.color,onChange:v=>I({...p,color:v.target.value}),isInvalid:!!d.color}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.color})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.fertilizer_formula,onChange:v=>I({...p,fertilizer_formula:v.target.value}),isInvalid:!!d.fertilizer_formula}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.fertilizer_formula})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.common_name,onChange:v=>I({...p,common_name:v.target.value}),isInvalid:!!d.common_name}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.common_name})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.trade_name,onChange:v=>I({...p,trade_name:v.target.value}),isInvalid:!!d.trade_name}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.trade_name})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.trademark,onChange:v=>I({...p,trademark:v.target.value}),isInvalid:!!d.trademark}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.trademark})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:" (///)"}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.manufacturer,onChange:v=>I({...p,manufacturer:v.target.value}),isInvalid:!!d.manufacturer}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.manufacturer})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(Un,{name:"manufacturer_country",value:p.manufacturer_country,onChange:(v,k)=>I({...p,[v]:k}),errors:d,touched:{manufacturer_country:!0},label:""}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.manufacturer_country})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:" (///)"}),u.jsx(S.Control,{type:"text",placeholder:"",value:p.supplier,onChange:v=>I({...p,supplier:v.target.value}),isInvalid:!!d.supplier}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.supplier})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(Un,{name:"supplier_country",value:p.supplier_country,onChange:(v,k)=>I({...p,[v]:k}),errors:d,touched:{supplier_country:!0},label:""}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.supplier_country})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx(S.Control,{type:"text",rows:3,placeholder:"",value:p.composition,onChange:v=>I({...p,composition:v.target.value}),isInvalid:!!d.composition}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.composition})]})}),u.jsx(L,{md:6,className:"align-items-start",children:u.jsxs(Lt,{direction:"horizontal",className:"align-items-start",gap:3,children:[u.jsxs(S.Group,{className:"mb-3",style:{flex:1},children:[u.jsx(S.Label,{children:"(/)"}),u.jsx(S.Control,{type:"text",placeholder:"/",value:p.sample_weight,onChange:v=>I({...p,sample_weight:v.target.value}),isInvalid:!!d.sample_weight}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.sample_weight})]}),u.jsxs(S.Group,{className:"mb-3",style:{flex:1},children:[u.jsx(S.Label,{children:"(/) "}),u.jsx("div",{children:u.jsx(Pe,{options:y,value:y.find(v=>v.value===p.sample_weight_unit)||null,onChange:v=>I({...p,sample_weight_unit:v?v.value:""}),placeholder:"...",isClearable:!0})}),u.jsx(S.Control.Feedback,{type:"invalid",children:d.sample_weight_unit})]})]})}),u.jsx(L,{md:12,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),d.test_items&&u.jsx("div",{className:"text-danger",children:d.test_items}),u.jsx(me,{children:m.map(v=>{var k;return u.jsxs(L,{className:" align-items-start",md:3,xs:4,style:{marginBottom:"10px"},children:[u.jsx(S.Check,{inline:!0,id:`test_item-${v.test_item_id}`,type:"checkbox",label:v.test_code,checked:p.test_items.some(N=>N.test_item_id===v.test_item_id),onChange:N=>q(v.test_item_id,N.target.checked)}),te(v.test_item_id)&&p.test_items.some(N=>N.test_item_id===v.test_item_id)&&u.jsx(S.Control,{type:"text",placeholder:" % ( 10%)",value:((k=p.test_items.find(N=>N.test_item_id===v.test_item_id))==null?void 0:k.test_percentage)||"",onChange:N=>G(v.test_item_id,N.target.value),style:{display:"inline-block",width:"60%",marginLeft:"10px"},isInvalid:!!d[`test_items[${p.test_items.findIndex(N=>N.test_item_id===v.test_item_id)}].test_percentage`]}),te(v.test_item_id)&&p.test_items.some(N=>N.test_item_id===v.test_item_id)&&u.jsx(S.Control.Feedback,{type:"invalid",children:d[`test_items[${p.test_items.findIndex(N=>N.test_item_id===v.test_item_id)}].test_percentage`]})]},v.test_item_id)})})]})})]})})}),u.jsxs(fe.Footer,{children:[u.jsx(J,{variant:"success",onClick:$,children:""}),u.jsx(J,{variant:"danger",onClick:()=>l(!1),children:""})]})]})]})})},Fc=({values:t,errors:e,touched:r,handleChange:s,handleBlur:n,setFieldValue:i,companyData:o})=>{const l=o.find(f=>f.company_id===t.company_id),{getRootProps:a,getInputProps:c,isDragActive:d}=Fs({onDrop:f=>{const g=Array.isArray(t.files)?t.files:[];i("files",[...g,...f])},accept:{"image/*":[".png",".jpg",".jpeg",".gif"],"application/pdf":[".pdf"]}}),h=f=>{const g=t.files.filter((p,I)=>I!==f);i("files",g)},_=[{value:"is_self_pickup",label:""},{value:"pdf_email",label:" pdf  E-mail"},{value:"is_mail_delivery",label:""}],b=[{value:"is_lab_dispose_sample",label:""},{value:"is_collect_within_3_months",label:" 3 "},{value:"is_return_sample",label:""}],y=f=>{i("sameAddress",f),f&&(l!=null&&l.document_address)?i("sr_mail_delivery_location",l.document_address):i("sr_mail_delivery_location","")};return u.jsx(me,{children:u.jsx(L,{children:u.jsx(Q,{className:"m-0",children:u.jsx(Q.Body,{className:"pb-2 pt-4",children:u.jsxs(me,{children:[u.jsx(L,{md:12,children:u.jsx("h6",{className:"mb-3",children:""})}),u.jsx(L,{md:12,children:u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx("div",{children:_.map((f,g)=>u.jsxs(Lt,{direction:"row",spacing:1,sx:{mb:2},children:[u.jsx(S.Check,{type:"checkbox",name:"reportMethod",value:f.value,label:f.label,checked:t.reportMethod.includes(f.value),onChange:p=>{const I=t.reportMethod.includes(f.value)?t.reportMethod.filter(A=>A!==f.value):[...t.reportMethod,f.value];i("reportMethod",I)},id:`reportCheck${g}`,isInvalid:r.reportMethod&&!!e.reportMethod}),f.value==="pdf_email"&&t.reportMethod.includes("pdf_email")&&u.jsxs(L,{md:6,className:"mb-3 ps-4 pe-4",children:[u.jsx(S.Label,{children:"E-mail  :"}),u.jsx(S.Control,{type:"email",name:"email",placeholder:"",value:t.email,onChange:s,onBlur:n,isInvalid:r.email&&!!e.email}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.email})]}),f.value==="is_mail_delivery"&&t.reportMethod.includes("is_mail_delivery")&&u.jsxs(L,{md:6,className:"mt-1 ps-4 pe-4",children:[u.jsx(S.Check,{inline:!0,type:"radio",name:"sameAddress",label:"",checked:t.sameAddress,onChange:()=>y(!0),id:"sameAddressCheck1"}),u.jsx(S.Check,{inline:!0,type:"radio",name:"sameAddress",label:"",checked:!t.sameAddress,onChange:()=>y(!1),id:"sameAddressCheck2"}),t.sameAddress&&(l!=null&&l.document_address)?u.jsxs(S.Group,{md:6,className:"mb-3",children:[u.jsx(S.Label,{children:" :"}),u.jsx(S.Control,{type:"text",name:"sr_mail_delivery_location",value:t.sr_mail_delivery_location||l.document_address,readOnly:!0})]}):!t.sameAddress&&u.jsxs(me,{className:"mb-3 ps-4 pe-4",children:[u.jsx(L,{md:6,children:u.jsxs(S.Group,{children:[u.jsx(S.Label,{children:" :"}),u.jsx(S.Control,{type:"text",name:"sr_mail_delivery_location",placeholder:"",value:t.sr_mail_delivery_location,onChange:s,onBlur:n,isInvalid:r.sr_mail_delivery_location&&!!e.sr_mail_delivery_location}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.sr_mail_delivery_location})]})}),u.jsx(L,{md:6,children:u.jsxs(S.Group,{children:[u.jsx(S.Label,{children:" :"}),u.jsx(S.Control,{type:"text",name:"phone",placeholder:"",value:t.phone,onChange:s,onBlur:n,isInvalid:r.phone&&!!e.phone}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.phone})]})})]})]})]},g))}),r.reportMethod&&e.reportMethod&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.reportMethod})]})}),u.jsxs(L,{md:12,children:[u.jsxs(S.Group,{children:[u.jsx(S.Label,{className:"text-dark",children:" :"}),u.jsxs("div",{children:[u.jsx(S.Check,{inline:!0,type:"radio",name:"test_all_items",label:"",checked:t.test_all_items,onChange:()=>i("test_all_items",!0),id:"test_all_items-1"}),u.jsx(S.Check,{inline:!0,type:"radio",name:"test_all_items",label:"",checked:!t.test_all_items,onChange:()=>i("test_all_items",!1),id:"test_all_items-2"})]}),r.test_all_items&&e.test_all_items&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.test_all_items})]}),u.jsxs(S.Group,{className:"mb-3",children:[u.jsx(S.Label,{children:""}),u.jsx("div",{children:b.map((f,g)=>u.jsx(S.Check,{inline:!0,type:"radio",name:"sampleDisposal",value:f.value,label:f.label,checked:t.sampleDisposal===f.value,onChange:s,id:`sampleCheck${g}`},g))}),r.sampleDisposal&&e.sampleDisposal&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.sampleDisposal})]})]}),u.jsx("h6",{className:"mb-1",children:""}),u.jsx(L,{md:4,children:u.jsxs(S.Group,{className:"mb-3 mt-2",children:[u.jsx(S.Label,{children:":"}),u.jsx(S.Control,{type:"text",name:"submitted_by",placeholder:"-",value:t.submitted_by,onChange:s,onBlur:n,isInvalid:r.submitted_by&&!!e.submitted_by}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.submitted_by})]})}),u.jsx(L,{md:4,children:u.jsxs(S.Group,{className:"mb-3 mt-2",children:[u.jsx(S.Label,{children:" :"}),u.jsx(S.Control,{type:"text",name:"submitted_phone",placeholder:"",value:t.submitted_phone,onChange:s,onBlur:n,isInvalid:r.submitted_phone&&!!e.submitted_phone}),u.jsx(S.Control.Feedback,{type:"invalid",children:e.submitted_phone})]})}),u.jsx(L,{md:4,children:u.jsxs(S.Group,{className:"mb-3 mt-2",children:[u.jsx(S.Label,{children:" :"}),u.jsx(ws,{fullWidth:!0,type:"date",id:"submitted_date",name:"submitted_date",value:t.submitted_date,onChange:s,onBlur:n,error:r.submitted_date&&!!e.submitted_date,helperText:r.submitted_date&&e.submitted_date})]})}),u.jsxs(L,{md:12,children:[u.jsx("h6",{className:"mb-2",children:""}),u.jsxs(S.Group,{className:"mb-3 mt-2",children:[u.jsx(S.Label,{children:" :"}),u.jsxs("div",{...a(),style:{border:"2px dashed #04a9f5",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:d?"#e6f7ff":"#f8f9fa"},children:[u.jsx("input",{...c()}),d?u.jsx("p",{style:{marginBottom:0},children:"Drop your files here..."}):u.jsx("p",{style:{marginBottom:0},children:"Drag and drop files here, or click to select files"})]}),u.jsx("ul",{className:"mt-3",children:t.files&&t.files.map((f,g)=>u.jsxs("li",{style:{display:"flex",alignItems:"center"},children:[u.jsx("i",{className:"feather icon-file",style:{marginRight:12}}),f.name,u.jsx(J,{variant:"link",size:"sm",className:"text-danger",style:{marginLeft:10},onClick:()=>h(g),children:u.jsx("i",{className:"feather icon-trash-2"})})]},g))}),r.files&&e.files&&u.jsx(S.Control.Feedback,{type:"invalid",style:{display:"block"},children:e.files})]})]})]})})})})})},Pc=({onHandleSave:t,userId:e,sampleType:r})=>{const s=$n(),[n,i]=C.useState(1),[o,l]=C.useState([]),[a,c]=C.useState([]),[d,h]=C.useState({}),_={user_id:e,company_id:null,analysisMethod:"is_registration_analysis",notes:"",sample_type_id:r,fertilizerRecords:[],reportMethod:[],email:"",sameAddress:!0,sr_mail_delivery_location:"",phone:"",otherRequirements:"",files:[],sampleDisposal:"is_lab_dispose_sample",is_self_pickup:0,pdf_email:"",is_mail_delivery:0,is_lab_dispose_sample:1,is_collect_within_3_months:0,is_return_sample:0,test_all_items:1,submitted_by:"",submitted_date:"",submitted_phone:""},y=[Ee({company_id:P().required(""),analysisMethod:P().required("").oneOf(["is_registration_analysis","is_quality_check_analysis"],""),notes:P().max(500," 500 ").optional()}),Ee({fertilizerRecords:Me().min(1,"").of(Ee({fertilizerCategory:P().required("").oneOf(["is_single_fertilizer","is_compound_fertilizer","is_mixed_fertilizer","is_secondary_nutrient_fertilizer"],""),fertilizer_type_id:ge().required("").nullable(),packaging_id:ge().required("").nullable(),color:P().required(""),fertilizer_formula:P().required(""),common_name:P().required(""),trade_name:P().required(""),trademark:P().required(""),manufacturer:P().required(""),manufacturer_country:P().required(""),supplier:P().required(""),supplier_country:P().required(""),composition:P().required(""),sample_weight:ge().required("").typeError(""),sample_weight_unit:P().required(""),test_items:Me().min(1,"").of(Ee({test_item_id:ge().required(""),test_percentage:P().test("requires-percentage","",function(m){const E=this.parent.test_item_id;return[1,3,5,7,10,15].includes(E)?m!=null&&m!==""&&/^\d+(\.\d+)?$/.test(m):!0})}))}))}),Ee({reportMethod:Me().min(1,"").of(P().oneOf(["is_self_pickup","pdf_email","is_mail_delivery"],"")),email:P().test("email-required","",function(m){const E=this.parent.reportMethod;return Array.isArray(E)&&E.includes("pdf_email")?P().email("").isValidSync(m):!0}),sameAddress:en(),sr_mail_delivery_location:P().test("address-required","",function(m){const{reportMethod:E,sameAddress:O}=this.parent;return Array.isArray(E)&&E.includes("is_mail_delivery")&&!O?m!=null&&m.trim()!=="":!0}),phone:P().test("phone-required"," 9-10 ",function(m){const{reportMethod:E,sameAddress:O}=this.parent;return Array.isArray(E)&&E.includes("is_mail_delivery")&&!O?m!=null&&m.trim()!==""&&/^\d{9,10}$/.test(m):!0}),sampleDisposal:P().required("").oneOf(["is_lab_dispose_sample","is_collect_within_3_months","is_return_sample"],""),test_all_items:en().required(""),submitted_by:P().required(""),submitted_phone:P().required("").matches(/^\d{9,10}$/," 9-10 "),submitted_date:P().required(""),files:Me().min(1,"").of(Ss())})][n-1],f=(m,{setErrors:E})=>{y.validate(m,{abortEarly:!1}).then(()=>{i(n+1)}).catch(O=>{const x={};O.name==="ValidationError"&&Array.isArray(O.inner)?O.inner.forEach(D=>{x[D.path]=D.message}):x.general=O.message||"",E(x),console.log("Validation errors:",x)})},g=()=>i(n-1),p=(m,{setSubmitting:E})=>{console.log("Form Values from All Steps:",m),t(m),E(!1)},I=async()=>{try{const m=await Os();l(m)}catch(m){console.log(m)}},A=async()=>{try{const m=await zn();console.log("company:",m),c(m)}catch(m){console.log(m)}},w=async m=>{try{const E=await ys(m);h(Array.isArray(E)?E:[])}catch(E){console.error(E),h([])}};return C.useEffect(()=>{I(),A()},[]),u.jsx(Es,{initialValues:_,validationSchema:y,onSubmit:p,children:({values:m,errors:E,touched:O,handleChange:x,handleBlur:D,setFieldValue:F,handleSubmit:$})=>u.jsx(S,{onSubmit:U=>{U.preventDefault(),n===3&&$(U)},children:u.jsxs(Q,{children:[u.jsx(Q.Header,{children:u.jsx("h5",{children:r===1?"":""})}),u.jsxs(Q.Body,{children:[u.jsxs("ul",{className:"form-stepper form-stepper-horizontal text-center mx-auto pl-0",children:[u.jsx("li",{className:`form-stepper-list text-center ${n===1?"form-stepper-active":n>1?"form-stepper-completed":"form-stepper-unfinished"}`,step:"1",children:u.jsxs("a",{className:"mx-2",children:[u.jsx("span",{className:"form-stepper-circle",children:u.jsx("span",{style:{fontSize:24},children:n===1?"1":u.jsx("i",{className:"feather icon-check"})})}),u.jsx("div",{className:"label",children:""})]})}),u.jsx("li",{className:`form-stepper-list text-center ${n===2?"form-stepper-active":n>2?"form-stepper-completed":"form-stepper-unfinished"}`,step:"2",children:u.jsxs("a",{className:"mx-2",children:[u.jsx("span",{className:"form-stepper-circle",children:u.jsx("span",{style:{fontSize:24},children:n===2?"2":u.jsx("i",{className:"feather icon-check"})})}),u.jsx("div",{className:"label",children:""})]})}),u.jsx("li",{className:`form-stepper-list text-center ${n===3?"form-stepper-active":n>3?"form-stepper-completed":"form-stepper-unfinished"}`,step:"3",children:u.jsxs("a",{className:"mx-2",children:[u.jsx("span",{className:"form-stepper-circle",children:u.jsx("span",{style:{fontSize:24},children:n===3?"3":u.jsx("i",{className:"feather icon-check"})})}),u.jsx("div",{className:"label",children:""})]})})]}),n===1&&u.jsx(ko,{values:m,errors:E,touched:O,handleChange:x,setFieldValue:F,spacialCon:d,handleGetCusSpacialCon:w}),n===2&&u.jsx(Mc,{values:m,errors:E,touched:O,setFieldValue:F,companyData:a,fertilizerTypes:o}),n===3&&u.jsx(Fc,{values:m,errors:E,touched:O,handleChange:x,handleBlur:D,setFieldValue:F,companyData:a})]}),u.jsxs(Q.Footer,{className:"text-start",children:[n>1&&u.jsxs(J,{variant:"secondary",onClick:g,children:[u.jsx("i",{className:"feather icon-arrow-left"})," "]}),n<3?u.jsxs(J,{variant:"primary",onClick:U=>{U.preventDefault(),f(m,{setErrors:F})},children:[" ",u.jsx("i",{className:"feather icon-arrow-right",style:{marginLeft:12,marginRight:0}})]}):u.jsxs(J,{variant:"primary",type:"submit",children:[u.jsx("i",{className:"feather icon-save"})," "]}),u.jsxs(J,{variant:"danger",onClick:()=>s("/user/request"),children:[u.jsx("i",{className:"feather icon-corner-up-left"})," "]})]})]})})})},Jc=()=>{const t=$n(),[e,r]=C.useState(null),[s,n]=C.useState(null),[i,o]=C.useState(!1),[l,a]=C.useState([]);C.useEffect(()=>{const h=localStorage.getItem("authToken");h&&bs(h).then(_=>{a(_.user)})},[]);const c=h=>{r(h),h==="organic"?n(1):h==="chemical"&&n(2)},d=async h=>{const _={user_id:l.user_id,customer_id:h.company_id,is_registration_analysis:h.analysisMethod==="is_registration_analysis"?1:0,is_quality_check_analysis:h.analysisMethod==="is_quality_check_analysis"?1:0,sample_type_id:h.sample_type_id,is_self_pickup:h.reportMethod.includes("is_self_pickup")?1:0,pdf_email:h.reportMethod.includes("pdf_email")?h.email:"",is_mail_delivery:h.reportMethod.includes("is_self_pickup")?1:0,sr_mail_delivery_location:h.sr_mail_delivery_location,notes:h.notes};let b=[];h.fertilizerRecords.forEach(f=>{const g={request_id:null,is_single_fertilizer:f.fertilizerCategory==="is_single_fertilizer"?1:0,is_compound_fertilizer:f.fertilizerCategory==="is_compound_fertilizer"?1:0,is_mixed_fertilizer:f.fertilizerCategory==="is_mixed_fertilizer"?1:0,is_secondary_nutrient_fertilizer:f.fertilizerCategory==="is_secondary_nutrient_fertilizer"?1:0,fertilizer_type_id:f.fertilizer_type_id,color:f.color,fertilizer_formula:f.fertilizer_formula,packaging_other:f.packaging_other,common_name:f.common_name,trade_name:f.trade_name,trademark:f.trademark,manufacturer:f.manufacturer,manufacturer_country:f.manufacturer_country,supplier:f.supplier,supplier_country:f.supplier_country,composition:f.composition,sample_weight:f.sample_weight,sample_weight_unit:f.sample_weight_unit,packaging_id:f.packaging_id,test_all_items:h.test_all_items,is_lab_dispose_sample:h.sampleDisposal==="is_lab_dispose_sample"?1:0,is_collect_within_3_months:h.sampleDisposal==="is_collect_within_3_months"?1:0,is_return_sample:h.sampleDisposal==="is_return_sample"?1:0,submitted_by:h.submitted_by,phone:h.submitted_phone,test_items:f.test_items};b.push(g)});const y=h.files;try{const f=await vs(_);if(f.request_id){for(const p of b){p.request_id=f.request_id;const I=await Ls(p);if(console.log("responseSample:",I),I.submission_id){const A={submission_id:I.submission_id,test_items:p.test_items},w=await Bs(A);console.log("responseTestItem:",w)}}const g=await Po(y);console.log(":",g);for(const p of g){const I=p.fileName.split("/").pop(),A={request_id:f.request_id,uploaded_by:l.user_id,file_name:I,file_path:`/${p.fileName}`},w=await _s(A);console.log("Response from service-request-documents:",w)}o(!0)}}catch(f){console.log("Error:",f),alert(":",f)}};return u.jsxs(u.Fragment,{children:[e===null&&u.jsxs(Q,{children:[u.jsx(Q.Header,{children:u.jsx("h5",{children:""})}),u.jsx(Q.Body,{children:u.jsxs("div",{className:"d-flex justify-content-center",children:[u.jsxs(J,{variant:"info",className:"w-50 py-4 d-flex align-items-center justify-content-center flex-column",onClick:()=>c("organic"),children:[u.jsx(ks,{size:45,className:"mb-2"}),""]}),u.jsxs(J,{variant:"success",className:"w-50  py-4 d-flex align-items-center justify-content-center flex-column",onClick:()=>c("chemical"),children:[u.jsx(Ns,{size:45,className:"mb-2"}),""]})]})})]}),e!==null&&u.jsx(Pc,{userId:l.user_id,onHandleSave:d,sampleType:s}),u.jsxs(fe,{show:i,onHide:()=>o(!1),centered:!0,children:[u.jsxs(fe.Body,{className:"text-center",children:[u.jsx("i",{className:"text-success",style:{fontSize:"3rem"},children:""}),u.jsx("h5",{className:"mt-3",children:""}),u.jsx("p",{children:""})]}),u.jsx(fe.Footer,{children:u.jsx(J,{variant:"success",onClick:()=>t("/user/request/"),children:""})})]})]})};export{Jc as default};
