import{u as x,j as s,R as h,C as i,l as u,L as j,N as f}from"./index-BFZlI6dJ.js";import{F as N,c as g,a as r,b}from"./formik.esm-C2x7TAHR.js";import{S as w}from"./authentication-CXX6Zbhn.js";import{R as v}from"./Row-CSQuKBoM.js";import{C as y}from"./Col-CY34EU4-.js";const q=()=>{const c=x(),o={username:"",first_name:"",last_name:"",email:"",phone:"",role:"user",password:"",confirmPassword:""},d=()=>g({first_name:r().min(3,"ชื่อต้องมีอย่างน้อย 3 ตัวอักษร").required("กรุณากรอกชื่อ"),last_name:r().min(3,"นามสกุลต้องมีอย่างน้อย 3 ตัวอักษร").required("กรุณากรอกนามสกุล"),email:r().email("รูปแบบอีเมล์ไม่ถูกต้อง").required("กรุณากรอกอีเมล์"),phone:r().matches(/^[0-9]{10}$/,"กรุณากรอกเบอร์โทรศัพท์ให้ถูกต้อง (10 หลัก)").required("กรุณากรอกเบอร์โทรศัพท์"),password:r().min(6,"รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร").required("กรุณากรอกรหัสผ่าน"),confirmPassword:r().oneOf([b("password"),null],"รหัสผ่านไม่ตรงกัน").required("กรุณายืนยันรหัสผ่าน")}),p=async(e,{setErrors:t,setStatus:l,setSubmitting:m})=>{try{e.username=e.email,(await w(e)).userId&&(alert("สมัครสมาชิกสำเร็จ กรุณาตรวจสอบอีเมล์เพื่อยืนยันตัวตน"),c("/auth/activate-token"))}catch(a){console.error(a),l({success:!1}),t({submit:a.message}),m(!1)}};return s.jsx(h.Fragment,{children:s.jsx("div",{className:"auth-wrapper",children:s.jsxs("div",{className:"auth-content",children:[s.jsxs("div",{className:"auth-bg",children:[s.jsx("span",{className:"r"}),s.jsx("span",{className:"r s"}),s.jsx("span",{className:"r s"}),s.jsx("span",{className:"r"})]}),s.jsx(i,{className:"borderless",children:s.jsx(v,{className:"align-items-center",children:s.jsx(y,{children:s.jsxs(i.Body,{className:"text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("img",{className:"img-fluid",src:u,alt:"logo",width:120})}),s.jsx("h3",{className:"mb-4",children:"Sign up"}),s.jsx(N,{initialValues:o,validationSchema:d,onSubmit:p,children:({handleChange:e,handleBlur:t,handleSubmit:l,values:m,errors:a,touched:n})=>s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"ชื่อ",name:"first_name",value:m.first_name,onChange:e,onBlur:t}),n.first_name&&a.first_name&&s.jsx("small",{className:"text-danger",children:a.first_name})]}),s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"นามสกุล",name:"last_name",value:m.last_name,onChange:e,onBlur:t}),n.last_name&&a.last_name&&s.jsx("small",{className:"text-danger",children:a.last_name})]}),s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"email",className:"form-control",placeholder:"อีเมล์",name:"email",value:m.email,onChange:e,onBlur:t}),n.email&&a.email&&s.jsx("small",{className:"text-danger",children:a.email})]}),s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"เบอร์โทรศัพท์",name:"phone",value:m.phone,onChange:e,onBlur:t}),n.phone&&a.phone&&s.jsx("small",{className:"text-danger",children:a.phone})]}),s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"password",className:"form-control",placeholder:"รหัสผ่าน",name:"password",value:m.password,onChange:e,onBlur:t}),n.password&&a.password&&s.jsx("small",{className:"text-danger",children:a.password})]}),s.jsxs("div",{className:"form-group mb-3 text-start",children:[s.jsx("input",{type:"password",className:"form-control",placeholder:"ยืนยันรหัสผ่าน",name:"confirmPassword",value:m.confirmPassword,onChange:e,onBlur:t}),n.confirmPassword&&a.confirmPassword&&s.jsx("small",{className:"text-danger",children:a.confirmPassword})]}),s.jsxs("div",{className:"form-check text-start mb-4 mt-2",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"customCheck1"}),s.jsxs("label",{className:"form-check-label",htmlFor:"customCheck1",children:["Send me the ",s.jsx(j,{to:"#",children:"Newsletter"})," weekly."]})]}),s.jsx("button",{type:"submit",className:"btn btn-primary mb-4",children:"Sign up"}),s.jsxs("p",{className:"mb-2",children:["Already have an account?"," ",s.jsx(f,{to:"/auth/signin",className:"f-w-400",children:"Login"})]})]})})]})})})})]})})})};export{q as default};
