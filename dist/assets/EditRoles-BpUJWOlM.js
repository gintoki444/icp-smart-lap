import{u as v,t as C,j as e,R as t,C as p,F as s,B as x}from"./index-DZpC_pHZ.js";import{c as _,a as h,F as R}from"./formik.esm-DH0jrOO4.js";import{a as y}from"./rolesRequest-Bh-L4AxF.js";import{C as r}from"./Card-ZCMDsCmS.js";function B(){var d;const c=v(),o=((d=C().state)==null?void 0:d.roles)||null,j=_().shape({role_name:h().required("กรุณากรอกชื่อ Role"),description:h().required("กรุณากรอกรายละเอียด")});console.log(o);const u={role_id:o.id,role_name:o.role_name,description:o.description},b=async(i,{setErrors:a,setSubmitting:l})=>{console.log("values:",i);const n=await y(i,i.role_id);n?c("/admin/roles-list/"):a({submit:n.message}),l(!1)};return e.jsx(t,{children:e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(t,{children:e.jsx(p,{children:e.jsx(r.Title,{as:"h5",children:"แก้ไขข้อมูล Role"})})})}),e.jsx(r.Body,{children:e.jsx(R,{initialValues:u,validationSchema:j,onSubmit:b,children:({values:i,errors:a,touched:l,handleChange:n,handleBlur:m,handleSubmit:f})=>e.jsxs(s,{onSubmit:f,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"ชื่อ Role :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกชื่อ Role",name:"role_name",value:i.role_name,onChange:n,onBlur:m,isInvalid:l.role_name&&!!a.role_name}),e.jsx(s.Control.Feedback,{type:"invalid",children:a.role_name})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"รายละเอียด :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกรายละเอียด",name:"description",value:i.description,onChange:n,onBlur:m,isInvalid:l.description&&!!a.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:a.description})]}),e.jsx(t,{children:e.jsxs(p,{children:[e.jsxs(x,{variant:"primary",type:"submit",children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(x,{variant:"danger",onClick:()=>c("/admin/roles-list"),className:"ms-2",children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ย้อนกลับ"]})]})})]})})})]})})}export{B as default};
