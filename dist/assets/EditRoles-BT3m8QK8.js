import{u as v,a as C,j as e,R as t,C as p,B as x}from"./index-CMKGjvil.js";import{c as _,a as h,F as R}from"./formik.esm-PXS3-tw9.js";import{a as y}from"./rolesRequest-Bh-L4AxF.js";import{C as r}from"./Card-ltuRbL1m.js";import{F as s}from"./Form-XAT3KesX.js";function L(){var d;const c=v(),n=((d=C().state)==null?void 0:d.roles)||null,j=_().shape({role_name:h().required("กรุณากรอกชื่อ Role"),description:h().required("กรุณากรอกรายละเอียด")});console.log(n);const u={role_id:n.id,role_name:n.role_name,description:n.description},b=async(i,{setErrors:o,setSubmitting:l})=>{console.log("values:",i);const a=await y(i,i.role_id);a?c("/admin/roles-list/"):o({submit:a.message}),l(!1)};return e.jsx(t,{children:e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(t,{children:e.jsx(p,{children:e.jsx(r.Title,{as:"h5",children:"แก้ไขข้อมูล Role"})})})}),e.jsx(r.Body,{children:e.jsx(R,{initialValues:u,validationSchema:j,onSubmit:b,children:({values:i,errors:o,touched:l,handleChange:a,handleBlur:m,handleSubmit:f})=>e.jsxs(s,{onSubmit:f,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"ชื่อ Role :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกชื่อ Role",name:"role_name",value:i.role_name,onChange:a,onBlur:m,isInvalid:l.role_name&&!!o.role_name}),e.jsx(s.Control.Feedback,{type:"invalid",children:o.role_name})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"รายละเอียด :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกรายละเอียด",name:"description",value:i.description,onChange:a,onBlur:m,isInvalid:l.description&&!!o.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:o.description})]}),e.jsx(t,{children:e.jsxs(p,{children:[e.jsxs(x,{variant:"primary",type:"submit",children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(x,{variant:"danger",onClick:()=>c("/admin/roles-list"),className:"ms-2",children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ย้อนกลับ"]})]})})]})})})]})})}export{L as default};
