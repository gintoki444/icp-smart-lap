import{u as b,r as a,j as e,R as y,C as d,B as _,y as x}from"./index-Bq0BSIrC.js";import{p as E}from"./testGroupRequest-74lX6Leo.js";import{C as c}from"./Card-C7kDYjR9.js";import{A as F}from"./Alert-C8ltoKJ3.js";import{F as r}from"./Form-C1nYDdO8.js";import"./CloseButton-DJdHSP0V.js";import"./Transition-DABJrq3x.js";import"./setPrototypeOf-DgZC2w_0.js";const B=()=>{const p=b(),[o,j]=a.useState({group_name_th:"",group_name_en:"",description:""}),[s,m]=a.useState({}),[u,h]=a.useState(null),[i,g]=a.useState(!1),v=()=>{const n={};return o.group_name_th.trim()||(n.group_name_th="กรุณากรอกชื่อกลุ่มทดสอบ (ภาษาไทย)"),o.group_name_en.trim()||(n.group_name_en="กรุณากรอกชื่อกลุ่มทดสอบ (ภาษาอังกฤษ)"),o.description.trim()||(n.description="กรุณากรอกคำอธิบาย"),m(n),Object.keys(n).length===0},l=n=>{const{name:t,value:f}=n.target;j({...o,[t]:f}),m({...s,[t]:""})},C=async n=>{if(n.preventDefault(),!!v()){g(!0),h(null);try{(await E(o)).group_id&&(x.success("เพิ่มกลุ่มทดสอบสำเร็จ!!",{autoClose:3e3}),p("/admin/test-group"))}catch(t){x.error("เกิดข้อผิดพลาดในการเพิ่มกลุ่มทดสอบ กรุณาลองใหม่!!",{autoClose:3e3}),h("เกิดข้อผิดพลาดในการเพิ่มกลุ่มทดสอบ กรุณาลองใหม่"),console.error("Error adding test group:",t)}finally{g(!1)}}};return e.jsx("div",{children:e.jsxs(c,{children:[e.jsx(c.Header,{children:e.jsx("h5",{children:"เพิ่มกลุ่มทดสอบ"})}),e.jsxs(c.Body,{children:[u&&e.jsx(F,{variant:"danger",children:u}),e.jsxs(r,{onSubmit:C,children:[e.jsxs(y,{children:[e.jsx(d,{md:6,className:"mb-3",children:e.jsxs(r.Group,{controlId:"group_name_th",children:[e.jsx(r.Label,{children:"ชื่อกลุ่มทดสอบ (ภาษาไทย)"}),e.jsx(r.Control,{type:"text",name:"group_name_th",value:o.group_name_th,onChange:l,placeholder:"กรอกชื่อกลุ่มทดสอบ (ภาษาไทย)",isInvalid:!!s.group_name_th}),e.jsx(r.Control.Feedback,{type:"invalid",children:s.group_name_th})]})}),e.jsx(d,{md:6,className:"mb-3",children:e.jsxs(r.Group,{controlId:"group_name_en",children:[e.jsx(r.Label,{children:"ชื่อกลุ่มทดสอบ (ภาษาอังกฤษ)"}),e.jsx(r.Control,{type:"text",name:"group_name_en",value:o.group_name_en,onChange:l,placeholder:"กรอกชื่อกลุ่มทดสอบ (ภาษาอังกฤษ)",isInvalid:!!s.group_name_en}),e.jsx(r.Control.Feedback,{type:"invalid",children:s.group_name_en})]})}),e.jsx(d,{md:12,className:"mb-3",children:e.jsxs(r.Group,{controlId:"description",children:[e.jsx(r.Label,{children:"คำอธิบาย"}),e.jsx(r.Control,{as:"textarea",rows:3,name:"description",value:o.description,placeholder:"กรอกคำอธิบาย",onChange:l,isInvalid:!!s.description}),e.jsx(r.Control.Feedback,{type:"invalid",children:s.description})]})})]}),e.jsx(_,{variant:"primary",type:"submit",disabled:i,children:i?"กำลังบันทึก...":"บันทึก"}),e.jsx(_,{variant:"danger",className:"ms-2",onClick:()=>p("/admin/test-group"),disabled:i,children:"กลับ"})]})]})]})})};export{B as default};
