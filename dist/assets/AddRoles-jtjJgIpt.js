import{u,j as e,C as o,B as d}from"./index-BFZlI6dJ.js";import{c as f,a as m,F as b}from"./formik.esm-C2x7TAHR.js";import{p as v}from"./rolesRequest-BlVghC4s.js";import{R as l}from"./Row-CSQuKBoM.js";import{C as p}from"./Col-CY34EU4-.js";import{F as s}from"./Form-FiLb8d9P.js";import"./ElementChildren-CPU8LvB5.js";function S(){const t=u(),x=f().shape({role_name:m().required("กรุณากรอกชื่อ Role"),description:m().required("กรุณากรอกรายละเอียด")}),h=async(r,{setErrors:i,setSubmitting:n})=>{console.log("values:",r);const a=await v(r);a.role_id?(alert("บันทึกข้อมูลสำเร็จ"),t("/admin/roles-list/")):(alert("บันทึกข้อมูลไม่สำเร็จ:",a.message),i({submit:a.message})),n(!1)};return e.jsx(l,{children:e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx(l,{children:e.jsx(p,{children:e.jsx(o.Title,{as:"h5",children:"เพิ่มข้อมูล Role"})})})}),e.jsx(o.Body,{children:e.jsx(b,{initialValues:{role_name:"",description:""},validationSchema:x,onSubmit:h,children:({values:r,errors:i,touched:n,handleChange:a,handleBlur:c,handleSubmit:j})=>e.jsxs(s,{onSubmit:j,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"ชื่อ Role :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกชื่อ Role",name:"role_name",value:r.role_name,onChange:a,onBlur:c,isInvalid:n.role_name&&!!i.role_name}),e.jsx(s.Control.Feedback,{type:"invalid",children:i.role_name})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"รายละเอียด :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกรายละเอียด",name:"description",value:r.description,onChange:a,onBlur:c,isInvalid:n.description&&!!i.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:i.description})]}),e.jsx(l,{children:e.jsxs(p,{children:[e.jsxs(d,{variant:"primary",type:"submit",children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(d,{variant:"danger",onClick:()=>t("/admin/roles-list"),className:"ms-2",children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ย้อนกลับ"]})]})})]})})})]})})}export{S as default};
