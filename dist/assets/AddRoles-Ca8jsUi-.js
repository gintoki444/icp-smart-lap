import{d as u,j as e,R as o,C as d,F as s,B as m}from"./index-Dtqx7INH.js";import{c as b,a as p,F as f}from"./formik.esm-B_wI4ktB.js";import{p as v}from"./rolesRequest-BlVghC4s.js";import{C as r}from"./Card-Bkd81iOt.js";function g(){const t=u(),x=b().shape({role_name:p().required("กรุณากรอกชื่อ Role"),description:p().required("กรุณากรอกรายละเอียด")}),h=async(n,{setErrors:a,setSubmitting:l})=>{console.log("values:",n);const i=await v(n);i.role_id?(alert("บันทึกข้อมูลสำเร็จ"),t("/admin/roles-list/")):(alert("บันทึกข้อมูลไม่สำเร็จ:",i.message),a({submit:i.message})),l(!1)};return e.jsx(o,{children:e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(o,{children:e.jsx(d,{children:e.jsx(r.Title,{as:"h5",children:"เพิ่มข้อมูล Role"})})})}),e.jsx(r.Body,{children:e.jsx(f,{initialValues:{role_name:"",description:""},validationSchema:x,onSubmit:h,children:({values:n,errors:a,touched:l,handleChange:i,handleBlur:c,handleSubmit:j})=>e.jsxs(s,{onSubmit:j,children:[e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"ชื่อ Role :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกชื่อ Role",name:"role_name",value:n.role_name,onChange:i,onBlur:c,isInvalid:l.role_name&&!!a.role_name}),e.jsx(s.Control.Feedback,{type:"invalid",children:a.role_name})]}),e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"รายละเอียด :"}),e.jsx(s.Control,{type:"text",placeholder:"กรอกรายละเอียด",name:"description",value:n.description,onChange:i,onBlur:c,isInvalid:l.description&&!!a.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:a.description})]}),e.jsx(o,{children:e.jsxs(d,{children:[e.jsxs(m,{variant:"primary",type:"submit",children:[e.jsx("i",{className:"feather icon-save"})," บันทึก"]}),e.jsxs(m,{variant:"danger",onClick:()=>t("/admin/roles-list"),className:"ms-2",children:[e.jsx("i",{className:"feather icon-corner-up-left"})," ย้อนกลับ"]})]})})]})})})]})})}export{g as default};
