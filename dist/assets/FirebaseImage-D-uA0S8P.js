import{r as l,M as y,j as o,K as E,Q as a}from"./index-CMKGjvil.js";import{r as R,s as U,g as h}from"./firebaseConfig-pMHECxRz.js";a.string,a.bool,a.bool,a.bool,a.bool;const p=l.forwardRef(({bsPrefix:e,className:t,fluid:n=!1,rounded:u=!1,roundedCircle:c=!1,thumbnail:f=!1,...r},s)=>(e=y(e,"img"),o.jsx("img",{ref:s,...r,className:E(t,n&&`${e}-fluid`,u&&"rounded",c&&"rounded-circle",f&&`${e}-thumbnail`)})));p.displayName="Image";const N=({imagePath:e,alt:t="Image",style:n,thumbnail:u=!0,fallbackImage:c,className:f})=>{const[r,s]=l.useState(null),[x,d]=l.useState(!1),[m,g]=l.useState(null),I=async j=>{try{d(!0);const i=R(U,j),b=await h(i);s(b),g(null)}catch(i){console.error("❌ Error fetching image URL:",i),g("ไม่สามารถโหลดรูปภาพได้"),s(c||null)}finally{d(!1)}};return l.useEffect(()=>{e?I(e):s(null)},[e]),e?x?o.jsx("span",{children:"กำลังโหลด..."}):m&&!r?o.jsx("span",{children:m}):r?o.jsx(p,{src:r,className:f,alt:t,style:n,thumbnail:u}):null:null};export{N as F,p as I};
